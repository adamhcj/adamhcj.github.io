(this.webpackJsonpcrud_app=this.webpackJsonpcrud_app||[]).push([[0],{250:function(e,t,a){},251:function(e,t,a){},473:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(134),l=a.n(o),s=(a(250),a(28)),i=a(29),r=a(36),j=a(62),b=(a(251),a(5)),u=a(35),d=a.n(u),h=a(492),O=a(493),p=a(64),x=a(2);function g(){var e="http://localhost:8080",t=Object(c.useState)([]),a=Object(b.a)(t,2),n=a[0],o=a[1];Object(c.useEffect)((function(){console.log("hello"),d.a.get("".concat(e,"/api/v1/loanpass")).then((function(e){console.log(e.data),o(e.data)}))}),[]);var l=function(t){d.a.delete("".concat(e,"/api/v1/loanpass/").concat(t)).then((function(){d.a.get("".concat(e,"/api/v1/loanpass")).then((function(e){o(e.data)}))}))};return Object(x.jsx)("div",{children:Object(x.jsxs)(h.a,{singleLine:!0,children:[Object(x.jsx)(h.a.Header,{children:Object(x.jsxs)(h.a.Row,{children:[Object(x.jsx)(h.a.HeaderCell,{children:"passId"}),Object(x.jsx)(h.a.HeaderCell,{children:"attractionId"}),Object(x.jsx)(h.a.HeaderCell,{children:"passNumber"}),Object(x.jsx)(h.a.HeaderCell,{children:"previousLoanBy"}),Object(x.jsx)(h.a.HeaderCell,{children:"description"})]})}),Object(x.jsx)(h.a.Body,{children:n.map((function(e){return Object(x.jsxs)(h.a.Row,{children:[Object(x.jsx)(h.a.Cell,{children:e.passId}),Object(x.jsx)(h.a.Cell,{children:e.attractionId}),Object(x.jsx)(h.a.Cell,{children:e.passNumber}),Object(x.jsx)(h.a.Cell,{children:e.previousLoanBy}),Object(x.jsx)(h.a.Cell,{children:e.description}),Object(x.jsx)(p.b,{to:"/react/update",children:Object(x.jsx)(h.a.Cell,{children:Object(x.jsx)(O.a,{onClick:function(){return function(e){var t=e.passId,a=e.attractionId,c=e.passNumber,n=e.previousLoanBy,o=e.description;localStorage.setItem("passId",t),localStorage.setItem("attractionId",a),localStorage.setItem("passNumber",c),localStorage.setItem("previousLoanBy",n),localStorage.setItem("description",o)}(e)},children:"Update"})})}),Object(x.jsx)(h.a.Cell,{children:Object(x.jsx)(O.a,{onClick:function(){return l(e.passId)},children:"Delete"})})]})}))})]})})}var f=a(491),v=a(12);function m(){var e=Object(v.m)(),t=Object(c.useState)(""),a=Object(b.a)(t,2),n=a[0],o=a[1],l=Object(c.useState)(""),s=Object(b.a)(l,2),i=s[0],r=s[1],j=Object(c.useState)(""),u=Object(b.a)(j,2),h=u[0],p=u[1],g=Object(c.useState)(""),m=Object(b.a)(g,2),C=m[0],I=m[1],y=Object(c.useState)(""),S=Object(b.a)(y,2),k=S[0],w=S[1];Object(c.useEffect)((function(){o(localStorage.getItem("passId")),r(localStorage.getItem("attractionId")),p(localStorage.getItem("passNumber")),I(localStorage.getItem("previousLoanBy")),w(localStorage.getItem("description"))}),[]);return Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{className:"create-form",children:[Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"attractionId"}),Object(x.jsx)("input",{placeholder:"attractionId",value:i,onChange:function(e){return r(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"passNumber"}),Object(x.jsx)("input",{placeholder:"passNumber",value:h,onChange:function(e){return p(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"previousLoanBy"}),Object(x.jsx)("input",{placeholder:"previousLoanBy",value:C,onChange:function(e){return I(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"description"}),Object(x.jsx)("input",{placeholder:"description",value:k,onChange:function(e){return w(e.target.value)}})]}),Object(x.jsx)(O.a,{type:"submit",onClick:function(){d.a.put("".concat("http://localhost:8080","/api/v1/loanpass/").concat(n,"?attractionId=").concat(i,"&passNumber=").concat(h,"&previousLoanBy=").concat(C,"&description=").concat(k,")"),null).then((function(){e("/react/read")})).catch((function(e){alert("error in update! staying on this page."+e)}))},children:"Update"})]})})}var C=a(495);function I(){var e="http://localhost:8080",t=Object(v.m)(),a=Object(c.useState)(""),n=Object(b.a)(a,2),o=n[0],l=n[1],s=Object(c.useState)(""),i=Object(b.a)(s,2),r=i[0],j=i[1],u=Object(c.useState)(""),h=Object(b.a)(u,2),p=h[0],g=h[1],m=Object(c.useState)(!1),I=Object(b.a)(m,2),y=I[0],S=I[1];return Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{className:"create-form",children:[Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"attractionId"}),Object(x.jsx)("input",{placeholder:"attractionId",onChange:function(e){return l(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"PassNumber"}),Object(x.jsx)("input",{placeholder:"PassNumber",onChange:function(e){return j(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"description"}),Object(x.jsx)("input",{placeholder:"description",onChange:function(e){return g(e.target.value)}})]}),Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(C.a,{label:"I agree to the Terms and Conditions",onChange:function(e){return S(!y)}})}),Object(x.jsx)(O.a,{onClick:function(){alert("sent a post request:\n"+("{attractioId: "+o+",\n passNumber: "+r+",\n description: "+p+"}")+"\nto ".concat(e,"/api/v1/loanpass")),d.a.post("".concat(e,"/api/v1/loanpass"),{attractionId:o,passNumber:r,description:p}).then((function(){alert("success! going to read page"),t("/react/read")})).catch((function(e){alert("error in creation! staying on this page."+e)}))},type:"submit",children:"Submit"})]})})}a(280);var y=a(143),S=a.n(y),k=a(4),w=a(125),L=a(496),N=a(229),D="http://localhost:8080",F=[];d.a.get("".concat(D,"/api/v1/attractions")).then((function(e){F=[],console.log(e.data),e.data.forEach((function(e){F.push({value:e.attractionID,label:e.name})})),console.log(F)}));var B={option:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},control:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},singleValue:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})}};function P(){var e=Object(c.useState)(),t=Object(b.a)(e,2),a=t[0],n=t[1],o=function(){return Object(x.jsx)(w.a,{placeholder:"Loading options from backend.. please wait",styles:B,options:F,defaultValue:[F[0]],value:a,onChange:function(e){return m(e)}})},l=Object(c.useState)(Object(L.a)(new Date,1)),s=Object(b.a)(l,2),i=s[0],r=s[1],j=Object(c.useState)("click on a date to view waitlist"),u=Object(b.a)(j,2),h=u[0],O=u[1],p=Object(c.useState)([]),g=Object(b.a)(p,2),f=g[0],v=g[1],m=function(e){n(e),C(i,e)},C=function(e,t){r(e),n(t),O("loading..."),console.log(e);var a=e.getDate(),c=e.getMonth()+1,o=e.getFullYear(),l=1;try{l=t.value}catch(i){l=1}console.log(t);var s="".concat(l,",").concat(a,",").concat(c,",").concat(o);d.a.get("".concat(D,"/api/v1/bookingdate/").concat(s)).then((function(e){console.log(e.data),O(e.data.waitingList);var t=e.data.waitingList;v(t.split(","))})).catch((function(e){O("no bookings"),v([])}))};return Object(c.useEffect)((function(){console.log("useEffect only once!"),C(i,a)}),[""]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Place:"}),Object(x.jsx)(o,{}),Object(x.jsx)("br",{}),Object(x.jsx)(N.a,{value:i,onChange:function(e){return C(e,a)}}),Object(x.jsx)("h1",{children:"Waiting list:"}),Object(x.jsx)("p",{children:h}),f.map((function(e,t){return Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){alert("Userid "+e+" details\nname:\ncontact:\nemail:\n")},children:e})},t)}))]})}var E="http://localhost:8080",H=[];d.a.get("".concat(E,"/api/v1/attractions")).then((function(e){H=[],console.log(e.data),e.data.forEach((function(e){H.push({value:e.attractionID,label:e.name})})),console.log(H)}));var A=[{value:"1",label:"1"},{value:"2",label:"2"}],V=[{value:"1",label:"1"},{value:"2",label:"2"}],M={option:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},control:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},singleValue:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})}};function T(){var e=Object(c.useState)(),t=Object(b.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(Object(L.a)(new Date,1)),l=Object(b.a)(o,2),s=l[0],i=l[1],r=Object(c.useState)(),j=Object(b.a)(r,2),u=j[0],h=j[1],O=Object(c.useState)(),p=Object(b.a)(O,2),g=p[0],f=p[1],v=function(){return Object(x.jsx)(w.a,{styles:M,options:V,defaultValue:[V[0]],value:a,onChange:function(e){return n(e)}})},m=function(){return Object(x.jsx)(w.a,{placeholder:"",styles:M,options:H,defaultValue:[],value:u,onChange:function(e){h(e)}})},C=function(){return Object(x.jsx)(w.a,{styles:M,options:A,defaultValue:[],value:g,onChange:function(e){f(e)}})};return Object(c.useEffect)((function(){console.log("useEffect only once!")}),[""]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Loan Application"}),Object(x.jsx)("h1",{children:"UserId:"}),Object(x.jsx)(v,{}),Object(x.jsx)("h1",{children:"No. of Passes:"}),Object(x.jsx)(C,{}),Object(x.jsx)("h1",{children:"Place:"}),Object(x.jsx)(m,{}),Object(x.jsx)("h1",{children:"Date:"}),Object(x.jsxs)("div",{children:[s.getDate(),s.getMonth()+1,s.getFullYear(),Object(x.jsx)(S.a,{onChange:i,value:s,minDate:Object(L.a)(new Date,1),maxDate:Object(L.a)(new Date,56),clearIcon:null,format:"dd/MM/yyyy"})]}),Object(x.jsx)("button",{id:"submitbtn",onClick:function(){var e=s.getDate(),t=s.getMonth()+1,c=s.getFullYear(),n=1,o="1";try{o=a.value}catch(r){console.log(r)}try{n=u.value}catch(r){console.log(r)}var l="".concat(n,",").concat(e,",").concat(t,",").concat(c),i="".concat(o);2==g.value&&(i+=",".concat(o)),alert("User "+o+" sent request to: "+"".concat(E,"/api/v1/loanpass/\n")+"Attraction: "+u.value+" Passes: "+g.value+" Date: "+e+"/"+t+"/"+c),d.a.post("".concat(E,"/api/v1/bookingdate"),{date:l,waitingList:i}).then((function(){alert("Successfully created loan application!")})).catch((function(e){console.log(e),500===e.response.status?d.a.get("".concat(E,"/api/v1/bookingdate/").concat(l)).then((function(e){var t=e.data.waitingList;alert("already booked! waiting list: ".concat(t));var a=t.split(",");a.includes(o)?alert("You are already in the waiting list!"):d.a.get("".concat(E,"/api/v1/loanpass/getbyattraction/").concat(n)).then((function(e){var c=0;if(e.data.forEach((function(e){c++})),console.log(c),a.length+g.value>c){var n="You are not in the waiting list, but there are not enough loan passes available. Do you want to be added to the waiting list?";console.log("too little passes!"),2==g.value&&a.length==c-1&&(n="There is only 1 loan pass to be booked, do you want to book it and be put on the waiting list for the next one?"),window.confirm(n)&&d.a.put("".concat(E,"/api/v1/bookingdate/").concat(l,"?waitingList=").concat(t+","+i),null).then((function(){alert("Successfully added to waiting list!"),alert(t+","+i)})).catch((function(e){alert("error in update! staying on this page."+e),console.log(e)}))}}))})).catch((function(e){console.log(e)})):alert("error:"+e)}))},children:"Submit"})]})}a(468);var U=a(227),Y=a(95),R=a(138),q=a(94);var J=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Home Page"})})},_=function(e){Object(r.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(x.jsx)(p.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(R.a,{bg:"light",expand:"lg",fixed:"top",children:Object(x.jsxs)(U.a,{children:[Object(x.jsx)(R.a.Brand,{href:"#home",children:"Corporate Pass Application"}),Object(x.jsx)(R.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsx)(R.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsxs)(Y.a,{className:"me-auto",defaultActiveKey:"/react",as:"ul",children:[Object(x.jsx)(Y.a.Item,{as:"li",children:Object(x.jsx)(Y.a.Link,{href:"",children:Object(x.jsx)(p.b,{to:"/react",children:"Home"})})}),Object(x.jsx)(Y.a.Item,{as:"li",children:Object(x.jsx)(Y.a.Link,{href:"",children:Object(x.jsx)(p.b,{to:"/react/loan",children:"Loan Application"})})}),Object(x.jsx)(Y.a.Link,{href:"",children:Object(x.jsx)(p.b,{to:"/react/viewbooking",children:"View Booking"})}),Object(x.jsxs)(q.a,{title:"Loan Pass",id:"basic-nav-dropdown",children:[Object(x.jsx)(q.a.Item,{href:"",children:Object(x.jsx)(p.b,{to:"/react/createloanpass",children:"Create Loan Pass"})}),Object(x.jsx)(q.a.Item,{href:"",children:Object(x.jsx)(p.b,{to:"/react/read",children:"Read Loanpasses"})}),Object(x.jsx)(q.a.Item,{href:"",children:"Something"}),Object(x.jsx)(q.a.Divider,{}),Object(x.jsx)(q.a.Item,{href:"",children:"Separated link"})]})]})})]})}),Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("h2",{className:"main-header",children:"Corporate Pass Application"}),Object(x.jsxs)(v.c,{children:[Object(x.jsx)(v.a,{exact:!0,path:"/react",element:Object(x.jsx)(J,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/createloanpass",element:Object(x.jsx)(I,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/read",element:Object(x.jsx)(g,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/update",element:Object(x.jsx)(m,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/loan",element:Object(x.jsx)(T,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/viewbooking",element:Object(x.jsx)(P,{})})]})]})]})})}}]),a}(n.a.Component),K=_,W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,497)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,o=t.getLCP,l=t.getTTFB;a(e),c(e),n(e),o(e),l(e)}))};a(471);l.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(K,{})})),W()}},[[473,1,2]]]);
//# sourceMappingURL=main.47347553.chunk.js.map