(this.webpackJsonpcrud_app=this.webpackJsonpcrud_app||[]).push([[0],{214:function(e,t,a){},215:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(106),s=a.n(o),r=(a(214),a(30)),i=a(31),l=a(36),j=a(75),u=(a(215),a(6)),b=a(447),d=a(451),p=a(449),h=a(29),O=a.n(h),g=a(3);var x=a(448),v=a(68);function f(){var e="https://pip-react-spring-postgres.herokuapp.com",t=Object(c.useState)([]),a=Object(u.a)(t,2),n=a[0],o=a[1];Object(c.useEffect)((function(){console.log("hello"),O.a.get("".concat(e,"/api/v1/loanpass")).then((function(e){console.log(e.data),o(e.data)}))}),[]);var s=function(t){O.a.delete("".concat(e,"/api/v1/loanpass/").concat(t)).then((function(){O.a.get("".concat(e,"/api/v1/loanpass")).then((function(e){o(e.data)}))}))};return Object(g.jsx)("div",{children:Object(g.jsxs)(x.a,{singleLine:!0,children:[Object(g.jsx)(x.a.Header,{children:Object(g.jsxs)(x.a.Row,{children:[Object(g.jsx)(x.a.HeaderCell,{children:"passId"}),Object(g.jsx)(x.a.HeaderCell,{children:"attractionId"}),Object(g.jsx)(x.a.HeaderCell,{children:"passNumber"}),Object(g.jsx)(x.a.HeaderCell,{children:"previousLoanBy"}),Object(g.jsx)(x.a.HeaderCell,{children:"description"})]})}),Object(g.jsx)(x.a.Body,{children:n.map((function(e){return Object(g.jsxs)(x.a.Row,{children:[Object(g.jsx)(x.a.Cell,{children:e.passId}),Object(g.jsx)(x.a.Cell,{children:e.attractionId}),Object(g.jsx)(x.a.Cell,{children:e.passNumber}),Object(g.jsx)(x.a.Cell,{children:e.previousLoanBy}),Object(g.jsx)(x.a.Cell,{children:e.description}),Object(g.jsx)(v.b,{to:"/react/update",children:Object(g.jsx)(x.a.Cell,{children:Object(g.jsx)(p.a,{onClick:function(){return function(e){var t=e.passId,a=e.attractionId,c=e.passNumber,n=e.previousLoanBy,o=e.description;localStorage.setItem("passId",t),localStorage.setItem("attractionId",a),localStorage.setItem("passNumber",c),localStorage.setItem("previousLoanBy",n),localStorage.setItem("description",o)}(e)},children:"Update"})})}),Object(g.jsx)(x.a.Cell,{children:Object(g.jsx)(p.a,{onClick:function(){return s(e.passId)},children:"Delete"})})]})}))})]})})}var m=a(10);function C(){var e=Object(m.m)(),t=Object(c.useState)(""),a=Object(u.a)(t,2),n=a[0],o=a[1],s=Object(c.useState)(""),r=Object(u.a)(s,2),i=r[0],l=r[1],j=Object(c.useState)(""),d=Object(u.a)(j,2),h=d[0],x=d[1],v=Object(c.useState)(""),f=Object(u.a)(v,2),C=f[0],y=f[1],I=Object(c.useState)(""),S=Object(u.a)(I,2),k=S[0],w=S[1];Object(c.useEffect)((function(){o(localStorage.getItem("passId")),l(localStorage.getItem("attractionId")),x(localStorage.getItem("passNumber")),y(localStorage.getItem("previousLoanBy")),w(localStorage.getItem("description"))}),[]);return Object(g.jsx)("div",{children:Object(g.jsxs)(b.a,{className:"create-form",children:[Object(g.jsxs)(b.a.Field,{children:[Object(g.jsx)("label",{children:"attractionId"}),Object(g.jsx)("input",{placeholder:"attractionId",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(g.jsxs)(b.a.Field,{children:[Object(g.jsx)("label",{children:"passNumber"}),Object(g.jsx)("input",{placeholder:"passNumber",value:h,onChange:function(e){return x(e.target.value)}})]}),Object(g.jsxs)(b.a.Field,{children:[Object(g.jsx)("label",{children:"previousLoanBy"}),Object(g.jsx)("input",{placeholder:"previousLoanBy",value:C,onChange:function(e){return y(e.target.value)}})]}),Object(g.jsxs)(b.a.Field,{children:[Object(g.jsx)("label",{children:"description"}),Object(g.jsx)("input",{placeholder:"description",value:k,onChange:function(e){return w(e.target.value)}})]}),Object(g.jsx)(p.a,{type:"submit",onClick:function(){O.a.put("".concat("https://pip-react-spring-postgres.herokuapp.com","/api/v1/loanpass/").concat(n,"?attractionId=").concat(i,"&passNumber=").concat(h,"&previousLoanBy=").concat(C,"&description=").concat(k,")"),null).then((function(){e("/react/read")})).catch((function(e){alert("error in update! staying on this page."+e)}))},children:"Update"})]})})}function y(){var e="https://pip-react-spring-postgres.herokuapp.com",t=Object(m.m)(),a=Object(c.useState)(""),n=Object(u.a)(a,2),o=n[0],s=n[1],r=Object(c.useState)(""),i=Object(u.a)(r,2),l=i[0],j=i[1],h=Object(c.useState)(""),x=Object(u.a)(h,2),v=x[0],f=x[1],C=Object(c.useState)(!1),y=Object(u.a)(C,2),I=y[0],S=y[1];return Object(g.jsx)("div",{children:Object(g.jsxs)(b.a,{className:"create-form",children:[Object(g.jsxs)(b.a.Field,{children:[Object(g.jsx)("label",{children:"attractionId"}),Object(g.jsx)("input",{placeholder:"attractionId",onChange:function(e){return s(e.target.value)}})]}),Object(g.jsxs)(b.a.Field,{children:[Object(g.jsx)("label",{children:"PassNumber"}),Object(g.jsx)("input",{placeholder:"PassNumber",onChange:function(e){return j(e.target.value)}})]}),Object(g.jsxs)(b.a.Field,{children:[Object(g.jsx)("label",{children:"description"}),Object(g.jsx)("input",{placeholder:"description",onChange:function(e){return f(e.target.value)}})]}),Object(g.jsx)(b.a.Field,{children:Object(g.jsx)(d.a,{label:"I agree to the Terms and Conditions",onChange:function(e){return S(!I)}})}),Object(g.jsx)(p.a,{onClick:function(){alert("sent a post request:\n"+("{attractioId: "+o+",\n passNumber: "+l+",\n description: "+v+"}")+"\nto ".concat(e,"/api/v1/loanpass")),O.a.post("".concat(e,"/api/v1/loanpass"),{attractionId:o,passNumber:l,description:v}).then((function(){alert("success! going to read page"),t("/react/read")})).catch((function(e){alert("error in creation! staying on this page."+e)}))},type:"submit",children:"Submit"})]})})}a(244);var I=a(116),S=a.n(I),k=a(452),w=a(194);function L(){var e=Object(c.useState)(Object(k.a)(new Date,1)),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)("click on a date to view waitlist"),s=Object(u.a)(o,2),r=s[0],i=s[1];return Object(g.jsxs)("div",{children:[Object(g.jsx)(w.a,{value:a,onChange:function(e){return function(e){n(e),i("loading..."),console.log(e);var t=e.getDate(),a=e.getMonth()+1,c=e.getFullYear(),o="1,".concat(t,",").concat(a,",").concat(c);O.a.get("".concat("https://pip-react-spring-postgres.herokuapp.com","/api/v1/bookingdate/").concat(o)).then((function(e){console.log(e.data),i(e.data.waitingList)})).catch((function(e){i("no bookings")}))}(e)}}),Object(g.jsx)("h1",{children:"Waiting list:"}),r]})}var N=a(12),D=a(140),F="https://pip-react-spring-postgres.herokuapp.com",B=[{value:"Zoo",label:"Zoo"},{value:"Gardens by the Bay",label:"Gardens by the Bay"},{value:"Duck Tours",label:"Duck Tours"}],P=[{value:"1",label:"1"},{value:"2",label:"2"}],H={option:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black"})},control:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black"})},singleValue:function(e){return Object(N.a)(Object(N.a)({},e),{},{color:"black"})}};function M(){var e=Object(c.useState)(Object(k.a)(new Date,1)),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(B[0]),s=Object(u.a)(o,2),r=s[0],i=s[1],l=Object(c.useState)(P[0]),j=Object(u.a)(l,2),b=j[0],d=j[1],p=function(){return Object(g.jsx)(D.a,{styles:H,options:B,defaultValue:B[0],value:r,onChange:i})},h=function(){return Object(g.jsx)(D.a,{styles:H,options:P,defaultValue:P[0],value:b,onChange:d})};return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Place:"}),Object(g.jsx)(p,{}),r.value,Object(g.jsx)("h1",{children:"No. of Passes:"}),Object(g.jsx)(h,{}),b.value,Object(g.jsx)("h1",{children:"Date:"}),Object(g.jsxs)("div",{children:[a.getDate(),a.getMonth()+1,a.getFullYear(),Object(g.jsx)(S.a,{onChange:n,value:a,minDate:Object(k.a)(new Date,1),maxDate:Object(k.a)(new Date,56),clearIcon:null,format:"dd/MM/yyyy"})]}),Object(g.jsx)("button",{id:"submitbtn",onClick:function(){var e=a.getDate(),t=a.getMonth()+1,c=a.getFullYear(),n="".concat(1,",").concat(e,",").concat(t,",").concat(c),o="1";alert("Sent request to: "+"".concat(F,"/api/v1/loanpass/\n")+"Attraction: "+r.value+" Passes: "+b.value+" Date: "+e+"/"+t+"/"+c),O.a.post("".concat(F,"/api/v1/bookingdate"),{date:n,waitingList:o}).then((function(){alert("Successfully created loan application!")})).catch((function(e){console.log(e),500===e.response.status?O.a.get("".concat(F,"/api/v1/bookingdate/").concat(n)).then((function(e){var t=e.data.waitingList;(alert("already booked! waiting list: ".concat(t)),t.split(",").includes(o))?alert("You are already in the waiting list!"):window.confirm("Would you like to be added to the waiting list?")&&O.a.put("".concat(F,"/api/v1/bookingdate/").concat(n,"?waitingList=").concat(t+","+o),null).then((function(){alert("Successfully added to waiting list!"),alert(t+","+o)})).catch((function(e){alert("error in update! staying on this page."+e),console.log(e)}))})).catch((function(e){console.log(e)})):alert("error:"+e)}))},children:"Submit"})]})}var T=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(g.jsx)(v.a,{children:Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("div",{className:"main",children:[Object(g.jsx)("h2",{className:"main-header",children:"Corporate Pass Application"}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)(v.b,{to:"/react/createloanpass",children:"Create Loan Pass"})}),Object(g.jsx)("li",{children:Object(g.jsx)(v.b,{to:"/react/read",children:"Read Loanpasses"})}),Object(g.jsx)("li",{children:Object(g.jsx)(v.b,{to:"/react/loan",children:"Loan Application"})}),Object(g.jsx)("li",{children:Object(g.jsx)(v.b,{to:"/react/viewbooking",children:"View Booking"})})]}),Object(g.jsxs)(m.c,{children:[Object(g.jsx)(m.a,{exact:!0,path:"/react/createloanpass",element:Object(g.jsx)(y,{})}),Object(g.jsx)(m.a,{exact:!0,path:"/react/read",element:Object(g.jsx)(f,{})}),Object(g.jsx)(m.a,{exact:!0,path:"/react/update",element:Object(g.jsx)(C,{})}),Object(g.jsx)(m.a,{exact:!0,path:"/react/loan",element:Object(g.jsx)(M,{})}),Object(g.jsx)(m.a,{exact:!0,path:"/react/viewbooking",element:Object(g.jsx)(L,{})})]})]})})})}}]),a}(n.a.Component),A=T,R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,453)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,o=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),o(e),s(e)}))};a(432);s.a.createRoot(document.getElementById("root")).render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(A,{})})),R()}},[[434,1,2]]]);
//# sourceMappingURL=main.5abccfdb.chunk.js.map