{"version":3,"sources":["pages/assets/background.mp4","pages/home.js","context/AuthProvider.js","hooks/useAuth.js","pages/authentication/authenticate.js","components/loanpass/read loanpass.js","components/loanpass/update loanpass.js","components/loanpass/create loanpass.js","components/loanpass/loan.js","api/axios.js","hooks/useRefreshToken.js","hooks/useAxiosPrivate.js","components/booking/viewbooking.js","components/emailtemplates/emailTemplateForm.js","pages/emailtemplates/emailTemplateRow.js","pages/emailtemplates/emailTemplatePage.js","pages/emailtemplates/editEmailTemplate.js","pages/emailtemplates/createEmailTemplate.js","pages/users/UsersList.js","pages/attractions/attractionList.js","components/attractions/AttractionForm.js","pages/attractions/createAttractions.js","pages/attractions/updateAttraction.js","components/successloan/employeestatistic.js","components/successloan/monthlystatistic.js","App.js","reportWebVitals.js","index.js"],"names":["Home","useState","useEffect","axios","get","process","then","response","console","log","className","classname","AuthContext","createContext","AuthProvider","children","auth","setAuth","Provider","value","useAuth","useContext","useDebugValue","user","Authenticate","backendDomain","navigate","useNavigate","username","setName","email","setEmail","password","setPassword","phone","setPhone","haveAccount","setHaveAccount","setResult","checkbox","setCheckbox","login","e","preventDefault","params","URLSearchParams","append","Swal","fire","title","allowOutsideClick","didOpen","showLoading","post","catch","err","data","message","icon","text","JSON","stringify","accessToken","access_token","decodedHeader","jwt_decode","payload","roles","response2","id","enabled","alert","sub","close","localStorage","setItem","toggle","class","style","width","height","Form","margin","Field","placeholder","onChange","target","Checkbox","label","Button","onClick","type","phoneNumber","userRoles","name","postRequest","confirmButtonText","Read","APIData","setAPIData","passLimit","setPassLimit","limit","onDelete","delete","getData","put","disabled","to","primary","Table","Header","Row","HeaderCell","Body","map","descriptionSplitted","description","split","status","replacementFee","emailTemplate","attachmentLink","slice","error","Cell","passId","attractionId","passNumber","previousLoanBy","setData","Update","setPassId","setAttractionId","setPassNumber","setPreviousLoanBy","setDescription","setStatus","setType","setReplacementFee","setEmailTemplate","setAttachmentLink","setOldStatus","emailTemplates","setEmailTemplates","attractions","setAttractions","emailTemplateID","setEmailTemplateID","getItem","retrieveAttractions","retrieveEmailTemplates","res","maxWidth","minWidth","attraction","attractionID","emailTemplateId","emailTemplateName","description1","CreateLoanPass","styled","button","options","options1","userOptions","customStyles","option","provided","color","control","singleValue","LoanApplication","forEach","push","setPasses","userlogin","parse","undefined","i","onPassesChange","setUser","addDays","Date","setAttraction","passes","SelectUserComponent","styles","defaultValue","d","isDisabled","SelectAttractionComponent","SelectNoPassesComponent","getDate","getMonth","getFullYear","minDate","maxDate","clearIcon","format","day","month","year","userId","date","length","newwaitingList","waitingList","staffId","waitingListsplitted","includes","toString","loanPasses","loanPass","parseInt","confirmMessage","window","confirm","BASE_URL","create","baseURL","axiosPrivate","headers","useRefreshToken","refresh","x","object_auth","Authorization","useAxiosPrivate","requestIntercept","interceptors","request","use","config","Promise","reject","responseIntercept","prevRequest","sent","newAccessToken","eject","ViewBooking","onAttractionChange","setValue","waitList","setWaitList","waitListArray","setWaitListArray","onDateChange","newAttraction","myDate","tempwaitingList","item","index","output","entry","today","diffTime","newWaitingList","replaceAll","successLoan","successLoanId","EmailTemplateForm","props","emailTemplateBody","setEmailTemplateBody","setEmailTemplateName","template","padding","tagName","tagValue","tag","tags","currSelection","getSelection","parentNode","getRangeAt","startContainer","offSetPos","startOffset","currPara","currentContent","innerText","currContentStart","currContentEnd","textContent","insertSymbol","theme","EmailTemplateRow","EmailTemplatePage","getEmailTemplates","TableContainer","component","Paper","elavation","sx","border","TableHead","TableCell","TableHeader","align","TableBody","TableRow","IconButton","EditEmailTemplate","useParams","getCurrentEmailTemplate","callAsyncFunctions","CreateEmailTemplate","UsersList","users","setUsers","isMounted","controller","AbortController","getUsers","signal","abort","upgradeToAdmin","roleName","React","open","setOpen","handleClose","state","file","files","handleFile","variant","formdata","FormData","method","url","helpUpload","Dialog","onClose","DialogTitle","DialogContent","DialogActions","autoFocus","elevation","role","AttractionList","getAttractions","passType","totalPasses","href","AttractionForm","setPassType","setTotalPasses","min","step","CreateAttractions","UpdateAttraction","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","EmployeeStatistics","chartData","setChartData","loading","setLoading","setOptions","employeeId","setEmployeeId","chartMode","setChartMode","labels","setLabels","setYear","yearlist","setYearList","handleCMSubmit","event","loanlist","biannlist","halfmonths","successfulloan","templist","Object","keys","sort","j","k","datasets","backgroundColor","borderColor","responsive","maintainAspectRatio","plugins","legend","position","display","MonthlyStatistics","loanlistconst","setLoanListConst","borrowlist","Set","borrowcount","add","size","App","logout","Navbar","bg","expand","fixed","Container","Brand","Toggle","Collapse","Nav","defaultActiveKey","as","Item","Link","NavDropdown","autoPlay","loop","muted","src","vid_background","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.7afe4a9a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/background.73eb230b.mp4\";","import React, { useState,useEffect } from \"react\";\r\nimport { Button, Checkbox, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Home() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const [user, setUser] = useState(null);\r\n    const getCurrentUser = () => {\r\n        axios\r\n            .get(`${backendDomain}/api/v1/login/logged`)\r\n            .then((response) => console.log(response));\r\n    };\r\n    useEffect(()=>{\r\n        getCurrentUser();\r\n    },[])\r\n    return <div>        \r\n        <div className=\"content\">\r\n            <h1 classname = \"main-header\">Corporate Pass Application</h1>\r\n            <h2>Welcome Home!</h2>\r\n        </div>\r\n\r\n        </div>;\r\n}\r\n\r\n","import { createContext, useState } from \"react\";\r\n\r\nconst AuthContext = createContext({});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [auth, setAuth] = useState({});\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ auth, setAuth }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContext;\r\n","import { useContext, useDebugValue } from \"react\";\r\nimport AuthContext from \"../context/AuthProvider\";\r\n\r\nconst useAuth = () => {\r\n  const { auth } = useContext(AuthContext);\r\n  useDebugValue(auth, (auth) => (auth?.user ? \"Logged In\" : \"Logged Out\"));\r\n  return useContext(AuthContext);\r\n};\r\n\r\nexport default useAuth;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Checkbox, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nexport default function Authenticate() {\r\n  const backendDomain = process.env.REACT_APP_backendDomain;\r\n  const navigate = useNavigate();\r\n  const [username, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [haveAccount, setHaveAccount] = useState(false);\r\n\r\n  const [result, setResult] = useState(0);\r\n\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth, \"NICEEEEEEE\");\r\n\r\n  const [checkbox, setCheckbox] = useState(false);\r\n  const register = () => {\r\n    // fire sweet alert registering account\r\n    Swal.fire({\r\n      title: \"Registering Account\",\r\n      text: \"Please wait...\",\r\n      allowOutsideClick: false,\r\n      didOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n\r\n    axios\r\n      .post(`${backendDomain}/api/v1/user/save`, {\r\n        username,\r\n        email,\r\n        password,\r\n        phoneNumber: phone,\r\n        userRoles: [\r\n          {\r\n            id: 1,\r\n            name: \"ROLE_USER\",\r\n          },\r\n        ],\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        setHaveAccount(!haveAccount);\r\n        console.log(\"have accounttt\", haveAccount);\r\n\r\n        const postRequest =\r\n          \"{username: \" +\r\n          username +\r\n          \",\\n email: \" +\r\n          email +\r\n          \",\\n password: \" +\r\n          password +\r\n          \",\\n phoneNumber: \" +\r\n          phone +\r\n          \",\\n userRoles: \" +\r\n          JSON.stringify([\r\n            {\r\n              id: 1,\r\n              name: \"ROLE_USER\",\r\n            },\r\n          ]) +\r\n          \"}\";\r\n\r\n        Swal.close();\r\n        alert(\r\n          \"sent a post request:\\n\" +\r\n            postRequest +\r\n            `\\nto ${backendDomain}/api/v1/user/save`\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data.message);\r\n        // fire sweet alert failed to register account\r\n        Swal.fire({\r\n          title: \"Failed to Register Account\",\r\n          text: err.response.data.message,\r\n          icon: \"error\",\r\n          confirmButtonText: \"OK\",\r\n\r\n          allowOutsideClick: false,\r\n          didOpen: () => {\r\n            Swal.showLoading();\r\n          },\r\n        });\r\n        Swal.close();\r\n      });\r\n  };\r\n  //   const login = () => {\r\n  //     axios\r\n  //       .post(`http://localhost:8080/api/v1/login`, {\r\n  //         username: name,\r\n  //         password,\r\n  //       })\r\n  //       .then((response) => console.log(response.data));\r\n  //     alert(\"Logging in!\");\r\n  //   };\r\n\r\n  const login = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      console.log(username, password);\r\n      const params = new URLSearchParams();\r\n      params.append(\"username\", username);\r\n      params.append(\"password\", password);\r\n      console.log(params);\r\n      // login loading sweet alert\r\n      Swal.fire({\r\n        title: \"Logging in...\",\r\n        allowOutsideClick: false,\r\n        didOpen: () => {\r\n          Swal.showLoading();\r\n        },\r\n      });\r\n\r\n      const response = await axios\r\n        .post(`${backendDomain}/api/v1/login`, params)\r\n        .catch((err) => {\r\n          console.log(err.response.data.message);\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops...\",\r\n            text: err.response.data.message,\r\n          });\r\n        });\r\n\r\n      console.log(JSON.stringify(response?.data));\r\n      //console.log(JSON.stringify(response));\r\n      setResult(response.data);\r\n      const accessToken = response?.data?.access_token;\r\n      var decodedHeader = jwt_decode(accessToken, { payload: true });\r\n      console.log(decodedHeader, \"DECODED HEADER\");\r\n      console.log(decodedHeader?.roles, \"DECODED ROLES\");\r\n      console.log(accessToken, \"accessToken accessToken accessToken\");\r\n      const roles = decodedHeader?.roles;\r\n      console.log(auth);\r\n\r\n      const response2 = await axios.get(\r\n        `${backendDomain}/api/v1/login/${username}`\r\n      );\r\n      console.log(response2.data.id, \"response 2\");\r\n      console.log(response2.data.enabled, \"response 2 haha\");\r\n      const id = response2.data.id;\r\n      if (response2.data.enabled) {\r\n        setAuth({ username, phone, accessToken, roles, id });\r\n        // localStorage.setItem(\"accessToken\", auth);\r\n\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n        //   navigate(from, { replace: true });\r\n\r\n        // const accessToken = response?.data?.accessToken;\r\n        // const roles = response?.data?.roles;\r\n        // setAuth({ username, password, roles, accessToken });\r\n        // setUser('');\r\n        // setPwd('');\r\n        // navigate(from, { replace: true });\r\n        alert(\"logged in as \" + decodedHeader.sub + \" with role of \" + roles);\r\n        \r\n        navigate(\"/react/attractions\");\r\n        // window.location.replace(\"http://localhost:3000/react/attractions\");\r\n        // close sweet alert\r\n        Swal.close();\r\n      } else {\r\n        Swal.close();\r\n        alert(\r\n          \"You have not verified your email. Please click on the confirmation link in the email.\"\r\n        );\r\n      }\r\n    } catch (err) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Update the document title using the browser API\r\n    localStorage.setItem(\"auth\", JSON.stringify(auth));\r\n  }, [auth]);\r\n\r\n  const toggle = () => {\r\n    setName(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setPhone(\"\");\r\n    setCheckbox(\"\");\r\n    setHaveAccount(!haveAccount);\r\n  };\r\n\r\n  console.log(\"FINALLL AUTHHHH\", auth);\r\n  localStorage.setItem(\"accessToken\", auth.accessToken);\r\n\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div\r\n        class=\"card d-flex justify-content-center\"\r\n        style={{ width: \"30rem\", height: \"65vh\" }}\r\n      >\r\n        {haveAccount ? (\r\n          <h2 className=\"main-header\">Login</h2>\r\n        ) : (\r\n          <h2 className=\"main-header\">Registration</h2>\r\n        )}\r\n\r\n        <Form className=\"create-form\" style={{ margin: \"auto\" }}>\r\n          <Form.Field>\r\n            <label>Name</label>\r\n            <input\r\n              placeholder=\"Name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n\r\n          {haveAccount ? (\r\n            <></>\r\n          ) : (\r\n            <Form.Field>\r\n              <label>Email</label>\r\n              <input\r\n                placeholder=\"Email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </Form.Field>\r\n          )}\r\n\r\n          <Form.Field>\r\n            <label>Password</label>\r\n            <input\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n          {haveAccount ? (\r\n            <></>\r\n          ) : (\r\n            <>\r\n              <Form.Field>\r\n                <label>Phone</label>\r\n                <input\r\n                  placeholder=\"Phone\"\r\n                  onChange={(e) => setPhone(e.target.value)}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <Checkbox\r\n                  label=\"I agree to the Terms and Conditions\"\r\n                  onChange={(e) => setCheckbox(!checkbox)}\r\n                />\r\n              </Form.Field>\r\n            </>\r\n          )}\r\n\r\n          {haveAccount ? (\r\n            <Button onClick={login} type=\"submit\">\r\n              Login\r\n            </Button>\r\n          ) : (\r\n            <Button onClick={register} type=\"submit\">\r\n              Register\r\n            </Button>\r\n          )}\r\n          <hr></hr>\r\n          {haveAccount ? (\r\n            <p>\r\n              Don't have an account? Sign up{\" \"}\r\n              <a onClick={toggle}>\r\n                <u>here</u>\r\n              </a>\r\n            </p>\r\n          ) : (\r\n            <p>\r\n              Already have an account? Login{\" \"}\r\n              <a onClick={toggle}>\r\n                <u>here</u>\r\n              </a>\r\n            </p>\r\n          )}\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Table, Button } from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from \"react-router\";\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default function Read() {\r\n// popup loading please wait\r\n\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const navigate = useNavigate();\r\n    const [APIData, setAPIData] = useState([]);\r\n    const [passLimit, setPassLimit] = useState(1);\r\n    useEffect(() => {\r\n        console.log(\"hello\");\r\n\r\n        // popup loading information from database\r\n        Swal.fire({\r\n            title: 'Loading information from database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        axios.get(`${backendDomain}/api/v1/loanpass`)\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                setAPIData(response.data);\r\n            });\r\n\r\n        axios.get(`${backendDomain}/api/v1/settings`)\r\n            .then((response) => {\r\n                const limit = response.data[0][\"maxPassPerLoan\"];\r\n                console.log(limit);\r\n                setPassLimit(limit);\r\n                Swal.close();\r\n            });\r\n\r\n\r\n        // // giving in example data\r\n        // const mockupData = [{\r\n        //     \"id\": '1',\r\n        //     \"firstName\": \"John\",\r\n        //     \"lastName\": \"Doe\",\r\n        //     \"checkbox\": true,\r\n        // }];\r\n    \r\n        // console.log(mockupData);\r\n        // setAPIData(mockupData);\r\n    }, []);\r\n\r\n    const incrementPassLimit = () => {\r\n        // popup loading please wait\r\n        Swal.fire({\r\n            title: 'Updating information to database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        // send put request\r\n        axios.put(`${backendDomain}/api/v1/settings?settingID=1&maxPassPerLoan=${passLimit+1}`)\r\n            .then((response) => {\r\n                setPassLimit(passLimit+1);\r\n                Swal.close();\r\n                \r\n            });\r\n    }\r\n\r\n    const decrementPassLimit = () => {\r\n        // popup loading please wait\r\n        Swal.fire({\r\n            title: 'Updating information to database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        // send put request\r\n        axios.put(`${backendDomain}/api/v1/settings?settingID=1&maxPassPerLoan=${passLimit-1}`)\r\n            .then((response) => {\r\n                setPassLimit(passLimit-1);\r\n                Swal.close();\r\n\r\n            });\r\n    }\r\n\r\n    const remindCollection = () =>{\r\n        axios.get(`${backendDomain}/api/v1/loanpass/remind/collection`)\r\n            .then((response) => {\r\n                alert(\"Loanpass collection reminders sent\")\r\n                Swal.close();\r\n            })\r\n    }\r\n    \r\n    const remindReturn = () =>{\r\n        axios.get(`${backendDomain}/api/v1/loanpass/remind/return`)\r\n            .then((response) => {\r\n                alert(\"Loanpass return reminders sent\")\r\n                Swal.close();\r\n            })\r\n    }\r\n\r\n    const setData = (data) => {\r\n        let { passId, attractionId, passNumber, previousLoanBy, description } = data;\r\n        localStorage.setItem('passId', passId);\r\n        localStorage.setItem('attractionId', attractionId);\r\n        localStorage.setItem('passNumber', passNumber);\r\n        localStorage.setItem('previousLoanBy', previousLoanBy);\r\n        localStorage.setItem('description', description);\r\n    }\r\n\r\n    const getData = () => {\r\n        Swal.fire({\r\n            title: 'Loading information from database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        axios.get(`${backendDomain}/api/v1/loanpass`)\r\n            .then((getData) => {\r\n                setAPIData(getData.data);\r\n                Swal.close();\r\n            })\r\n    }\r\n\r\n    const onDelete = (id) => {\r\n        Swal.fire({\r\n            title: 'Loading information from database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        axios.delete(`${backendDomain}/api/v1/loanpass/${id}`)\r\n        .then(() => {\r\n            getData();\r\n            Swal.close();\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div class=\"container rounded content\" style={{ height: \"100%\", width: \"80%\" }}>\r\n            \r\n            {/* show passLimit */}\r\n            <h1>\r\n            {/* decrement button */}\r\n            <Button onClick={decrementPassLimit} disabled={passLimit <= 1}>-</Button>\r\n            Loanpass limit: {passLimit}\r\n            {/* increment button */}\r\n            <Button onClick={incrementPassLimit}>+</Button>\r\n            </h1>\r\n            {/* button to create loanpass */}\r\n            <Link to=\"/react/createloanpass\">\r\n                <Button primary>Create Loan Pass</Button>\r\n            </Link>\r\n            <Button onClick = {()=>{remindCollection()}}>Send Collection Reminders</Button>\r\n            <Button onClick = {()=>{remindReturn()}}>Send Return Reminders</Button>\r\n            <Table>\r\n                <Table.Header>\r\n                    <Table.Row>\r\n                        <Table.HeaderCell width={1}>pass<br/>Id</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>attraction<br/>Id</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>pass<br/>Number</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>previous<br/>Loan<br/>By</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Status</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Type</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Replace<br/>ment Fee</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Email Template</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Attachment Link</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Update</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Delete</Table.HeaderCell>\r\n                    </Table.Row>\r\n                </Table.Header>\r\n\r\n                <Table.Body>\r\n                    {APIData.map((data) => {\r\n                        const descriptionSplitted = data.description.split(\",./\");\r\n                        const status = descriptionSplitted[0];\r\n                        const type = descriptionSplitted[1];\r\n                        const replacementFee = descriptionSplitted[2];\r\n                        let emailTemplate = descriptionSplitted[3];\r\n                        let attachmentLink = descriptionSplitted[4];\r\n\r\n                        try {\r\n                            emailTemplate = emailTemplate.slice(0, 10) + \"...\";\r\n                            attachmentLink = attachmentLink.slice(0, 10) + \"...\";\r\n                        } catch (error) {\r\n                            console.log(error);\r\n                        }\r\n\r\n                        return (\r\n                            <Table.Row>\r\n                                <Table.Cell>{data.passId}</Table.Cell>\r\n                                <Table.Cell>{data.attractionId}</Table.Cell>\r\n                                <Table.Cell>{data.passNumber}</Table.Cell>\r\n                                <Table.Cell>{data.previousLoanBy}</Table.Cell>\r\n                                <Table.Cell>{status}</Table.Cell>\r\n                                <Table.Cell>{type}</Table.Cell>\r\n                                <Table.Cell>{replacementFee}</Table.Cell>\r\n                                <Table.Cell>{emailTemplate}</Table.Cell>\r\n                                <Table.Cell>{attachmentLink}</Table.Cell>\r\n\r\n                                <Link to='/react/update'>\r\n                                    <Table.Cell> \r\n                                        <Button onClick={() => setData(data)}>Update</Button>\r\n                                    </Table.Cell>\r\n                                </Link>\r\n                                <Table.Cell>\r\n                                    <Button onClick={() => onDelete(data.passId)}>Delete</Button>\r\n                                </Table.Cell>\r\n                            </Table.Row>\r\n                        )\r\n                    })}\r\n                </Table.Body>\r\n            </Table>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Checkbox, Form, Dropdown } from \"semantic-ui-react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport axios from \"axios\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nexport default function Update() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\n    const { setAuth, auth } = useAuth();\r\n    console.log(auth.id, \"AUTH ID :D\");\r\n    const navigate = useNavigate();\r\n    const [passId, setPassId] = useState(\"\");\r\n    const [attractionId, setAttractionId] = useState(\"\");\r\n    const [passNumber, setPassNumber] = useState(\"\");\r\n    const [previousLoanBy, setPreviousLoanBy] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [status, setStatus] = useState(\"\");\r\n    const [type, setType] = useState(\"\");\r\n    const [replacementFee, setReplacementFee] = useState(\"\");\r\n    const [emailTemplate, setEmailTemplate] = useState(\"\");\r\n    const [attachmentLink, setAttachmentLink] = useState(\"\");\r\n\r\n    const [oldStatus, setOldStatus] = useState(\"\");\r\n\r\n    const [emailTemplates, setEmailTemplates] = useState([]);\r\n    const [attractions, setAttractions] = useState([]);\r\n    const [emailTemplateID, setEmailTemplateID] = useState(1);\r\n\r\n    useEffect(() => {\r\n        setPassId(localStorage.getItem(\"passId\"));\r\n        setAttractionId(localStorage.getItem(\"attractionId\"));\r\n        setPassNumber(localStorage.getItem(\"passNumber\"));\r\n        setPreviousLoanBy(localStorage.getItem(\"previousLoanBy\"));\r\n        setDescription(localStorage.getItem(\"description\"));\r\n        const status = localStorage.getItem(\"description\").split(\",./\")[0];\r\n        const type = localStorage.getItem(\"description\").split(\",./\")[1];\r\n        const replacementFee = localStorage\r\n            .getItem(\"description\")\r\n            .split(\",./\")[2];\r\n        const emailTemplate = localStorage\r\n            .getItem(\"description\")\r\n            .split(\",./\")[3];\r\n        const attachmentLink = localStorage\r\n            .getItem(\"description\")\r\n            .split(\",./\")[4];\r\n        setStatus(status);\r\n        setOldStatus(status);\r\n        setType(type);\r\n        setReplacementFee(replacementFee);\r\n        setEmailTemplate(emailTemplate);\r\n        setAttachmentLink(attachmentLink);\r\n        retrieveAttractions();\r\n        retrieveEmailTemplates();\r\n    }, []);\r\n\r\n    const retrieveAttractions = () => {\r\n        axios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n            setAttractions(res.data);\r\n        });\r\n    };\r\n\r\n    const retrieveEmailTemplates = () => {\r\n        axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n            setEmailTemplates(res.data);\r\n        });\r\n    };\r\n\r\n    const updateAPIData = () => {\r\n        const description1 =\r\n            status +\r\n            \",./\" +\r\n            type +\r\n            \",./\" +\r\n            replacementFee +\r\n            \",./\" +\r\n            emailTemplate +\r\n            \",./\" +\r\n            attachmentLink;\r\n        console.log(description);\r\n        Swal.fire({\r\n            title: \"Loading information from database...\",\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading();\r\n            },\r\n        });\r\n        axios\r\n            .put(\r\n                `${backendDomain}/api/v1/loanpass/${passId}?attractionId=${attractionId}&passNumber=${passNumber}&previousLoanBy=${previousLoanBy}&description=${description1}`,\r\n                null\r\n            )\r\n            .then(() => {\r\n                Swal.close();\r\n                navigate(\"/react/read\");\r\n            })\r\n            .catch((err) => {\r\n                Swal.close();\r\n                alert(\"error in update! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div class=\"container rounded content\" style={{width: \"85%\", maxWidth: \"500px\", minWidth: \"200px\"}}>\r\n            <div class=\"card\" style={{width: \"85%\", maxWidth: \"500px\", minWidth: \"200px\",}}>\r\n                <Form className=\"create-form\">\r\n                    <Form.Field>\r\n                        <label>Attraction:</label>\r\n                        <select\r\n                            value={attractionId}\r\n                            onChange={(e) => setAttractionId(e.target.value)}\r\n                        >\r\n                            {attractions.map((attraction) => {\r\n                                return (\r\n                                    <option value={attraction.attractionID}>\r\n                                        {attraction.name}\r\n                                    </option>\r\n                                );\r\n                            })}\r\n                        </select>\r\n                    </Form.Field>\r\n\r\n                    <Form.Field>\r\n                        <label>Pass No:</label>\r\n                        <input\r\n                            placeholder=\"passNumber\"\r\n                            value={passNumber}\r\n                            onChange={(e) => setPassNumber(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Last Loaned by:</label>\r\n                        <input\r\n                            placeholder=\"previousLoanBy\"\r\n                            value={previousLoanBy}\r\n                            onChange={(e) => setPreviousLoanBy(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Status:</label>\r\n                        <select\r\n                            value={status}\r\n                            onChange={(e) => setStatus(e.target.value)}\r\n                        >\r\n                            <option value=\"Uncollected\">Uncollected</option>\r\n                            <option value=\"Loaned out\">Loaned out</option>\r\n                            <option value=\"Lost\">Lost</option>\r\n                        </select>\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Type:</label>\r\n                        <select\r\n                            value={type}\r\n                            onChange={(e) => setType(e.target.value)}\r\n                        >\r\n                            <option value=\"Physical\">Physical</option>\r\n                            <option value=\"Digital\">Digital</option>\r\n                        </select>\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Replacement Fee:</label>\r\n                        <input\r\n                            placeholder=\"replacementFee\"\r\n                            value={replacementFee}\r\n                            onChange={(e) => setReplacementFee(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n\r\n                    <Form.Field>\r\n                        {emailTemplateID}\r\n                        <label>Email Template:</label>\r\n                        <select\r\n                            // value={emailTemplate}\r\n                            onChange={(e) => setEmailTemplateID(e.target.value)}\r\n                        >\r\n                            {emailTemplates.map((emailTemplate) => {\r\n                            console.log(emailTemplate)\r\n                                return <option value={emailTemplate.emailTemplateId}>{emailTemplate.emailTemplateName}, {emailTemplate.emailTemplateId}</option>;\r\n                            })}\r\n    \r\n                        </select>\r\n                    </Form.Field>\r\n\r\n                    <Form.Field>\r\n                        <label>Attachment Link:</label>\r\n                        <input\r\n                            placeholder=\"attachmentLink\"\r\n                            value={attachmentLink}\r\n                            onChange={(e) => setAttachmentLink(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n                    <Button type=\"submit\" onClick={updateAPIData}>\r\n                        Update\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Button, Checkbox, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nexport default function CreateLoanPass() {\r\n  const backendDomain = process.env.REACT_APP_backendDomain;\r\n  const navigate = useNavigate();\r\n  const [attractionId, setAttractionId] = useState(\"\");\r\n  const [passNumber, setPassNumber] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const [checkbox, setCheckbox] = useState(false);\r\n\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth.id, \"AUTH ID :D\");\r\n  const postData = () => {\r\n    const postRequest =\r\n      \"{attractioId: \" +\r\n      attractionId +\r\n      \",\\n passNumber: \" +\r\n      passNumber +\r\n      \",\\n description: \" +\r\n      description +\r\n      \"}\";\r\n    alert(\r\n      \"sent a post request:\\n\" +\r\n        postRequest +\r\n        `\\nto ${backendDomain}/api/v1/loanpass`\r\n    );\r\n\r\n    axios\r\n      .post(`${backendDomain}/api/v1/loanpass`, {\r\n        attractionId,\r\n        passNumber,\r\n        description,\r\n      })\r\n      .then(() => {\r\n        alert(\"success! going to read page\");\r\n        navigate(\"/react/read\");\r\n      })\r\n      .catch((err) => {\r\n        alert(\"error in creation! staying on this page.\" + err);\r\n      });\r\n  };\r\n  return (\r\n    <div class=\"container rounded content\" style={{width: \"85%\",height: \"70vh\",maxWidth: \"500px\",minWidth: \"200px\",}}>\r\n      <h2 class=\"main-header\">\r\n        Create Loanpass\r\n      </h2>\r\n      <div class=\"card\" style={{ width: \"85%\",maxWidth: \"250px\", minWidth: \"100px\",}}>\r\n        <Form className=\"create-form\">\r\n          <Form.Field>\r\n            <label>Attraction Id</label>\r\n            <input\r\n              placeholder=\"attractionId\"\r\n              onChange={(e) => setAttractionId(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>Pass Number</label>\r\n            <input\r\n              placeholder=\"PassNumber\"\r\n              onChange={(e) => setPassNumber(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n          <Button onClick={postData} type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport { addDays } from \"date-fns\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport styled from \"styled-components\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\nconst Button = styled.button`\r\n  background-color: black;\r\n  color: white;\r\n  font-size: 20px;\r\n  padding: 10px 60px;\r\n  border-radius: 10px;\r\n  margin: 10px 0px;\r\n  cursor: pointer;\r\n`;\r\nlet options = [];\r\n\r\nlet options1 = [\r\n  { value: \"1\", label: \"1\" }\r\n];\r\n\r\n// should be based on user\r\nlet userOptions = [];\r\n\r\nconst customStyles = {\r\n  option: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  control: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  singleValue: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n};\r\n\r\nexport default function LoanApplication() {\r\n  const navigate = useNavigate();\r\n  const { setAuth, auth } = useAuth();\r\n  let limit = 1;\r\n  console.log(auth.id, \"AUTH ID :D\");\r\n\r\n  useEffect(() => {\r\n    Swal.fire({\r\n      title: \"Loading information from database...\",\r\n      allowOutsideClick: false,\r\n      didOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n\r\n    // get options from backend axios call\r\n    axios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n      options = [];\r\n\r\n      console.log(res.data);\r\n      res.data.forEach((attraction) => {\r\n        options.push({\r\n          value: attraction.attractionID,\r\n          label: attraction.name,\r\n        });\r\n      });\r\n\r\n      console.log(options);\r\n      setPasses(1);\r\n      \r\n    });\r\n\r\n    // Update the document title using the browser API\r\n    console.log(\"useEffect only once!\");\r\n    console.log(localStorage.getItem(\"auth\"));\r\n\r\n    let userlogin = JSON.parse(localStorage.getItem(\"auth\"))[\"id\"] // \"2\";\r\n    console.log(userlogin, \"USER LOGIN\");\r\n    if (userlogin === undefined) {\r\n      alert(\"Please login first!\");\r\n      navigate(\"/react/auth\");\r\n    }\r\n    userOptions = [{ value: userlogin, label: userlogin }];\r\n\r\n    // get options1 from backend axios call\r\n    axios.get(`${backendDomain}/api/v1/settings`).then((res) => {\r\n      console.log(res.data);\r\n      limit = res.data[0][\"maxPassPerLoan\"];\r\n\r\n      console.log(limit);\r\n      options1 = [];\r\n      for (let i = 1; i <= limit; i++) {\r\n        options1.push({ value: i, label: i });\r\n      }\r\n      \r\n      onPassesChange(options1[0]);\r\n      Swal.close();\r\n    });\r\n\r\n    // console.log(options1);\r\n    // console.log(userOptions);\r\n    onPassesChange();\r\n    setPasses(1);\r\n    setUser({ value: userlogin, label: userlogin });\r\n  }, [\"\"]);\r\n  // state for user\r\n  const [user, setUser] = useState();\r\n\r\n  // state for datepicker\r\n  const [value, onChange] = useState(addDays(new Date(), 1));\r\n\r\n  // state for attraction\r\n  const [attraction, setAttraction] = useState();\r\n  // state for number of passes\r\n\r\n  const [passes, setPasses] = useState();\r\n\r\n  const onAttractionChange = (e) => {\r\n    setAttraction(e);\r\n  };\r\n\r\n  const onPassesChange = (e) => {\r\n    setPasses(e);\r\n  };\r\n\r\n  const SelectUserComponent = () => (\r\n    <Select\r\n      styles={customStyles}\r\n      options={userOptions}\r\n      defaultValue={[userOptions[0]]}\r\n      value={user}\r\n      onChange={(d) => setUser(d)}\r\n      isDisabled={true}\r\n    />\r\n  );\r\n\r\n  const SelectAttractionComponent = () => (\r\n    <Select\r\n      placeholder=\"\"\r\n      styles={customStyles}\r\n      options={options}\r\n      defaultValue={[]}\r\n      value={attraction}\r\n      onChange={(d) => onAttractionChange(d)}\r\n    />\r\n  );\r\n\r\n  const SelectNoPassesComponent = () => (\r\n    <Select\r\n      styles={customStyles}\r\n      options={options1}\r\n      defaultValue={options1[0]}\r\n      value={passes}\r\n      onChange={(d) => onPassesChange(d)}\r\n    />\r\n  );\r\n\r\n  const createLoanApplication = () => {\r\n    const day = value.getDate();\r\n    const month = value.getMonth() + 1;\r\n    const year = value.getFullYear();\r\n    let attractionId = 1;\r\n\r\n    let userId = \"1\";\r\n    try {\r\n      userId = user.value;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    try {\r\n      attractionId = attraction.value;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    const date = `${attractionId},${day},${month},${year}`;\r\n\r\n    // get successloan by userid, month and year\r\n    axios\r\n      .get(\r\n        `${backendDomain}/api/v1/successloan/staff/${userId}/month/${month}/year/${year}`\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        limit = options1[options1.length - 1][\"value\"];\r\n        if (res.data.length >= limit) {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops...\",\r\n            text: `You have already hit the limit: ${limit} loans this month!`,\r\n          });\r\n        } else {\r\n          let newwaitingList = `${userId}`;\r\n\r\n          if (passes.value == 2) {\r\n            newwaitingList += `,${userId}`;\r\n          }\r\n\r\n          alert(\r\n            \"User \" +\r\n              userId +\r\n              \" sent request to: \" +\r\n              `${backendDomain}/api/v1/loanpass/\\n` +\r\n              \"Attraction: \" +\r\n              attraction.value +\r\n              \" Passes: \" +\r\n              passes.value +\r\n              \" Date: \" +\r\n              day +\r\n              \"/\" +\r\n              month +\r\n              \"/\" +\r\n              year\r\n          );\r\n\r\n          Swal.fire({\r\n            title: \"Loading information from database...\",\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n              Swal.showLoading();\r\n            },\r\n          });\r\n\r\n          axios\r\n            .post(`${backendDomain}/api/v1/bookingdate/save`, {\r\n              date: date,\r\n              waitingList: newwaitingList,\r\n            })\r\n            .then(() => {\r\n              axios\r\n                .post(`${backendDomain}/api/v1/successloan`, {\r\n                  staffId: userId,\r\n                  attractionId: attraction.value,\r\n                  month: month,\r\n                  year: year,\r\n                  day: day,\r\n                })\r\n                .then((res) => {\r\n                  Swal.close();\r\n                  alert(\"Successfully created loan application!\");\r\n                  navigate(\"/react/viewbooking\");\r\n                });\r\n            })\r\n            .catch((err) => {\r\n              Swal.close();\r\n              console.log(err);\r\n              if (err.response.status === 500) {\r\n                Swal.fire({\r\n                  title: \"Loading information from database...\",\r\n                  allowOutsideClick: false,\r\n                  didOpen: () => {\r\n                    Swal.showLoading();\r\n                  },\r\n                });\r\n                axios\r\n                  .get(`${backendDomain}/api/v1/bookingdate/${date}`)\r\n                  .then((res) => {\r\n                    Swal.close();\r\n                    const waitingList = res.data.waitingList;\r\n                    // alert(`already booked! waiting list: ${waitingList}`);\r\n\r\n                    const waitingListsplitted = waitingList.split(\",\");\r\n\r\n                    console.log(waitingListsplitted);\r\n                    if (waitingListsplitted.includes(userId.toString())) {\r\n                      alert(\"You are already in the waiting list!\");\r\n                      return;\r\n                    }\r\n\r\n                    Swal.fire({\r\n                      title: \"Loading information from database...\",\r\n                      allowOutsideClick: false,\r\n                      didOpen: () => {\r\n                        Swal.showLoading();\r\n                      },\r\n                    });\r\n\r\n                    // get all loanpasses\r\n                    axios\r\n                      .get(\r\n                        `${backendDomain}/api/v1/loanpass/getbyattraction/${attractionId}`\r\n                      )\r\n                      .then((res) => {\r\n                        Swal.close();\r\n                        var loanPasses = 0;\r\n                        res.data.forEach((loanPass) => {\r\n                          loanPasses++;\r\n                        });\r\n                        console.log(loanPasses);\r\n\r\n                        if (\r\n                          waitingListsplitted.length + parseInt(passes.value) >\r\n                          loanPasses\r\n                        ) {\r\n                          let confirmMessage =\r\n                            \"You are not in the waiting list, but there are not enough loan passes available. Do you want to be added to the waiting list?\";\r\n                          console.log(\"too little passes!\");\r\n                          if (\r\n                            passes.value == 2 &&\r\n                            waitingListsplitted.length == loanPasses - 1\r\n                          ) {\r\n                            confirmMessage =\r\n                              \"There is only 1 loan pass to be booked, do you want to book it and be put on the waiting list for the next one?\";\r\n                          }\r\n\r\n                          const yesWaiting = window.confirm(confirmMessage);\r\n                          if (yesWaiting) {\r\n                            Swal.fire({\r\n                              title: \"Loading information from database...\",\r\n                              allowOutsideClick: false,\r\n                              didOpen: () => {\r\n                                Swal.showLoading();\r\n                              },\r\n                            });\r\n\r\n                            axios\r\n                              .put(\r\n                                `${backendDomain}/api/v1/bookingdate/${date}?waitingList=${\r\n                                  waitingList + \",\" + newwaitingList\r\n                                }`,\r\n                                null\r\n                              )\r\n                              .then(() => {\r\n                                Swal.close();\r\n                                if (\r\n                                  confirmMessage.includes(\r\n                                    \"There is only 1 loan pass to be booked\"\r\n                                  )\r\n                                ) {\r\n                                  axios\r\n                                    .post(\r\n                                      `${backendDomain}/api/v1/successloan`,\r\n                                      {\r\n                                        staffId: userId,\r\n                                        attractionId: attraction.value,\r\n                                        month: month,\r\n                                        year: year,\r\n                                        day: day,\r\n                                      }\r\n                                    )\r\n                                    .then((res) => {\r\n                                      Swal.close();\r\n                                      alert(\r\n                                        \"Successfully created loan application!\"\r\n                                      );\r\n                                      navigate(\"/react/viewbooking\");\r\n                                    });\r\n                                }\r\n                                alert(waitingList + \",\" + newwaitingList);\r\n                              })\r\n                              .catch((err) => {\r\n                                Swal.close();\r\n                                alert(\r\n                                  \"error in update! staying on this page.\" + err\r\n                                );\r\n                                console.log(err);\r\n                              });\r\n                          }\r\n                        } else {\r\n                          Swal.fire({\r\n                            title: \"Loading information from database...\",\r\n                            allowOutsideClick: false,\r\n                            didOpen: () => {\r\n                              Swal.showLoading();\r\n                            },\r\n                          });\r\n\r\n                          axios\r\n                            .put(\r\n                              `${backendDomain}/api/v1/bookingdate/${date}?waitingList=${\r\n                                waitingList + \",\" + newwaitingList\r\n                              }`,\r\n                              null\r\n                            )\r\n                            .then(() => {\r\n                              Swal.close();\r\n                              alert(\"Successfully added to waiting list!\");\r\n                              alert(waitingList + \",\" + newwaitingList);\r\n                              navigate(\"/react/viewbooking\");\r\n                            })\r\n                            .catch((err) => {\r\n                              Swal.close();\r\n                              alert(\r\n                                \"error in update! staying on this page.\" + err\r\n                              );\r\n                              console.log(err);\r\n                            });\r\n                        }\r\n                      });\r\n                  })\r\n                  .catch((err) => {\r\n                    console.log(err);\r\n                  });\r\n              } else {\r\n                alert(\"error:\" + err);\r\n              }\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div class=\"container rounded content\" style={{ height: \"100%\", width: \"80%\" }}>\r\n      <div class=\"card\" style={{ width: \"85%\", height: \"70vh\", maxWidth: \"500px\", minWidth: \"200px\",}}>\r\n        <h2 className=\"main-header\">Loan Application</h2>\r\n\r\n        <h4 className=\"sub-header\">UserId:</h4>\r\n        <SelectUserComponent />\r\n\r\n        <h4 className=\"sub-header\">No. of Passes:</h4>\r\n        <SelectNoPassesComponent />\r\n\r\n        <h4 className=\"sub-header\">Place:</h4>\r\n        <SelectAttractionComponent />\r\n\r\n        <h4 className=\"sub-header\">Date:</h4>\r\n\r\n        {/* datepicker */}\r\n        <div>\r\n          {value.getDate()}\r\n          {value.getMonth() + 1}\r\n          {value.getFullYear()}\r\n          <DatePicker\r\n            onChange={onChange}\r\n            value={value}\r\n            minDate={addDays(new Date(), 1)}\r\n            maxDate={addDays(new Date(), 8 * 7)}\r\n            clearIcon={null}\r\n            format=\"dd/MM/yyyy\"\r\n          />\r\n        </div>\r\n        {/* end of datepicker */}\r\n\r\n        <Button id=\"submitbtn\" style={{}} onClick={createLoanApplication}>\r\n          Submit\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nconst BASE_URL = \"http://localhost:8080\";\r\n\r\nexport default axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nexport const axiosPrivate = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n  // withCredentials: true,\r\n});\r\n","import axios from \"../api/axios\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nconst useRefreshToken = () => {\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth, \"AUTH REFRESH\");\r\n  const refresh = async () => {\r\n    // const params = new URLSearchParams();\r\n    // params.append(\r\n    //   \"Authorization\",\r\n    //   \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJxcXExMiIsInJvbGVzIjpbIlJPTEVfVVNFUiJdLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2xvZ2luIiwiZXhwIjoxNjY2NTc5NzUyfQ.pwbD-s3K7yQ_pIYmdJDlK40OLEw3nrCW538MZN6OLlA\"\r\n    // );\r\n    const x = localStorage.getItem(\"auth\");\r\n    console.log(\"x\", x);\r\n    const object_auth = JSON.parse(x);\r\n    console.log(\"auth\", object_auth);\r\n    console.log(\"auth\", object_auth.accessToken);\r\n    const response = await axios.get(\"/api/v1/token/refresh\", {\r\n      headers: {\r\n        Authorization: `Bearer ${object_auth.accessToken}`,\r\n      },\r\n    });\r\n    console.log(response, \"REFRESHHHH\");\r\n    console.log(response?.data?.access_token, \"DEMON SLAYER\");\r\n    console.log(object_auth, \"KAKKAKAKKAK\");\r\n    object_auth.accessToken = response?.data?.access_token;\r\n    console.log(object_auth, \"HUUI OHUO\");\r\n    // setAuth((prev) => {\r\n    //   console.log(JSON.stringify(prev));\r\n    //   console.log(response?.data?.access_token);\r\n    //   console.log(object_auth, \"GUGIUGUIHH\");\r\n    //   return { ...prev, accessToken: response?.data?.access_token };\r\n    // });\r\n    setAuth(object_auth);\r\n    return response.data.accessToken;\r\n  };\r\n  return refresh;\r\n};\r\n\r\nexport default useRefreshToken;\r\n","import { axiosPrivate } from \"../api/axios\";\r\nimport { useEffect } from \"react\";\r\nimport useRefreshToken from \"./useRefreshToken\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nconst useAxiosPrivate = () => {\r\n  const refresh = useRefreshToken();\r\n  const { auth } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const requestIntercept = axiosPrivate.interceptors.request.use(\r\n      (config) => {\r\n        if (!config.headers[\"Authorization\"]) {\r\n          config.headers[\"Authorization\"] = `Bearer ${auth?.accessToken}`;\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error)\r\n    );\r\n\r\n    const responseIntercept = axiosPrivate.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const prevRequest = error?.config;\r\n        if (error?.response?.status === 403 && !prevRequest?.sent) {\r\n          prevRequest.sent = true;\r\n          const newAccessToken = await refresh();\r\n          prevRequest.headers[\"Authorization\"] = `Bearer ${newAccessToken}`;\r\n          return axiosPrivate(prevRequest);\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      axiosPrivate.interceptors.request.eject(requestIntercept);\r\n      axiosPrivate.interceptors.response.eject(responseIntercept);\r\n    };\r\n  }, [auth, refresh]);\r\n\r\n  return axiosPrivate;\r\n};\r\n\r\nexport default useAxiosPrivate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport { addDays } from \"date-fns\";\r\nimport axios from \"axios\";\r\nimport Calendar from \"moedim\";\r\nimport Swal from \"sweetalert2\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\n\r\nvar options = [];\r\n\r\nSwal.fire({\r\n  title: \"Loading information from database...\",\r\n  allowOutsideClick: false,\r\n  didOpen: () => {\r\n    Swal.showLoading();\r\n  },\r\n});\r\n// get options from backend axios call\r\naxios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n  Swal.close();\r\n  options = [];\r\n\r\n  console.log(res.data);\r\n  res.data.forEach((attraction) => {\r\n    options.push({ value: attraction.attractionID, label: attraction.name });\r\n  });\r\n\r\n  console.log(options);\r\n});\r\n\r\nconst customStyles = {\r\n  option: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  control: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  singleValue: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n};\r\n\r\nexport default function ViewBooking() {\r\n  const axiosPrivate = useAxiosPrivate();\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth.id, \"AUTH ID :D\");\r\n\r\n  // state for attraction\r\n  const [attraction, setAttraction] = useState();\r\n\r\n  const SelectAttractionComponent = () => (\r\n    <Select\r\n      placeholder=\"Loading options from backend.. please wait\"\r\n      styles={customStyles}\r\n      options={options}\r\n      defaultValue={[options[0]]}\r\n      value={attraction}\r\n      onChange={(d) => onAttractionChange(d)}\r\n    />\r\n  );\r\n\r\n  const [value, setValue] = useState(addDays(new Date(), 1));\r\n\r\n  const [waitList, setWaitList] = useState(\"click on a date to view waitlist\");\r\n\r\n  const [waitListArray, setWaitListArray] = useState([]);\r\n\r\n  const onAttractionChange = (e) => {\r\n    setAttraction(e);\r\n    onDateChange(value, e);\r\n  };\r\n\r\n  const onDateChange = (date, newAttraction) => {\r\n    setValue(date);\r\n    setAttraction(newAttraction);\r\n    setWaitList(\"loading...\");\r\n\r\n    console.log(date);\r\n    const day = date.getDate();\r\n    const month = date.getMonth() + 1;\r\n    const year = date.getFullYear();\r\n    let attractionId = 1;\r\n    try {\r\n      attractionId = newAttraction.value;\r\n    } catch (error) {\r\n      attractionId = 1;\r\n    }\r\n\r\n    console.log(newAttraction);\r\n\r\n    const myDate = `${attractionId},${day},${month},${year}`;\r\n\r\n    Swal.fire({\r\n      title: \"Loading information from database...\",\r\n      allowOutsideClick: false,\r\n      didOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n\r\n    axios\r\n      .get(`${backendDomain}/api/v1/bookingdate/${myDate}`)\r\n      .then((response) => {\r\n        Swal.close();\r\n        console.log(response.data);\r\n        setWaitList(response.data.waitingList);\r\n\r\n        let tempwaitingList = response.data.waitingList;\r\n        setWaitListArray(tempwaitingList.split(\",\"));\r\n      })\r\n      .catch((error) => {\r\n        setWaitList(\"no bookings\");\r\n        setWaitListArray([]);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Update the document title using the browser API\r\n    console.log(\"useEffect only once!\");\r\n    onDateChange(value, attraction);\r\n  }, [\"\"]);\r\n\r\n  return (\r\n    <div\r\n      class=\"container rounded content\"\r\n      style={{\r\n        width: \"85%\",\r\n        height: \"100%\",\r\n        maxWidth: \"1000px\",\r\n        minWidth: \"300px\",\r\n      }}\r\n    >\r\n      <h1 class=\"main-header\">View Booking</h1>\r\n      <div class=\"row\">\r\n        <div class=\"col-sm\">\r\n          <div class=\"card\" style={{ width: \"17rem\", height: \"45vh\" }}>\r\n            <h1 class=\"sub-header\">Place:</h1>\r\n            <SelectAttractionComponent />\r\n            <br />\r\n            <Calendar\r\n              value={value}\r\n              onChange={(d) => onDateChange(d, attraction)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm\">\r\n          <div class=\"card\" style={{ width: \"17rem\", height: \"45vh\" }}>\r\n            <h1 class=\"sub-header\">Waiting list:</h1>\r\n            <p>{waitList}</p>\r\n            {waitListArray.map((item, index) => (\r\n              <div key={index}>\r\n                <button\r\n                  onClick={() => {\r\n                    // send axios get to get user details\r\n\r\n                    Swal.fire({\r\n                      title: \"Loading information from database...\",\r\n                      allowOutsideClick: false,\r\n                      didOpen: () => {\r\n                        Swal.showLoading();\r\n                      },\r\n                    });\r\n\r\n                    axios\r\n                      .get(`${backendDomain}/api/v1/usersById/${item}`)\r\n                      .then((response) => {\r\n                        Swal.close();\r\n                        console.log(response.data);\r\n                        var output = \"\";\r\n                        for (var entry in response.data) {\r\n                          output += entry + \" | \" + response.data[entry] + \"\\n\";\r\n                        }\r\n                        alert(output);\r\n                      })\r\n                      .catch((error) => {\r\n                        Swal.close();\r\n                        alert(\"Cannot find user details\");\r\n                      });\r\n\r\n                    // alert(\"Userid \"+ item + \" details\\nname:\\ncontact:\\nemail:\\n\");\r\n                  }}\r\n                >\r\n                  {item}\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    const day = value.getDate();\r\n                    const month = value.getMonth() + 1;\r\n                    const year = value.getFullYear();\r\n\r\n                    //get current date\r\n                    const today = new Date();\r\n\r\n                    // get difference between current date and selected date\r\n                    const diffTime = (value - today) / 60 / 60 / 24 / 1000;\r\n                    console.log(diffTime);\r\n\r\n                    if (diffTime <= 0) {\r\n                      alert(\"Cannot cancel booking for today or past days\");\r\n                      return;\r\n                    }\r\n\r\n                    let userlogin = JSON.parse(localStorage.getItem(\"auth\"))[\"id\"]\r\n\r\n                    if (userlogin != item) {\r\n                      alert(\"Please login as the user to cancel the booking\");\r\n                      return;\r\n                    }\r\n\r\n                    let removeUser = window.confirm(\r\n                      \"Are you sure you want to remove user \" +\r\n                        item +\r\n                        \" from the waiting list?\"\r\n                    );\r\n                    // send axios to remove user from waiting list\r\n                    if (removeUser) {\r\n                      let attractionId = 1;\r\n                      try {\r\n                        attractionId = attraction.value;\r\n                      } catch (error) {}\r\n                      const myDate = `${attractionId},${day},${month},${year}`;\r\n\r\n                      console.log(myDate);\r\n                      console.log(waitList);\r\n                      let newWaitingList = waitList.replaceAll(\",\" + item, \"\");\r\n                      newWaitingList = newWaitingList.replaceAll(\r\n                        item + \",\",\r\n                        \"\"\r\n                      );\r\n                      newWaitingList = newWaitingList.replaceAll(item, \"\");\r\n\r\n                      console.log(newWaitingList);\r\n\r\n                      Swal.fire({\r\n                        title: \"Loading information from database...\",\r\n                        allowOutsideClick: false,\r\n                        didOpen: () => {\r\n                          Swal.showLoading();\r\n                        },\r\n                      });\r\n\r\n                      if (newWaitingList === \"\") {\r\n                        axios\r\n                          .delete(\r\n                            `${backendDomain}/api/v1/bookingdate/${myDate}`\r\n                          )\r\n                          .then((response) => {\r\n                            Swal.close();\r\n                            console.log(response.data);\r\n                            setWaitList(\"no bookings\");\r\n                            setWaitListArray([]);\r\n                            // get all successloan on the date\r\n                            axios\r\n                              .get(\r\n                                `${backendDomain}/api/v1/successloan/staff/${item}/attraction/${attractionId}/month/${month}/year/${year}/day/${day}`\r\n                              )\r\n                              .then((response) => {\r\n                                console.log(response.data);\r\n                                for (let i = 0; i < response.data.length; i++) {\r\n                                  const successLoan = response.data[i];\r\n                                  // delete successloan\r\n                                  axios.delete(\r\n                                    `${backendDomain}/api/v1/successloan/${successLoan.successLoanId}`\r\n                                  );\r\n                                  alert(\"deleted successloan\");\r\n                                }\r\n                              });\r\n                          });\r\n                      } else {\r\n                        Swal.fire({\r\n                          title: \"Loading information from database...\",\r\n                          allowOutsideClick: false,\r\n                          didOpen: () => {\r\n                            Swal.showLoading();\r\n                          },\r\n                        });\r\n\r\n                        axios\r\n                          .put(\r\n                            `${backendDomain}/api/v1/bookingdate/${myDate}?waitingList=${newWaitingList}`,\r\n                            null\r\n                          )\r\n                          .then((response) => {\r\n                            Swal.close();\r\n                            setWaitList(newWaitingList);\r\n                            setWaitListArray(newWaitingList.split(\",\"));\r\n                            alert(\r\n                              \"User \" + item + \" removed from waiting list\"\r\n                            );\r\n\r\n                            // get all successloan on the date\r\n                            axios\r\n                              .get(\r\n                                `${backendDomain}/api/v1/successloan/staff/${item}/attraction/${attractionId}/month/${month}/year/${year}/day/${day}`\r\n                              )\r\n                              .then((response) => {\r\n                                for (let i = 0; i < response.data.length; i++) {\r\n                                  const successLoan = response.data[i];\r\n                                  // delete successloan\r\n                                  axios.delete(\r\n                                    `${backendDomain}/api/v1/successloan/${successLoan.id}`\r\n                                  );\r\n                                  alert(\"deleted successloan\");\r\n                                }\r\n                              });\r\n                          });\r\n                      }\r\n                    }\r\n                  }}\r\n                >\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport React from \"react\";\r\nimport { Quill } from \"react-quill\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n// import CustTeplateForm from \"./custTeplateForm\";\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\nfunction EmailTemplateForm(props) {\r\n    const [emailTemplateBody, setEmailTemplateBody] = useState(\"\");\r\n    const [emailTemplateName, setEmailTemplateName] = useState(\"\");\r\n    const tags = [\r\n        {\r\n            tagName: \"Borrower Name\",\r\n            tagValue: \"#borrowerName#\",\r\n        },\r\n        {\r\n            tagName: \"Attraction Name\",\r\n            tagValue: \"#attractionName#\",\r\n        },\r\n        {\r\n            tagName: \"CorpPass No\",\r\n            tagValue: \"#corpPassNo#\",\r\n        },\r\n    ];\r\n\r\n    function insertSymbol(tags) {\r\n        const currSelection = window.getSelection();\r\n        const parentNode =\r\n            currSelection.getRangeAt(0).startContainer.parentNode;\r\n        console.log(parentNode);\r\n        if (\r\n            parentNode.className.includes(\"ql-editor\") ||\r\n            parentNode.tagName == \"P\"\r\n        ) {\r\n            const offSetPos = currSelection.getRangeAt(0).startOffset;\r\n            var currPara = currSelection.getRangeAt(0).startContainer;\r\n            const currentContent = currPara.innerText;\r\n            if (currentContent) {\r\n                const currContentStart = currentContent.slice(0, offSetPos);\r\n                const currContentEnd = currentContent.slice(offSetPos);\r\n                currPara.textContent =\r\n                    currContentStart + tags.tagValue + currContentEnd;\r\n            } else {\r\n                // currPara.innerHTML = \"<p></p>\"\r\n                const currContentStart = currPara.data.slice(0, offSetPos);\r\n                const currContentEnd = currPara.data.slice(offSetPos);\r\n                currPara.textContent =\r\n                    currContentStart + tags.tagValue + currContentEnd;\r\n            }\r\n        }\r\n    }\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (props.template) {\r\n            setEmailTemplateBody(props.template.emailTemplateBody);\r\n            setEmailTemplateName(props.template.emailTemplateName);\r\n        }\r\n    }, []);\r\n\r\n    const postData = () => {\r\n        const postRequest =\r\n            \"{emailTemplateName: \" +\r\n            emailTemplateName +\r\n            \",\\n emailTemplateBody: \" +\r\n            emailTemplateBody +\r\n            \"}\";\r\n        alert(\r\n            \"sent a post request:\\n\" +\r\n                postRequest +\r\n                `\\nto ${backendDomain}/api/v1/emailtemplate`\r\n        );\r\n\r\n        axios\r\n            .post(`${backendDomain}/api/v1/emailtemplates`, {\r\n                emailTemplateName,\r\n                emailTemplateBody,\r\n            })\r\n            .then(() => {\r\n                alert(\"Email template added\");\r\n                navigate(\"/react/emailtemplates\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in creation! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    const updateData = () => {\r\n        axios\r\n            .put(\r\n                `${backendDomain}/api/v1/emailtemplates/${props.template.emailTemplateId}`,\r\n                {\r\n                    emailTemplateName,\r\n                    emailTemplateBody,\r\n                }\r\n            )\r\n            .then(() => {\r\n                alert(\"Email template edited!\");\r\n                navigate(\"/react/emailtemplates\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in updating! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div style={{ margin: \"10px\", padding: \"10px\" }}>\r\n            <br></br>\r\n            <label>Email Template Name:</label>\r\n            <input\r\n                onChange={(e) => setEmailTemplateName(e.target.value)}\r\n                value={emailTemplateName}\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                placeholder=\"Enter template name\"\r\n            />\r\n            <br></br>\r\n\r\n            {tags.map((tag) => {\r\n                return (\r\n                    <button\r\n                        onClick={() => {\r\n                            insertSymbol(tag);\r\n                        }}\r\n                        className=\"btn btn-primary\"\r\n                        style={{ padding: \"5px\", margin: \"10px\" }}\r\n                    >\r\n                        {tag.tagName}\r\n                    </button>\r\n                );\r\n            })}\r\n\r\n            <ReactQuill\r\n                theme=\"snow\"\r\n                value={emailTemplateBody}\r\n                onChange={setEmailTemplateBody}\r\n            />\r\n            {props.template ? (\r\n                <>\r\n                    <button className=\"btn btn-primary\" onClick={updateData}>\r\n                        Update Template\r\n                    </button>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <button className=\"btn btn-primary\" onClick={postData}>\r\n                        Submit Template\r\n                    </button>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmailTemplateForm;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nfunction EmailTemplateRow({template,deleteFunction}) {\r\n\r\n    return (\r\n        <div>\r\n            {template.emailTemplateName}\r\n            <button className='btn btn-primary'><Link style={{color:\"white\"}} to = {\"/react/emailtemplates/edit/\"+template.emailTemplateId}>Edit</Link></button>\r\n            <button className='btn btn-danger' onClick={()=>{deleteFunction(template.emailTemplateId)}}>Delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmailTemplateRow;","import React, { useState, useEffect } from \"react\";\r\nimport EmailTemplateForm from \"../../components/emailtemplates/emailTemplateForm\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EmailTemplateRow from \"./emailTemplateRow\";\r\nimport Table from \"@mui/material/Table\";\r\nimport { TableHeader } from \"semantic-ui-react\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nfunction EmailTemplatePage() {\r\n    useEffect(() => {\r\n        getEmailTemplates();\r\n    }, []);\r\n    \r\n    const navigate = useNavigate();\r\n\r\n    const [emailTemplates, setEmailTemplates] = useState([]);\r\n    const getEmailTemplates = () => {\r\n        axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n            console.log(res.data);\r\n            setEmailTemplates(res.data);\r\n        });\r\n    };\r\n\r\n    const deleteEmailTemplate = (emailTemplateId) => {\r\n        axios\r\n            .delete(`${backendDomain}/api/v1/emailtemplates/${emailTemplateId}`)\r\n            .then((res) => {\r\n                alert(\"Email template successfully deleted\");\r\n                getEmailTemplates();\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div class=\"container rounded content\">\r\n            <div class=\"card\" style={{ width: \"60vw\" }}>\r\n                <h1 class=\"main-header\">Email templates</h1>\r\n                <button\r\n                    className=\"btn btn-primary btn-sm\"\r\n                    style={{\r\n                        margin: \"10px auto\",\r\n                        width: \"max-content\",\r\n                        padding: \"10px\",\r\n                    }}\r\n                >\r\n                    <Link\r\n                        to=\"/react/emailtemplates/create\"\r\n                        style={{ color: \"white\" }}\r\n                    >\r\n                        <h6>Create new template</h6>\r\n                    </Link>\r\n                </button>\r\n                <TableContainer component={Paper} elavation={3}>\r\n                    <Table\r\n                        sx={{ minWidth: 640, \"& td\": { border: 0 } }}\r\n                        aria-label=\"simple table\"\r\n                    >\r\n                        <TableHead>\r\n                            <TableCell>\r\n                                <TableHeader align=\"left\">\r\n                                    Email Template Name\r\n                                </TableHeader>\r\n                            </TableCell>\r\n                            <TableCell align=\"center\"></TableCell>\r\n                            <TableCell align=\"center\"></TableCell>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {emailTemplates.length > 0 ? (\r\n                                emailTemplates.map((template) => {\r\n                                    return (\r\n                                        <TableRow>\r\n                                            <TableCell align=\"left\">\r\n                                                {template.emailTemplateName}\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <IconButton\r\n                                                    aria-label=\"edit\"\r\n                                                    style={{ color: \"#5289B5\" }}\r\n                                                    onClick={() => {\r\n                                                        navigate(\"/react/emailtemplates/edit/\" +\r\n                                                        template.emailTemplateId)\r\n                                                    }}\r\n                                                >\r\n                                                    <EditIcon />\r\n                                                </IconButton>\r\n                                            </TableCell>\r\n                                            <TableCell align=\"center\">\r\n                                                <IconButton\r\n                                                    aria-label=\"delete\"\r\n                                                    style={{ color: \"#5289B5\" }}\r\n                                                    onClick={() =>\r\n                                                        deleteEmailTemplate(\r\n                                                            template.emailTemplateId\r\n                                                        )\r\n                                                    }\r\n                                                >\r\n                                                    <DeleteOutlinedIcon />\r\n                                                </IconButton>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    );\r\n                                })\r\n                            ) : (\r\n                                <h2>No templates found</h2>\r\n                            )}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmailTemplatePage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport EmailTemplateForm from \"../../components/emailtemplates/emailTemplateForm\";\r\nimport axios from \"axios\";\r\nfunction EditEmailTemplate() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const { emailTemplateId } = useParams();\r\n    const [emailTemplate, setEmailTemplate] = useState(null);\r\n    const getCurrentEmailTemplate = async () => {\r\n        await axios\r\n            .get(\r\n                `${backendDomain}/api/v1/emailtemplates/get/${emailTemplateId}`\r\n            )\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setEmailTemplate(res.data);\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        const callAsyncFunctions = async () => {\r\n            await getCurrentEmailTemplate();\r\n        };\r\n        callAsyncFunctions().catch(console.error);\r\n    }, []);\r\n    return (\r\n        <div class=\"container rounded content\">\r\n            <div class=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 class=\"main-header\">Edit template</h2>\r\n                {emailTemplate ? (\r\n                    <>\r\n                        <EmailTemplateForm template={emailTemplate} />\r\n                        <button className=\"btn btn-secondary\">\r\n                            <Link\r\n                                to=\"/react/emailtemplates\"\r\n                                style={{ color: \"white\" }}\r\n                            >\r\n                                Cancel\r\n                            </Link>\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <h4>Loading template</h4>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditEmailTemplate;\r\n","import React from \"react\";\r\nimport EmailTemplateForm from \"../../components/emailtemplates/emailTemplateForm\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction CreateEmailTemplate() {\r\n    return (\r\n        <div className=\"container rounded content\">\r\n            <div className=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 className=\"main-header\">Create template</h2>\r\n                <EmailTemplateForm template={null} />\r\n                <button className=\"btn btn-secondary btn-sm\">\r\n                    <Link to=\"/react/emailtemplates\" style={{ color: \"white\" }}>\r\n                        Cancel\r\n                    </Link>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateEmailTemplate;\r\n","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\r\nimport axios from \"axios\";\r\n\r\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport { Form } from \"semantic-ui-react\";\r\n\r\nconst UsersList = () => {\r\n  const backendDomain = process.env.REACT_APP_backendDomain;\r\n  const [users, setUsers] = useState();\r\n  const axiosPrivate = useAxiosPrivate();\r\n  const { setAuth, auth } = useAuth();\r\n\r\n  const [username, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  console.log(auth, \"AUTHHH userpage\");\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    const controller = new AbortController();\r\n    const getUsers = async () => {\r\n      try {\r\n        const response = await axiosPrivate.get(\"/api/v1/users\", {\r\n          signal: controller.signal,\r\n        });\r\n        console.log(response.data);\r\n        isMounted && setUsers(response.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    getUsers();\r\n\r\n    console.log(users);\r\n\r\n    return () => {\r\n      isMounted = false;\r\n      controller.abort();\r\n    };\r\n  }, []);\r\n\r\n  const register = () => {\r\n    axios\r\n      .post(`${backendDomain}/api/v1/user/save`, {\r\n        username,\r\n        email,\r\n        password,\r\n        phoneNumber: phone,\r\n        userRoles: [\r\n          {\r\n            id: 2,\r\n            name: \"ROLE_ADMIN\",\r\n          },\r\n        ],\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n\r\n        const postRequest =\r\n          \"{username: \" +\r\n          username +\r\n          \",\\n email: \" +\r\n          email +\r\n          \",\\n password: \" +\r\n          password +\r\n          \",\\n phoneNumber: \" +\r\n          phone +\r\n          \",\\n userRoles: \" +\r\n          JSON.stringify([\r\n            {\r\n              id: 2,\r\n              name: \"ROLE_ADMIN\",\r\n            },\r\n          ]) +\r\n          \"}\";\r\n\r\n        alert(\r\n          \"sent a post request:\\n\" +\r\n            postRequest +\r\n            `\\nto ${backendDomain}/api/v1/user/save`\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data.message);\r\n      });\r\n  };\r\n\r\n  const upgradeToAdmin = async (username) => {\r\n    try {\r\n      const response = await axiosPrivate.post(\"/api/v1/role/addtouser\", {\r\n        username,\r\n        roleName: \"ROLE_ADMIN\",\r\n      });\r\n      console.log(response.data);\r\n      alert(username + \" is now an Admin\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const deleteUser = (id) => {\r\n    axios\r\n      .delete(`${backendDomain}/api/v1/users/delete/${id}`)\r\n      .then((response) => {\r\n        alert(`User ${id} deleted`);\r\n      });\r\n  };\r\n\r\n  console.log(users, \"USERSS\");\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  var state = {\r\n    file: null,\r\n  };\r\n  const handleFile = (e) => {\r\n    let file = e.target.files[0];\r\n    //console.log(e.target.files, \"$$$\")\r\n    state = {\r\n      file: file,\r\n    };\r\n  };\r\n  const helpUpload = (e) => {\r\n    console.log(state, \"The state ****\");\r\n    let file = state.file;\r\n    var formdata = new FormData();\r\n    formdata.append(\"file\", file);\r\n    axios({\r\n      method: \"post\",\r\n      url: `${backendDomain}/api/v1/upload`,\r\n      data: formdata,\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    })\r\n      .then(function (response) {\r\n        //handle success\r\n        console.log(response);\r\n        alert(\"Users added successfully!\");\r\n      })\r\n      .catch(function (response) {\r\n        //handle error\r\n        console.log(response);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div class=\"card\" style={{ width: \"60rem\", height: \"80vh\" }}>\r\n        {auth?.roles?.includes(\"ROLE_ADMIN\") && (\r\n          <form>\r\n            <div>\r\n              <h2>Import Employees From CSV</h2>\r\n              <input\r\n                type=\"file\"\r\n                name=\"file\"\r\n                onChange={(e) => handleFile(e)}\r\n              ></input>\r\n              <Button\r\n                variant=\"contained\"\r\n                type=\"button\"\r\n                onClick={(e) => helpUpload(e)}\r\n              >\r\n                Upload\r\n              </Button>\r\n              <hr></hr>\r\n            </div>\r\n          </form>\r\n        )}\r\n        <div>\r\n          {auth?.roles?.includes(\"ROLE_ADMIN\") && (\r\n            <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n              Add new Admin\r\n            </Button>\r\n          )}\r\n\r\n          <Dialog\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n              {\"Add new adminstrator\"}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              <Form className=\"create-form\" style={{ margin: \"auto\" }}>\r\n                <Form.Field>\r\n                  <label>Name</label>\r\n                  <input\r\n                    placeholder=\"Name\"\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                  <label>Email</label>\r\n                  <input\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                  <label>Password</label>\r\n                  <input\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                  <label>Phone</label>\r\n                  <input\r\n                    placeholder=\"Phone\"\r\n                    onChange={(e) => setPhone(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Button onClick={register} type=\"submit\">\r\n                  Register\r\n                </Button>\r\n              </Form>\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n              <Button onClick={handleClose} autoFocus>\r\n                Close\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </div>\r\n\r\n        <h2>Users List</h2>\r\n        {users?.length ? (\r\n          <TableContainer component={Paper} elevation={3}>\r\n            <Table\r\n              sx={{ minWidth: 640, \"& td\": { border: 0 } }}\r\n              aria-label=\"simple table\"\r\n            >\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>User ID</TableCell>\r\n                  <TableCell>User Name</TableCell>\r\n                  <TableCell align=\"left\">User Email</TableCell>\r\n                  <TableCell align=\"left\">Phone Number</TableCell>\r\n                  <TableCell align=\"left\">Role/s</TableCell>\r\n                  <TableCell align=\"center\">Delete</TableCell>\r\n                  <TableCell align=\"center\">Upgrade to Admin</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {users?.map((user) => (\r\n                  <TableRow\r\n                    key={user.id}\r\n                    sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\r\n                  >\r\n                    <TableCell align=\"left\">{user.id}</TableCell>\r\n                    <TableCell align=\"left\">{user.username}</TableCell>\r\n                    <TableCell align=\"left\">{user.email}</TableCell>\r\n                    <TableCell align=\"left\">{user.phoneNumber}</TableCell>\r\n\r\n                    <TableCell align=\"left\">\r\n                      {user.userRoles.length > 1\r\n                        ? user.userRoles?.map((role) => `${role.name}, `)\r\n                        : user.userRoles?.map((role) => `${role.name}`)}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      <IconButton\r\n                        aria-label=\"delete\"\r\n                        style={{ color: \"#5289B5\" }}\r\n                        onClick={() => deleteUser(user.id)}\r\n                      >\r\n                        <DeleteOutlinedIcon />\r\n                      </IconButton>\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {user.userRoles[0]?.name !== \"ROLE_ADMIN\" &&\r\n                        user.userRoles[1]?.name !== \"ROLE_ADMIN\" &&\r\n                        user.userRoles[2]?.name !== \"ROLE_ADMIN\" && (\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            onClick={() => upgradeToAdmin(user.username)}\r\n                          >\r\n                            Become Admin\r\n                          </Button>\r\n                        )}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        ) : (\r\n          <p>You do not have the access rights</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"../../api/axios\";\r\n\r\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nfunction AttractionList() {\r\n  const { setAuth, auth } = useAuth();\r\n  useEffect(() => {\r\n    getAttractions();\r\n    getEmailTemplates();\r\n  }, []);\r\n  const [attractions, setAttractions] = useState([]);\r\n  const [emailTemplates, setEmailTemplates] = useState([]);\r\n\r\n  const getEmailTemplates = async () => {\r\n    await axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n      setEmailTemplates(res.data);\r\n    });\r\n  };\r\n\r\n  const getAttractions = async () => {\r\n    await axios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n      setAttractions(res.data);\r\n    });\r\n  };\r\n  const deleteAttraction = (attractionId) => {\r\n    axios\r\n      .delete(`${backendDomain}/api/v1/attractions/${attractionId}`)\r\n      .then((res) => {\r\n        alert(\"Attraction successfully deleted\");\r\n        getAttractions();\r\n      });\r\n  };\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div class=\"card\" style={{ width: \"60rem\", height: \"70vh\" }}>\r\n        <div>\r\n          <h1 class=\"main-header\">Attraction List</h1>\r\n          <button className=\"btn btn-primary btn-sm\">\r\n            <Link to=\"/react/attractions/create\" style={{ color: \"white\" }}>\r\n              Create new attraction\r\n            </Link>\r\n          </button>\r\n          <TableContainer component={Paper} elevation={3}>\r\n            <Table\r\n              sx={{ minWidth: 640, \"& td\": { border: 0 } }}\r\n              aria-label=\"simple table\"\r\n            >\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Attraction ID</TableCell>\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>Description</TableCell>\r\n                  <TableCell>PassType</TableCell>\r\n                  <TableCell>Replacement Fee</TableCell>\r\n                  <TableCell>Email Template</TableCell>\r\n                  <TableCell>Total Passes</TableCell>\r\n                  <TableCell>Status</TableCell>\r\n                  {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                    <>\r\n                      <TableCell align=\"center\"></TableCell>\r\n                      <TableCell align=\"center\"></TableCell>\r\n                    </>\r\n                  )}\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {attractions.length > 0 ? (\r\n                  attractions.map((attraction) => {\r\n                    return (\r\n                      <TableRow\r\n                        key={attraction.attractionID}\r\n                        sx={{\r\n                          \"&:last-child td, &:last-child th\": { border: 0 },\r\n                        }}\r\n                      >\r\n                        <TableCell>{attraction.attractionID}</TableCell>\r\n                        <TableCell>{attraction.name}</TableCell>\r\n                        <TableCell>{attraction.description}</TableCell>\r\n                        <TableCell>{attraction.passType} </TableCell>\r\n                        <TableCell>${attraction.replacementFee}</TableCell>\r\n                        <TableCell>\r\n                          {attraction.emailTemplateID}\r\n                          {/* {\r\n                                                    emailTemplates.length > 0\r\n                                                        ? \r\n                                                        emailTemplates.filter(\r\n                                                              (template) =>\r\n                                                                  template.emailTemplateId ==\r\n                                                                  attraction.emailTemplateID\r\n                                                          )[0].emailTemplateName\r\n                                                        : \"No templates\"\r\n                                                } */}\r\n                        </TableCell>\r\n                        <TableCell>{attraction.totalPasses}</TableCell>\r\n                        <TableCell>{attraction.status}</TableCell>\r\n                        {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                          <>\r\n                            <TableCell align=\"center\">\r\n                              <IconButton\r\n                                aria-label=\"delete\"\r\n                                style={{ color: \"#5289B5\" }}\r\n                                onClick={() =>\r\n                                  deleteAttraction(attraction.attractionID)\r\n                                }\r\n                              >\r\n                                <DeleteOutlinedIcon />\r\n                              </IconButton>\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              <IconButton\r\n                                aria-label=\"edit\"\r\n                                style={{ color: \"#5289B5\" }}\r\n                                href={`/react/attractions/${attraction.attractionID}`}\r\n                              >\r\n                                <EditIcon />\r\n                              </IconButton>\r\n                            </TableCell>\r\n                          </>\r\n                        )}\r\n                      </TableRow>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <>None</>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AttractionList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Checkbox, Dropdown, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nconst AttractionForm = (props) => {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const navigate = useNavigate();\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [passType, setPassType] = useState(\"Physical\");\r\n    const [replacementFee, setReplacementFee] = useState(1);\r\n    const [emailTemplateID, setEmailTemplateID] = useState(1);\r\n    const [totalPasses, setTotalPasses] = useState(1);\r\n    const [status, setStatus] = useState(\"Active\");\r\n\r\n    const [emailTemplates, setEmailTemplates] = useState([]);\r\n\r\n    const retrieveEmailTemplates = () => {\r\n        axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n            setEmailTemplates(res.data);\r\n        });\r\n    };\r\n\r\n    const postData = () => {\r\n        const postRequest =\r\n            \"{name: \" +\r\n            name +\r\n            \",\\n description: \" +\r\n            description +\r\n            \",\\n passType: \" +\r\n            passType +\r\n            \",\\n replacementFee: \" +\r\n            replacementFee +\r\n            \",\\n emailTemplate: \" +\r\n            emailTemplateID +\r\n            \",\\n totalPasses: \" +\r\n            totalPasses +\r\n            \",\\n status: Active\" +\r\n            status +\r\n            \"}\";\r\n        alert(\r\n            \"sent a post request:\\n\" +\r\n                postRequest +\r\n                `\\nto ${backendDomain}/api/v1/attractions`\r\n        );\r\n\r\n        axios\r\n            .post(`${backendDomain}/api/v1/attractions`, {\r\n                // attractionId,\r\n                name,\r\n                description,\r\n                passType,\r\n                replacementFee,\r\n                emailTemplateID,\r\n                totalPasses,\r\n                status,\r\n            })\r\n            .then(() => {\r\n                alert(\"success! going to read page\");\r\n                navigate(\"/react/attractions\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in creation! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    const updateData = () => {\r\n        axios\r\n            .put(\r\n                `${backendDomain}/api/v1/attractions/${props.attraction.attractionID}`,\r\n                {\r\n                    name,\r\n                    description,\r\n                    passType,\r\n                    replacementFee,\r\n                    emailTemplateID,\r\n                    totalPasses,\r\n                    status,\r\n                }\r\n            )\r\n            .then(() => {\r\n                alert(\"Attraction edited!\");\r\n                navigate(\"/react/attractions\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in updating! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log(\"props.attraction\", props.attraction);\r\n        retrieveEmailTemplates();\r\n        if (props.attraction) {\r\n            // attractionID: 1;\r\n            // description: \"Zoo is a really fun place. You get to see the white tiger\";\r\n            // emailTemplateID: 1;\r\n            // name: \"Zoo\";\r\n            // passType: \"Physical\";\r\n            // replacementFee: 50;\r\n            // status: \"Active\";\r\n            // totalPasses: 100;\r\n\r\n            setName(props.attraction.name);\r\n            setDescription(props.attraction.description);\r\n            setEmailTemplateID(props.attraction.emailTemplateID);\r\n            setPassType(props.attraction.passType);\r\n            setReplacementFee(props.attraction.replacementFee);\r\n            setStatus(props.attraction.status);\r\n            setTotalPasses(props.attraction.totalPasses);\r\n        }\r\n    }, []);\r\n    return (\r\n        <div style={{ margin: \"10px\", padding: \"10px\" }}>\r\n            <Form className=\"create-form\">\r\n                <Form.Field>\r\n                    <label>Name:</label>\r\n                    <input\r\n                        value={name}\r\n                        placeholder=\"Name\"\r\n                        onChange={(e) => setName(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Description:</label>\r\n                    <input\r\n                        placeholder=\"Description\"\r\n                        value={description}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Pass Type:</label>\r\n                    <select onChange={(e) => setPassType(e.target.value)}>\r\n                        <option value=\"Physical\">Physical</option>\r\n                        <option value=\"E-Pass\">E-Pass</option>\r\n                        <option value=\"E-Pass\">Both</option>\r\n                    </select>\r\n                </Form.Field>\r\n\r\n                <Form.Field>\r\n                    <label>Replacement Fee:</label>\r\n                    <input\r\n                        placeholder=\"Replacement Fee\"\r\n                        value={replacementFee}\r\n                        type=\"number\"\r\n                        onChange={(e) => setReplacementFee(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Email Template:</label>\r\n                    <select\r\n                        onChange={(e) => setEmailTemplateID(e.target.value)}\r\n                        value = {emailTemplateID}\r\n                    >\r\n                        {emailTemplates.map((emailTemplate) => {\r\n                            return (\r\n                                <option value={emailTemplate.emailTemplateId}>\r\n                                    {emailTemplate.emailTemplateName}\r\n                                </option>\r\n                            );\r\n                        })}\r\n                    </select>\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Total Passes:</label>\r\n                    <input\r\n                        value={totalPasses}\r\n                        placeholder=\"Total Passes\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        step=\"1\"\r\n                        onChange={(e) => setTotalPasses(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Status:</label>\r\n                    <select\r\n                        value={status}\r\n                        onChange={(e) => setStatus(e.target.value)}\r\n                    >\r\n                        <option value=\"Active\">Active</option>\r\n                        <option value=\"Non-active\">Non-active</option>\r\n                    </select>\r\n                </Form.Field>\r\n\r\n                {props.attraction ? (\r\n                    <>\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={updateData}\r\n                        >\r\n                            Update Attraction\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <button className=\"btn btn-primary\" onClick={postData}>\r\n                            Submit Attraction\r\n                        </button>\r\n                    </>\r\n                )}\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttractionForm;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AttractionForm from \"../../components/attractions/AttractionForm\";\r\nfunction CreateAttractions() {\r\n    return (\r\n        <div className=\"container rounded content\">\r\n            <div className=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 className=\"main-header\">Create Attraction</h2>\r\n                <AttractionForm attraction={null} />\r\n                <button className=\"btn btn-secondary btn-sm\">\r\n                    <Link to=\"/react/attractions\" style={{ color: \"white\" }}>\r\n                        Cancel\r\n                    </Link>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateAttractions;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport AttractionForm from \"../../components/attractions/AttractionForm\";\r\nimport axios from \"../../api/axios\";\r\nfunction UpdateAttraction() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const { attractionId } = useParams();\r\n    const [attraction, setAttraction] = useState(null);\r\n    const getCurrentEmailTemplate = async () => {\r\n        await axios\r\n            .get(`${backendDomain}/api/v1/attractions/${attractionId}`)\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setAttraction(res.data);\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        const callAsyncFunctions = async () => {\r\n            await getCurrentEmailTemplate();\r\n        };\r\n        callAsyncFunctions().catch(console.error);\r\n    }, []);\r\n    return (\r\n        <div className=\"container rounded content\">\r\n            <div className=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 className=\"main-header\">Update Attraction</h2>\r\n                {attraction ? (\r\n                    <>\r\n                        <AttractionForm attraction={attraction} />\r\n                        <button className=\"btn btn-secondary btn-sm\">\r\n                            <Link\r\n                                to=\"/react/attractions\"\r\n                                style={{ color: \"white\" }}\r\n                            >\r\n                                Cancel\r\n                            </Link>\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <h4>Loading attraction</h4>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UpdateAttraction;\r\n","import React, { useState , useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Bar} from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n);\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nconst url = backendDomain + \"/api/v1/successloan\";\r\n\r\nexport default function EmployeeStatistics() {\r\n    const [chartData,setChartData] = useState({})\r\n    const [loading, setLoading] = useState(false)\r\n    const [options, setOptions] = useState({})\r\n\r\n    const [employeeId, setEmployeeId] = useState(\"1\")\r\n    const [chartMode, setChartMode] = useState(\"Monthly\")\r\n    const [labels,setLabels] = useState(['Jan 22', 'Feb 22', 'Mar 22', 'Apr 22', 'May 22', 'Jun 22', 'Jul 22', 'Aug 22', 'Sep 22', 'Oct 22', 'Nov 22', 'Dec 22']);\r\n    const [data, setData] = useState([])\r\n    const [year, setYear] = useState(\"2022\");\r\n    const [yearlist, setYearList] = useState([])\r\n\r\n    function handleYearSubmit(event){\r\n        setYear(event.target.value)\r\n        setChartMode(\"Monthly\")\r\n        setChartData(chartData)\r\n    }\r\n\r\n    function handleCMSubmit(event) {\r\n    setChartMode(event.target.value)\r\n    setChartData(chartData)\r\n    }\r\n\r\n    function handleEmpSubmit(event) {\r\n    setEmployeeId(event.target.value)\r\n    setChartData(chartData)\r\n    }\r\n\r\n    useEffect (() => {\r\n    let loanlist = {}; //this is for month\r\n    let yearlist = {};\r\n    let biannlist = {};\r\n    let halfmonths = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\"];\r\n    axios.get(url).then(response => {\r\n        response.data.forEach(successfulloan => {\r\n            if(successfulloan.staffId == employeeId){\r\n                // GETTING MONTHLIST \r\n                if(successfulloan.year in loanlist){\r\n                    loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n                }else{\r\n                    loanlist[successfulloan.year] = [0,0,0,0,0,0,0,0,0,0,0,0];\r\n                    loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n                }\r\n                // GETTING YEARLIST\r\n                if(successfulloan.year in yearlist){\r\n                    yearlist[successfulloan.year] += 1;\r\n                } else{\r\n                    yearlist[successfulloan.year] = 1;\r\n                }\r\n                // GETTING BIANNUAL\r\n                if(successfulloan.year in biannlist){\r\n                    if(halfmonths.includes(successfulloan.month)){\r\n                        biannlist[successfulloan.year][0] += 1\r\n                    }else{\r\n                        biannlist[successfulloan.year][1] += 1\r\n                    }\r\n                }else{\r\n                    biannlist[successfulloan.year] = [0,0]\r\n                    if(halfmonths.includes(successfulloan.month)){\r\n                        biannlist[successfulloan.year][0] += 1\r\n                    }else{\r\n                        biannlist[successfulloan.year][1] += 1\r\n                    }\r\n                }\r\n                \r\n            }\r\n        })\r\n        let templist = Object.keys(yearlist)\r\n        templist.sort()\r\n        setYearList(templist)\r\n        if(chartMode == \"Monthly\"){\r\n            setData(loanlist[year])\r\n            let i = year.slice(2,4)\r\n            setLabels(['Jan ' + i, 'Feb ' + i, 'Mar ' + i, 'Apr ' + i, 'May ' + i, 'Jun ' + i, 'Jul ' + i, 'Aug ' + i, 'Sep ' + i, 'Oct ' + i, 'Nov ' + i, 'Dec ' + i])\r\n        } else if(chartMode == \"Bi-Annually\"){\r\n            let i = Object.keys(biannlist);\r\n            i.sort()\r\n            let j = []\r\n            let k = []\r\n            for(var keys of i){\r\n                j.push(keys + \" 1st\")\r\n                j.push(keys + \" 2nd\")\r\n                k.push(biannlist[keys][0])\r\n                k.push(biannlist[keys][1])\r\n            }\r\n            setData(k)\r\n            setLabels(j)\r\n        } else if(chartMode == \"Annually\"){\r\n            let i = Object.keys(yearlist);\r\n            i.sort()\r\n            let j = []\r\n            let k = []\r\n            for(var keys of i){\r\n                j.push(keys)\r\n                k.push(yearlist[keys])\r\n            }\r\n            setData(k)\r\n            setLabels(j)\r\n        }\r\n    })\r\n},[employeeId, chartMode, year])\r\n        \r\n\r\nuseEffect (() => {\r\n        setChartData({\r\n        labels: labels,\r\n        datasets:[\r\n            {\r\n            label:\"employee \" + employeeId + \"'s pass booking records\",\r\n            data: data,\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 0.5)',\r\n            ],\r\n            borderColor: [\r\n                'rgba(255, 99, 132, 1)'\r\n            ]\r\n            }\r\n        ]\r\n        })\r\n        setOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n            legend: {\r\n            position: 'top',\r\n            },\r\n            title: {\r\n            display: true,\r\n            text: 'Employee bookings ' + chartMode,\r\n            }\r\n        }\r\n        })\r\n        setLoading(true)\r\n    },[data,labels])\r\n\r\n    if (loading)\r\n    return (\r\n    <div class=\"container rounded content\">\r\n        <div class=\"card\" style={{\"height\": \"600px\", \"width\":\"1000px\"}}>\r\n            <h4 class=\"sub-header\">Employee ID: <input name=\"EmployeeID\" value = {employeeId} onChange={handleEmpSubmit}/></h4>\r\n            <h4 class=\"sub-header\"><button value = \"Monthly\" onClick={handleCMSubmit}>Monthly</button>{' :'}\r\n            <select onChange={handleYearSubmit}>\r\n            {yearlist.map(res => (\r\n            <option value={res}>\r\n                {res}\r\n            </option>\r\n            ))}\r\n            </select>{' '}\r\n            <button value = \"Bi-Annually\" onClick={handleCMSubmit}>Bi-Annually</button>{' '}\r\n            <button value = \"Annually\" onClick={handleCMSubmit}>Annually</button></h4>\r\n            <div style={{\"height\": \"600px\", \"width\":\"1000px\"}}><Bar data={chartData} options = {options}/></div>\r\n        </div>\r\n    </div>\r\n    )\r\n\r\n\r\n}","import React, { useState , useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Bar} from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n);\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nconst url = backendDomain + \"/api/v1/successloan\";\r\n\r\nexport default function MonthlyStatistics() {\r\n  const [chartData,setChartData] = useState({})\r\n  const [loading, setLoading] = useState(false)\r\n  const [options, setOptions] = useState({})\r\n  const [year, setYear] = useState(\"2022\")\r\n  const [labels,setLabels] = useState(['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']);\r\n  const [loanlistconst, setLoanListConst] = useState([])\r\n  \r\n\r\n  function handleSubmit(event) {\r\n    setYear(event.target.value)\r\n    setChartData(chartData)\r\n  }\r\n\r\n  useEffect (() => { \r\n    let loanlist = {};\r\n    let borrowlist = {\"1\": new Set(), \"2\": new Set(), \"3\": new Set(), \"4\": new Set(), \"5\": new Set(), \"6\": new Set(), \"7\": new Set(), \"8\": new Set(), \"9\": new Set(), \"10\": new Set(), \"11\": new Set(), \"12\": new Set()};\r\n    let borrowcount = [];\r\n    axios.get(url).then(response => {\r\n      response.data.forEach(successfulloan => {\r\n        if(successfulloan.year in loanlist){\r\n          loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n        }else{\r\n          loanlist[successfulloan.year] = [0,0,0,0,0,0,0,0,0,0,0,0];\r\n          loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n        }\r\n        if(successfulloan.year == year){\r\n          borrowlist[successfulloan.month].add(successfulloan.staffId)\r\n        }\r\n\r\n      })\r\n      for(var i of Object.keys(borrowlist)){\r\n        console.log(borrowlist[i])\r\n        borrowcount.push(borrowlist[i].size)\r\n      }\r\n\r\n      setYear(year)\r\n      setChartData({\r\n        labels: labels,\r\n        datasets:[\r\n          {\r\n            label:\"No of loans per month in \" + year,\r\n            data: loanlist[year],\r\n            backgroundColor: [\r\n              'rgba(255, 99, 132, 0.5)',\r\n            ],\r\n            borderColor: [\r\n              'rgba(255, 99, 132, 1)'\r\n            ]\r\n          },\r\n          {\r\n            label:\"No of borrowers per month in \" + year,\r\n            data: borrowcount,\r\n            backgroundColor: [\r\n              'rgba(54, 162, 235, 0.5)',\r\n            ],\r\n            borderColor: [\r\n              'rgba(54, 162, 235, 1)',\r\n            ]\r\n          }\r\n        ]\r\n      })\r\n\r\n      // console.log(loanlist);\r\n      setLoanListConst(Object.keys(loanlist));\r\n\r\n      setOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: 'top',\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: 'Monthly chart in ' + year,\r\n          }\r\n        }\r\n      })\r\n      setLoading(true)\r\n  })\r\n  },[year])\r\n  \r\n  if (loading)\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div class=\"card\" style={{\"height\": \"600px\", \"width\":\"1000px\"}}>\r\n        {/* Select Year: <input name=\"yearinput\" value = {year} onChange={handleSubmit}/> */}\r\n        <h4 class=\"sub-header\">Select Year:\r\n        <select value={year} onChange={handleSubmit}>\r\n          {loanlistconst.map(res => (\r\n            <option value={res}>\r\n              {res}\r\n            </option>\r\n          ))}\r\n        </select></h4>\r\n        <div style={{\"height\": \"600px\", \"width\":\"1000px\"}}><Bar data={chartData} options = {options}/></div>\r\n      </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n  )\r\n\r\n\r\n}\r\n\r\n","import \"./App.css\";\r\n// ========================= general components =========================\r\n// ======== routing ========\r\nimport { BrowserRouter, Route, Routes, Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n// ======== nav bar ========\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\r\n\r\nimport vid_background from \"./pages/assets/background.mp4\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\n// ========================= pages/entities =========================\r\n// ======== homepage ========\r\nimport Home from \"./pages/home\";\r\n// import HomePage from \"./components/general/home\";\r\n\r\n// ======== authentication ========\r\nimport Authenticate from \"./pages/authentication/authenticate\";\r\n\r\n// ======== loanpass ========\r\nimport Read from \"./components/loanpass/read loanpass\";\r\nimport Update from \"./components/loanpass/update loanpass\";\r\nimport CreateLoanPass from \"./components/loanpass/create loanpass\";\r\nimport LoanApplication from \"./components/loanpass/loan\";\r\n\r\n// ======== booking ========\r\nimport ViewBooking from \"./components/booking/viewbooking\";\r\n\r\n// ======== email template ========\r\nimport EmailTemplatePage from \"./pages/emailtemplates/emailTemplatePage\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport EditEmailTemplate from \"./pages/emailtemplates/editEmailTemplate\";\r\nimport CreateEmailTemplate from \"./pages/emailtemplates/createEmailTemplate\";\r\n\r\n// ================= Users =======================\r\nimport UsersList from \"./pages/users/UsersList\";\r\n\r\n// ================= Attractions =======================\r\nimport AttractionList from \"./pages/attractions/attractionList\";\r\nimport CreateAttractions from \"./pages/attractions/createAttractions\";\r\nimport UpdateAttraction from \"./pages/attractions/updateAttraction\";\r\n// import CreateAttractions from \"./pages/attractions/createAttractions\";\r\n// =============== Singapore Statistics ==============\r\nimport EmployeeStatistics from \"./components/successloan/employeestatistic\";\r\nimport MonthlyStatistics from \"./components/successloan/monthlystatistic\";\r\nimport useAuth from \"./hooks/useAuth\";\r\n\r\nexport default function App() {\r\n  const { setAuth, auth } = useAuth();\r\n  const logout = async () => {\r\n    setAuth({});\r\n    localStorage.setItem(\"auth\", {});\r\n    alert(\"You have been logged out\");\r\n  };\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"App\">\r\n        {/* NAV BAR */}\r\n\r\n        <Navbar bg=\"light\" expand=\"lg\" fixed=\"top\">\r\n          <Container>\r\n            <Navbar.Brand href=\"#home\">Corporate Pass Application</Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n              <Nav className=\"me-auto\" defaultActiveKey=\"/react\" as=\"ul\">\r\n                <Nav.Item as=\"li\">\r\n                  <Nav.Link href=\"\">\r\n                    <Link to=\"/react/auth\" onClick={() => logout()}>\r\n                      Logout\r\n                    </Link>\r\n                  </Nav.Link>\r\n                </Nav.Item>\r\n\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/auth\">Authenticate</Link>\r\n                </Nav.Link>\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/loan\">Loan Application</Link>\r\n                </Nav.Link>\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/viewbooking\">View Booking</Link>\r\n                </Nav.Link>\r\n                {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                  <Nav.Link href=\"\">\r\n                    <Link to=\"/react/emailtemplates\">Email Templates</Link>\r\n                  </Nav.Link>\r\n                )}\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/users\">Users</Link>\r\n                </Nav.Link>\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/attractions\">Attractions</Link>\r\n                </Nav.Link>\r\n                {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                  <Nav.Link title=\"Loan Pass\" id=\"basic-nav-dropdown\">\r\n                    <Link to=\"/react/read\">Loanpass</Link>\r\n                  </Nav.Link>\r\n                )}\r\n                <NavDropdown title=\"Statistics\" id=\"basic-nav-dropdown\">\r\n                  <NavDropdown.Item href=\"\">\r\n                    <Link to=\"/react/employeestatistic\">\r\n                      Employee Statistics\r\n                    </Link>\r\n                  </NavDropdown.Item>\r\n                  <NavDropdown.Item href=\"\">\r\n                    <Link to=\"/react/monthlystatistic\">Monthly Statistics</Link>\r\n                  </NavDropdown.Item>\r\n                  {/* <NavDropdown.Item href=\"\">Something</NavDropdown.Item>\r\n                  <NavDropdown.Divider />\r\n                  <NavDropdown.Item href=\"\">Separated link</NavDropdown.Item> */}\r\n                </NavDropdown>\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </Container>\r\n        </Navbar>\r\n\r\n          {/* END OF NAVBAR */}\r\n          <div>\r\n              <video autoPlay loop muted>\r\n              <source src={vid_background} type = \"video/mp4\"></source>\r\n              </video>\r\n            </div>\r\n          <div className=\"main\">\r\n            {/* authentication */}\r\n\r\n          <Routes>\r\n            <Route exact path=\"/react\" element={<Home />} />\r\n            <Route exact path=\"/react/auth\" element={<Authenticate />} />\r\n            {/* loanpass */}\r\n            <Route\r\n              exact\r\n              path=\"/react/createloanpass\"\r\n              element={<CreateLoanPass />}\r\n            />\r\n            <Route exact path=\"/react/read\" element={<Read />} />\r\n            <Route exact path=\"/react/update\" element={<Update />} />\r\n            <Route exact path=\"/react/loan\" element={<LoanApplication />} />\r\n\r\n            {/* booking */}\r\n            <Route exact path=\"/react/viewbooking\" element={<ViewBooking />} />\r\n\r\n            {/* email templates */}\r\n\r\n            <Route\r\n              exact\r\n              path=\"/react/emailtemplates\"\r\n              element={<EmailTemplatePage />}\r\n            />\r\n\r\n            <Route\r\n              exact\r\n              path=\"/react/emailtemplates/create\"\r\n              element={<CreateEmailTemplate />}\r\n            ></Route>\r\n\r\n            <Route\r\n              exact\r\n              path=\"/react/emailtemplates/edit/:emailTemplateId\"\r\n              element={<EditEmailTemplate />}\r\n            ></Route>\r\n\r\n            <Route exact path=\"/react/users\" element={<UsersList />}></Route>\r\n            {/* attractions */}\r\n            <Route\r\n              exact\r\n              path=\"/react/attractions\"\r\n              element={<AttractionList />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/attractions/create\"\r\n              element={<CreateAttractions />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/attractions/:attractionId\"\r\n              element={<UpdateAttraction />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/employeestatistic\"\r\n              element={<EmployeeStatistics />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/monthlystatistic\"\r\n              element={<MonthlyStatistics />}\r\n            ></Route>\r\n          </Routes>\r\n        </div>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { AuthProvider } from \"./context/AuthProvider\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}