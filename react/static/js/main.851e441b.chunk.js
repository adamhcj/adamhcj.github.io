(this.webpackJsonpcrud_app=this.webpackJsonpcrud_app||[]).push([[0],{250:function(e,t,a){},251:function(e,t,a){},473:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(134),r=a.n(o),s=(a(250),a(28)),i=a(29),l=a(36),j=a(62),u=(a(251),a(5)),b=a(35),d=a.n(b),h=a(492),O=a(493),p=a(64),x=a(2);function g(){var e="https://pip-react-spring-postgres.herokuapp.com",t=Object(c.useState)([]),a=Object(u.a)(t,2),n=a[0],o=a[1];Object(c.useEffect)((function(){console.log("hello"),d.a.get("".concat(e,"/api/v1/loanpass")).then((function(e){console.log(e.data),o(e.data)}))}),[]);var r=function(t){d.a.delete("".concat(e,"/api/v1/loanpass/").concat(t)).then((function(){d.a.get("".concat(e,"/api/v1/loanpass")).then((function(e){o(e.data)}))}))};return Object(x.jsx)("div",{children:Object(x.jsxs)(h.a,{singleLine:!0,children:[Object(x.jsx)(h.a.Header,{children:Object(x.jsxs)(h.a.Row,{children:[Object(x.jsx)(h.a.HeaderCell,{children:"passId"}),Object(x.jsx)(h.a.HeaderCell,{children:"attractionId"}),Object(x.jsx)(h.a.HeaderCell,{children:"passNumber"}),Object(x.jsx)(h.a.HeaderCell,{children:"previousLoanBy"}),Object(x.jsx)(h.a.HeaderCell,{children:"description"})]})}),Object(x.jsx)(h.a.Body,{children:n.map((function(e){return Object(x.jsxs)(h.a.Row,{children:[Object(x.jsx)(h.a.Cell,{children:e.passId}),Object(x.jsx)(h.a.Cell,{children:e.attractionId}),Object(x.jsx)(h.a.Cell,{children:e.passNumber}),Object(x.jsx)(h.a.Cell,{children:e.previousLoanBy}),Object(x.jsx)(h.a.Cell,{children:e.description}),Object(x.jsx)(p.b,{to:"/react/update",children:Object(x.jsx)(h.a.Cell,{children:Object(x.jsx)(O.a,{onClick:function(){return function(e){var t=e.passId,a=e.attractionId,c=e.passNumber,n=e.previousLoanBy,o=e.description;localStorage.setItem("passId",t),localStorage.setItem("attractionId",a),localStorage.setItem("passNumber",c),localStorage.setItem("previousLoanBy",n),localStorage.setItem("description",o)}(e)},children:"Update"})})}),Object(x.jsx)(h.a.Cell,{children:Object(x.jsx)(O.a,{onClick:function(){return r(e.passId)},children:"Delete"})})]})}))})]})})}var f=a(491),v=a(12);function m(){var e=Object(v.m)(),t=Object(c.useState)(""),a=Object(u.a)(t,2),n=a[0],o=a[1],r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],l=s[1],j=Object(c.useState)(""),b=Object(u.a)(j,2),h=b[0],p=b[1],g=Object(c.useState)(""),m=Object(u.a)(g,2),I=m[0],C=m[1],y=Object(c.useState)(""),S=Object(u.a)(y,2),k=S[0],w=S[1];Object(c.useEffect)((function(){o(localStorage.getItem("passId")),l(localStorage.getItem("attractionId")),p(localStorage.getItem("passNumber")),C(localStorage.getItem("previousLoanBy")),w(localStorage.getItem("description"))}),[]);return Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{className:"create-form",children:[Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"attractionId"}),Object(x.jsx)("input",{placeholder:"attractionId",value:i,onChange:function(e){return l(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"passNumber"}),Object(x.jsx)("input",{placeholder:"passNumber",value:h,onChange:function(e){return p(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"previousLoanBy"}),Object(x.jsx)("input",{placeholder:"previousLoanBy",value:I,onChange:function(e){return C(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"description"}),Object(x.jsx)("input",{placeholder:"description",value:k,onChange:function(e){return w(e.target.value)}})]}),Object(x.jsx)(O.a,{type:"submit",onClick:function(){d.a.put("".concat("https://pip-react-spring-postgres.herokuapp.com","/api/v1/loanpass/").concat(n,"?attractionId=").concat(i,"&passNumber=").concat(h,"&previousLoanBy=").concat(I,"&description=").concat(k,")"),null).then((function(){e("/react/read")})).catch((function(e){alert("error in update! staying on this page."+e)}))},children:"Update"})]})})}var I=a(495);function C(){var e="https://pip-react-spring-postgres.herokuapp.com",t=Object(v.m)(),a=Object(c.useState)(""),n=Object(u.a)(a,2),o=n[0],r=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)(""),h=Object(u.a)(b,2),p=h[0],g=h[1],m=Object(c.useState)(!1),C=Object(u.a)(m,2),y=C[0],S=C[1];return Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{className:"create-form",children:[Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"attractionId"}),Object(x.jsx)("input",{placeholder:"attractionId",onChange:function(e){return r(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"PassNumber"}),Object(x.jsx)("input",{placeholder:"PassNumber",onChange:function(e){return j(e.target.value)}})]}),Object(x.jsxs)(f.a.Field,{children:[Object(x.jsx)("label",{children:"description"}),Object(x.jsx)("input",{placeholder:"description",onChange:function(e){return g(e.target.value)}})]}),Object(x.jsx)(f.a.Field,{children:Object(x.jsx)(I.a,{label:"I agree to the Terms and Conditions",onChange:function(e){return S(!y)}})}),Object(x.jsx)(O.a,{onClick:function(){alert("sent a post request:\n"+("{attractioId: "+o+",\n passNumber: "+l+",\n description: "+p+"}")+"\nto ".concat(e,"/api/v1/loanpass")),d.a.post("".concat(e,"/api/v1/loanpass"),{attractionId:o,passNumber:l,description:p}).then((function(){alert("success! going to read page"),t("/react/read")})).catch((function(e){alert("error in creation! staying on this page."+e)}))},type:"submit",children:"Submit"})]})})}a(280);var y=a(143),S=a.n(y),k=a(4),w=a(125),L=a(496),N=a(229),D="https://pip-react-spring-postgres.herokuapp.com",F=[];d.a.get("".concat(D,"/api/v1/attractions")).then((function(e){F=[],console.log(e.data),e.data.forEach((function(e){F.push({value:e.attractionID,label:e.name})})),console.log(F)}));var B={option:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},control:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},singleValue:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})}};function P(){var e=Object(c.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],o=function(){return Object(x.jsx)(w.a,{styles:B,options:F,defaultValue:[F[0]],value:a,onChange:function(e){return p(e)}})},r=Object(c.useState)(Object(L.a)(new Date,1)),s=Object(u.a)(r,2),i=s[0],l=s[1],j=Object(c.useState)("click on a date to view waitlist"),b=Object(u.a)(j,2),h=b[0],O=b[1],p=function(e){n(e),g(i,e)},g=function(e,t){l(e),n(t),O("loading..."),console.log(e);var a=e.getDate(),c=e.getMonth()+1,o=e.getFullYear(),r=1;try{r=t.value}catch(i){r=1}console.log(t);var s="".concat(r,",").concat(a,",").concat(c,",").concat(o);d.a.get("".concat(D,"/api/v1/bookingdate/").concat(s)).then((function(e){console.log(e.data),O(e.data.waitingList)})).catch((function(e){O("no bookings")}))};return Object(c.useEffect)((function(){console.log("useEffect only once!"),g(i,a)}),[""]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Place:"}),Object(x.jsx)(o,{}),Object(x.jsx)("br",{}),Object(x.jsx)(N.a,{value:i,onChange:function(e){return g(e,a)}}),Object(x.jsx)("h1",{children:"Waiting list:"}),h]})}var E="https://pip-react-spring-postgres.herokuapp.com",H=[];d.a.get("".concat(E,"/api/v1/attractions")).then((function(e){H=[],console.log(e.data),e.data.forEach((function(e){H.push({value:e.attractionID,label:e.name})})),console.log(H)}));var A=[{value:"1",label:"1"},{value:"2",label:"2"}],V=[{value:"1",label:"1"},{value:"2",label:"2"}],M={option:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},control:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})},singleValue:function(e){return Object(k.a)(Object(k.a)({},e),{},{color:"black"})}};function R(){var e=Object(c.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(Object(L.a)(new Date,1)),r=Object(u.a)(o,2),s=r[0],i=r[1],l=Object(c.useState)(),j=Object(u.a)(l,2),b=j[0],h=j[1],O=Object(c.useState)(A[0]),p=Object(u.a)(O,2),g=p[0],f=p[1],v=function(e){f(e)},m=function(){return Object(x.jsx)(w.a,{styles:M,options:V,defaultValue:[V[0]],value:a,onChange:function(e){return n(e)}})},I=function(){return Object(x.jsx)(w.a,{styles:M,options:H,defaultValue:H[0],value:b,onChange:function(e){h(e)}})},C=function(){return Object(x.jsx)(w.a,{styles:M,options:A,defaultValue:A[0],value:g,onChange:function(e){return v(e)}})};return Object(c.useEffect)((function(){console.log("useEffect only once!"),v(1)}),[""]),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Loan Application"}),Object(x.jsx)("h1",{children:"UserId:"}),Object(x.jsx)(m,{}),Object(x.jsx)("h1",{children:"No. of Passes:"}),Object(x.jsx)(C,{}),Object(x.jsx)("h1",{children:"Place:"}),Object(x.jsx)(I,{}),Object(x.jsx)("h1",{children:"Date:"}),Object(x.jsxs)("div",{children:[s.getDate(),s.getMonth()+1,s.getFullYear(),Object(x.jsx)(S.a,{onChange:i,value:s,minDate:Object(L.a)(new Date,1),maxDate:Object(L.a)(new Date,56),clearIcon:null,format:"dd/MM/yyyy"})]}),Object(x.jsx)("button",{id:"submitbtn",onClick:function(){var e=s.getDate(),t=s.getMonth()+1,c=s.getFullYear(),n=1,o="1";try{o=a.value}catch(l){console.log(l)}try{n=b.value}catch(l){console.log(l)}var r="".concat(n,",").concat(e,",").concat(t,",").concat(c),i="".concat(o);2==g.value&&(i+=",".concat(o)),alert("User "+o+" sent request to: "+"".concat(E,"/api/v1/loanpass/\n")+"Attraction: "+b.value+" Passes: "+g.value+" Date: "+e+"/"+t+"/"+c),d.a.post("".concat(E,"/api/v1/bookingdate"),{date:r,waitingList:i}).then((function(){alert("Successfully created loan application!")})).catch((function(e){console.log(e),500===e.response.status?d.a.get("".concat(E,"/api/v1/bookingdate/").concat(r)).then((function(e){var t=e.data.waitingList;(alert("already booked! waiting list: ".concat(t)),t.split(",").includes(o))?alert("You are already in the waiting list!"):window.confirm("Would you like to be added to the waiting list?")&&d.a.put("".concat(E,"/api/v1/bookingdate/").concat(r,"?waitingList=").concat(t+","+o),null).then((function(){alert("Successfully added to waiting list!"),alert(t+","+i)})).catch((function(e){alert("error in update! staying on this page."+e),console.log(e)}))})).catch((function(e){console.log(e)})):alert("error:"+e)}))},children:"Submit"})]})}a(468);var T=a(227),U=a(95),Y=a(138),q=a(94);var J=function(){return Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:"Home Page"})})},W=function(e){Object(l.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(x.jsx)(p.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(Y.a,{bg:"light",expand:"lg",fixed:"top",children:Object(x.jsxs)(T.a,{children:[Object(x.jsx)(Y.a.Brand,{href:"#home",children:"Corporate Pass Application"}),Object(x.jsx)(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsx)(Y.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsxs)(U.a,{className:"me-auto",defaultActiveKey:"/react",as:"ul",children:[Object(x.jsx)(U.a.Item,{as:"li",children:Object(x.jsx)(U.a.Link,{href:"",children:Object(x.jsx)(p.b,{to:"/react",children:"Home"})})}),Object(x.jsx)(U.a.Item,{as:"li",children:Object(x.jsx)(U.a.Link,{href:"",children:Object(x.jsx)(p.b,{to:"/react/loan",children:"Loan Application"})})}),Object(x.jsx)(U.a.Link,{href:"",children:Object(x.jsx)(p.b,{to:"/react/viewbooking",children:"View Booking"})}),Object(x.jsxs)(q.a,{title:"Loan Pass",id:"basic-nav-dropdown",children:[Object(x.jsx)(q.a.Item,{href:"",children:Object(x.jsx)(p.b,{to:"/react/createloanpass",children:"Create Loan Pass"})}),Object(x.jsx)(q.a.Item,{href:"",children:Object(x.jsx)(p.b,{to:"/react/read",children:"Read Loanpasses"})}),Object(x.jsx)(q.a.Item,{href:"",children:"Something"}),Object(x.jsx)(q.a.Divider,{}),Object(x.jsx)(q.a.Item,{href:"",children:"Separated link"})]})]})})]})}),Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("h2",{className:"main-header",children:"Corporate Pass Application"}),Object(x.jsxs)(v.c,{children:[Object(x.jsx)(v.a,{exact:!0,path:"/react",element:Object(x.jsx)(J,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/createloanpass",element:Object(x.jsx)(C,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/read",element:Object(x.jsx)(g,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/update",element:Object(x.jsx)(m,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/loan",element:Object(x.jsx)(R,{})}),Object(x.jsx)(v.a,{exact:!0,path:"/react/viewbooking",element:Object(x.jsx)(P,{})})]})]})]})})}}]),a}(n.a.Component),_=W,K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,497)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),o(e),r(e)}))};a(471);r.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(_,{})})),K()}},[[473,1,2]]]);
//# sourceMappingURL=main.851e441b.chunk.js.map