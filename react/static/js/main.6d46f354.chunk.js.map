{"version":3,"sources":["pages/assets/background.mp4","pages/home.js","context/AuthProvider.js","hooks/useAuth.js","pages/authentication/authenticate.js","components/loanpass/read loanpass.js","components/loanpass/update loanpass.js","components/loanpass/create loanpass.js","components/loanpass/loan.js","api/axios.js","hooks/useRefreshToken.js","hooks/useAxiosPrivate.js","components/booking/viewbooking.js","components/emailtemplates/emailTemplateForm.js","pages/emailtemplates/emailTemplateRow.js","pages/emailtemplates/emailTemplatePage.js","pages/emailtemplates/editEmailTemplate.js","pages/emailtemplates/createEmailTemplate.js","pages/users/UsersList.js","pages/attractions/attractionList.js","components/attractions/AttractionForm.js","pages/attractions/createAttractions.js","pages/attractions/updateAttraction.js","components/successloan/employeestatistic.js","components/successloan/monthlystatistic.js","App.js","reportWebVitals.js","index.js"],"names":["Home","useState","useEffect","axios","get","process","then","response","console","log","className","classname","AuthContext","createContext","AuthProvider","children","auth","setAuth","Provider","value","useAuth","useContext","useDebugValue","user","Authenticate","backendDomain","username","setName","email","setEmail","password","setPassword","phone","setPhone","haveAccount","setHaveAccount","setResult","checkbox","setCheckbox","login","e","preventDefault","params","URLSearchParams","append","Swal","fire","title","allowOutsideClick","didOpen","showLoading","post","catch","err","data","message","icon","text","JSON","stringify","accessToken","access_token","decodedHeader","jwt_decode","payload","roles","response2","id","enabled","alert","sub","window","location","replace","close","localStorage","setItem","toggle","class","style","width","height","Form","margin","Field","placeholder","onChange","target","Checkbox","label","Button","onClick","type","phoneNumber","userRoles","name","postRequest","confirmButtonText","Read","useNavigate","APIData","setAPIData","passLimit","setPassLimit","limit","onDelete","delete","getData","put","disabled","to","primary","Table","Header","Row","HeaderCell","Body","map","descriptionSplitted","description","split","status","replacementFee","emailTemplate","attachmentLink","slice","error","Cell","passId","attractionId","passNumber","previousLoanBy","setData","Update","navigate","setPassId","setAttractionId","setPassNumber","setPreviousLoanBy","setDescription","setStatus","setType","setReplacementFee","setEmailTemplate","setAttachmentLink","setOldStatus","emailTemplates","setEmailTemplates","attractions","setAttractions","emailTemplateID","setEmailTemplateID","getItem","retrieveAttractions","retrieveEmailTemplates","res","maxWidth","minWidth","attraction","attractionID","emailTemplateId","emailTemplateName","description1","CreateLoanPass","styled","button","options","options1","userOptions","customStyles","option","provided","color","control","singleValue","LoanApplication","forEach","push","setPasses","userlogin","parse","undefined","i","onPassesChange","setUser","addDays","Date","setAttraction","passes","SelectUserComponent","styles","defaultValue","d","isDisabled","SelectAttractionComponent","SelectNoPassesComponent","getDate","getMonth","getFullYear","minDate","maxDate","clearIcon","format","day","month","year","userId","date","length","newwaitingList","waitingList","staffId","waitingListsplitted","includes","toString","loanPasses","loanPass","parseInt","confirmMessage","confirm","BASE_URL","create","baseURL","axiosPrivate","headers","useRefreshToken","refresh","x","object_auth","Authorization","useAxiosPrivate","requestIntercept","interceptors","request","use","config","Promise","reject","responseIntercept","prevRequest","sent","newAccessToken","eject","ViewBooking","onAttractionChange","setValue","waitList","setWaitList","waitListArray","setWaitListArray","onDateChange","newAttraction","myDate","tempwaitingList","item","index","output","entry","today","diffTime","newWaitingList","replaceAll","successLoan","successLoanId","EmailTemplateForm","props","emailTemplateBody","setEmailTemplateBody","setEmailTemplateName","template","padding","tagName","tagValue","tag","tags","currSelection","getSelection","parentNode","getRangeAt","startContainer","offSetPos","startOffset","currPara","currentContent","innerText","currContentStart","currContentEnd","textContent","insertSymbol","theme","EmailTemplateRow","EmailTemplatePage","getEmailTemplates","TableContainer","component","Paper","elavation","sx","border","TableHead","TableCell","TableHeader","align","TableBody","TableRow","IconButton","EditEmailTemplate","useParams","getCurrentEmailTemplate","callAsyncFunctions","CreateEmailTemplate","UsersList","users","setUsers","isMounted","controller","AbortController","getUsers","signal","abort","upgradeToAdmin","roleName","React","open","setOpen","handleClose","state","file","files","handleFile","variant","formdata","FormData","method","url","helpUpload","Dialog","onClose","DialogTitle","DialogContent","DialogActions","autoFocus","elevation","role","AttractionList","getAttractions","passType","totalPasses","href","AttractionForm","setPassType","setTotalPasses","min","step","CreateAttractions","UpdateAttraction","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","EmployeeStatistics","chartData","setChartData","loading","setLoading","setOptions","employeeId","setEmployeeId","chartMode","setChartMode","labels","setLabels","setYear","yearlist","setYearList","handleCMSubmit","event","loanlist","biannlist","halfmonths","successfulloan","templist","Object","keys","sort","j","k","datasets","backgroundColor","borderColor","responsive","maintainAspectRatio","plugins","legend","position","display","MonthlyStatistics","loanlistconst","setLoanListConst","borrowlist","Set","borrowcount","add","size","App","logout","Navbar","bg","expand","fixed","Container","Brand","Toggle","Collapse","Nav","defaultActiveKey","as","Item","Link","NavDropdown","autoPlay","loop","muted","src","vid_background","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.6d46f354.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/background.73eb230b.mp4\";","import React, { useState,useEffect } from \"react\";\r\nimport { Button, Checkbox, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default function Home() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const [user, setUser] = useState(null);\r\n    const getCurrentUser = () => {\r\n        axios\r\n            .get(`${backendDomain}/api/v1/login/logged`)\r\n            .then((response) => console.log(response));\r\n    };\r\n    useEffect(()=>{\r\n        getCurrentUser();\r\n    },[])\r\n    return <div>        \r\n        <div className=\"content\">\r\n            <h1 classname = \"main-header\">Corporate Pass Application</h1>\r\n            <h2>Welcome Home!</h2>\r\n        </div>\r\n\r\n        </div>;\r\n}\r\n\r\n","import { createContext, useState } from \"react\";\r\n\r\nconst AuthContext = createContext({});\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [auth, setAuth] = useState({});\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ auth, setAuth }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContext;\r\n","import { useContext, useDebugValue } from \"react\";\r\nimport AuthContext from \"../context/AuthProvider\";\r\n\r\nconst useAuth = () => {\r\n  const { auth } = useContext(AuthContext);\r\n  useDebugValue(auth, (auth) => (auth?.user ? \"Logged In\" : \"Logged Out\"));\r\n  return useContext(AuthContext);\r\n};\r\n\r\nexport default useAuth;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Checkbox, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default function Authenticate() {\r\n  const backendDomain = process.env.REACT_APP_backendDomain;\r\n  const [username, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [haveAccount, setHaveAccount] = useState(false);\r\n\r\n  const [result, setResult] = useState(0);\r\n\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth, \"NICEEEEEEE\");\r\n\r\n  const [checkbox, setCheckbox] = useState(false);\r\n  const register = () => {\r\n    // fire sweet alert registering account\r\n    Swal.fire({\r\n      title: \"Registering Account\",\r\n      text: \"Please wait...\",\r\n      allowOutsideClick: false,\r\n      didOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n\r\n    axios\r\n      .post(`${backendDomain}/api/v1/user/save`, {\r\n        username,\r\n        email,\r\n        password,\r\n        phoneNumber: phone,\r\n        userRoles: [\r\n          {\r\n            id: 1,\r\n            name: \"ROLE_USER\",\r\n          },\r\n        ],\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        setHaveAccount(!haveAccount);\r\n        console.log(\"have accounttt\", haveAccount);\r\n\r\n        const postRequest =\r\n          \"{username: \" +\r\n          username +\r\n          \",\\n email: \" +\r\n          email +\r\n          \",\\n password: \" +\r\n          password +\r\n          \",\\n phoneNumber: \" +\r\n          phone +\r\n          \",\\n userRoles: \" +\r\n          JSON.stringify([\r\n            {\r\n              id: 1,\r\n              name: \"ROLE_USER\",\r\n            },\r\n          ]) +\r\n          \"}\";\r\n\r\n        Swal.close();\r\n        alert(\r\n          \"sent a post request:\\n\" +\r\n            postRequest +\r\n            `\\nto ${backendDomain}/api/v1/user/save`\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data.message);\r\n        // fire sweet alert failed to register account\r\n        Swal.fire({\r\n          title: \"Failed to Register Account\",\r\n          text: err.response.data.message,\r\n          icon: \"error\",\r\n          confirmButtonText: \"OK\",\r\n\r\n          allowOutsideClick: false,\r\n          didOpen: () => {\r\n            Swal.showLoading();\r\n          },\r\n        });\r\n        Swal.close();\r\n      });\r\n  };\r\n  //   const login = () => {\r\n  //     axios\r\n  //       .post(`http://localhost:8080/api/v1/login`, {\r\n  //         username: name,\r\n  //         password,\r\n  //       })\r\n  //       .then((response) => console.log(response.data));\r\n  //     alert(\"Logging in!\");\r\n  //   };\r\n\r\n  const login = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      console.log(username, password);\r\n      const params = new URLSearchParams();\r\n      params.append(\"username\", username);\r\n      params.append(\"password\", password);\r\n      console.log(params);\r\n      // login loading sweet alert\r\n      Swal.fire({\r\n        title: \"Logging in...\",\r\n        allowOutsideClick: false,\r\n        didOpen: () => {\r\n          Swal.showLoading();\r\n        },\r\n      });\r\n\r\n      const response = await axios\r\n        .post(`${backendDomain}/api/v1/login`, params)\r\n        .catch((err) => {\r\n          console.log(err.response.data.message);\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops...\",\r\n            text: err.response.data.message,\r\n          });\r\n        });\r\n\r\n      console.log(JSON.stringify(response?.data));\r\n      //console.log(JSON.stringify(response));\r\n      setResult(response.data);\r\n      const accessToken = response?.data?.access_token;\r\n      var decodedHeader = jwt_decode(accessToken, { payload: true });\r\n      console.log(decodedHeader, \"DECODED HEADER\");\r\n      console.log(decodedHeader?.roles, \"DECODED ROLES\");\r\n      console.log(accessToken, \"accessToken accessToken accessToken\");\r\n      const roles = decodedHeader?.roles;\r\n      console.log(auth);\r\n\r\n      const response2 = await axios.get(\r\n        `${backendDomain}/api/v1/login/${username}`\r\n      );\r\n      console.log(response2.data.id, \"response 2\");\r\n      console.log(response2.data.enabled, \"response 2 haha\");\r\n      const id = response2.data.id;\r\n      if (response2.data.enabled) {\r\n        setAuth({ username, phone, accessToken, roles, id });\r\n        // localStorage.setItem(\"accessToken\", auth);\r\n\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n        //   navigate(from, { replace: true });\r\n\r\n        // const accessToken = response?.data?.accessToken;\r\n        // const roles = response?.data?.roles;\r\n        // setAuth({ username, password, roles, accessToken });\r\n        // setUser('');\r\n        // setPwd('');\r\n        // navigate(from, { replace: true });\r\n        alert(\"logged in as \" + decodedHeader.sub + \" with role of \" + roles);\r\n        window.location.replace(\"http://localhost:3000/react/attractions\");\r\n        // close sweet alert\r\n        Swal.close();\r\n      } else {\r\n        Swal.close();\r\n        alert(\r\n          \"You have not verified your email. Please click on the confirmation link in the email.\"\r\n        );\r\n      }\r\n    } catch (err) {}\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Update the document title using the browser API\r\n    localStorage.setItem(\"auth\", JSON.stringify(auth));\r\n  }, [auth]);\r\n\r\n  const toggle = () => {\r\n    setName(\"\");\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n    setPhone(\"\");\r\n    setCheckbox(\"\");\r\n    setHaveAccount(!haveAccount);\r\n  };\r\n\r\n  console.log(\"FINALLL AUTHHHH\", auth);\r\n  localStorage.setItem(\"accessToken\", auth.accessToken);\r\n\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div\r\n        class=\"card d-flex justify-content-center\"\r\n        style={{ width: \"30rem\", height: \"65vh\" }}\r\n      >\r\n        {haveAccount ? (\r\n          <h2 className=\"main-header\">Login</h2>\r\n        ) : (\r\n          <h2 className=\"main-header\">Registration</h2>\r\n        )}\r\n\r\n        <Form className=\"create-form\" style={{ margin: \"auto\" }}>\r\n          <Form.Field>\r\n            <label>Name</label>\r\n            <input\r\n              placeholder=\"Name\"\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n\r\n          {haveAccount ? (\r\n            <></>\r\n          ) : (\r\n            <Form.Field>\r\n              <label>Email</label>\r\n              <input\r\n                placeholder=\"Email\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n            </Form.Field>\r\n          )}\r\n\r\n          <Form.Field>\r\n            <label>Password</label>\r\n            <input\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n          {haveAccount ? (\r\n            <></>\r\n          ) : (\r\n            <>\r\n              <Form.Field>\r\n                <label>Phone</label>\r\n                <input\r\n                  placeholder=\"Phone\"\r\n                  onChange={(e) => setPhone(e.target.value)}\r\n                />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <Checkbox\r\n                  label=\"I agree to the Terms and Conditions\"\r\n                  onChange={(e) => setCheckbox(!checkbox)}\r\n                />\r\n              </Form.Field>\r\n            </>\r\n          )}\r\n\r\n          {haveAccount ? (\r\n            <Button onClick={login} type=\"submit\">\r\n              Login\r\n            </Button>\r\n          ) : (\r\n            <Button onClick={register} type=\"submit\">\r\n              Register\r\n            </Button>\r\n          )}\r\n          <hr></hr>\r\n          {haveAccount ? (\r\n            <p>\r\n              Don't have an account? Sign up{\" \"}\r\n              <a onClick={toggle}>\r\n                <u>here</u>\r\n              </a>\r\n            </p>\r\n          ) : (\r\n            <p>\r\n              Already have an account? Login{\" \"}\r\n              <a onClick={toggle}>\r\n                <u>here</u>\r\n              </a>\r\n            </p>\r\n          )}\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Table, Button } from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from \"react-router\";\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default function Read() {\r\n// popup loading please wait\r\n\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const navigate = useNavigate();\r\n    const [APIData, setAPIData] = useState([]);\r\n    const [passLimit, setPassLimit] = useState(1);\r\n    useEffect(() => {\r\n        console.log(\"hello\");\r\n\r\n        // popup loading information from database\r\n        Swal.fire({\r\n            title: 'Loading information from database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        axios.get(`${backendDomain}/api/v1/loanpass`)\r\n            .then((response) => {\r\n                console.log(response.data);\r\n                setAPIData(response.data);\r\n            });\r\n\r\n        axios.get(`${backendDomain}/api/v1/settings`)\r\n            .then((response) => {\r\n                const limit = response.data[0][\"maxPassPerLoan\"];\r\n                console.log(limit);\r\n                setPassLimit(limit);\r\n                Swal.close();\r\n            });\r\n\r\n\r\n        // // giving in example data\r\n        // const mockupData = [{\r\n        //     \"id\": '1',\r\n        //     \"firstName\": \"John\",\r\n        //     \"lastName\": \"Doe\",\r\n        //     \"checkbox\": true,\r\n        // }];\r\n    \r\n        // console.log(mockupData);\r\n        // setAPIData(mockupData);\r\n    }, []);\r\n\r\n    const incrementPassLimit = () => {\r\n        // popup loading please wait\r\n        Swal.fire({\r\n            title: 'Updating information to database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        // send put request\r\n        axios.put(`${backendDomain}/api/v1/settings?settingID=1&maxPassPerLoan=${passLimit+1}`)\r\n            .then((response) => {\r\n                setPassLimit(passLimit+1);\r\n                Swal.close();\r\n                \r\n            });\r\n    }\r\n\r\n    const decrementPassLimit = () => {\r\n        // popup loading please wait\r\n        Swal.fire({\r\n            title: 'Updating information to database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        // send put request\r\n        axios.put(`${backendDomain}/api/v1/settings?settingID=1&maxPassPerLoan=${passLimit-1}`)\r\n            .then((response) => {\r\n                setPassLimit(passLimit-1);\r\n                Swal.close();\r\n\r\n            });\r\n    }\r\n\r\n    const remindCollection = () =>{\r\n        axios.get(`${backendDomain}/api/v1/loanpass/remind/collection`)\r\n            .then((response) => {\r\n                alert(\"Loanpass collection reminders sent\")\r\n                Swal.close();\r\n            })\r\n    }\r\n    \r\n    const remindReturn = () =>{\r\n        axios.get(`${backendDomain}/api/v1/loanpass/remind/return`)\r\n            .then((response) => {\r\n                alert(\"Loanpass return reminders sent\")\r\n                Swal.close();\r\n            })\r\n    }\r\n\r\n    const setData = (data) => {\r\n        let { passId, attractionId, passNumber, previousLoanBy, description } = data;\r\n        localStorage.setItem('passId', passId);\r\n        localStorage.setItem('attractionId', attractionId);\r\n        localStorage.setItem('passNumber', passNumber);\r\n        localStorage.setItem('previousLoanBy', previousLoanBy);\r\n        localStorage.setItem('description', description);\r\n    }\r\n\r\n    const getData = () => {\r\n        Swal.fire({\r\n            title: 'Loading information from database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        axios.get(`${backendDomain}/api/v1/loanpass`)\r\n            .then((getData) => {\r\n                setAPIData(getData.data);\r\n                Swal.close();\r\n            })\r\n    }\r\n\r\n    const onDelete = (id) => {\r\n        Swal.fire({\r\n            title: 'Loading information from database...',\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading()\r\n            },\r\n        })\r\n        axios.delete(`${backendDomain}/api/v1/loanpass/${id}`)\r\n        .then(() => {\r\n            getData();\r\n            Swal.close();\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div class=\"container rounded content\" style={{ height: \"100%\", width: \"80%\" }}>\r\n            \r\n            {/* show passLimit */}\r\n            <h1>\r\n            {/* decrement button */}\r\n            <Button onClick={decrementPassLimit} disabled={passLimit <= 1}>-</Button>\r\n            Loanpass limit: {passLimit}\r\n            {/* increment button */}\r\n            <Button onClick={incrementPassLimit}>+</Button>\r\n            </h1>\r\n            {/* button to create loanpass */}\r\n            <Link to=\"/react/createloanpass\">\r\n                <Button primary>Create Loan Pass</Button>\r\n            </Link>\r\n            <Button onClick = {()=>{remindCollection()}}>Send Collection Reminders</Button>\r\n            <Button onClick = {()=>{remindReturn()}}>Send Return Reminders</Button>\r\n            <Table>\r\n                <Table.Header>\r\n                    <Table.Row>\r\n                        <Table.HeaderCell width={1}>pass<br/>Id</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>attraction<br/>Id</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>pass<br/>Number</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>previous<br/>Loan<br/>By</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Status</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Type</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Replace<br/>ment Fee</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Email Template</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Attachment Link</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Update</Table.HeaderCell>\r\n                        <Table.HeaderCell width={1}>Delete</Table.HeaderCell>\r\n                    </Table.Row>\r\n                </Table.Header>\r\n\r\n                <Table.Body>\r\n                    {APIData.map((data) => {\r\n                        const descriptionSplitted = data.description.split(\",./\");\r\n                        const status = descriptionSplitted[0];\r\n                        const type = descriptionSplitted[1];\r\n                        const replacementFee = descriptionSplitted[2];\r\n                        let emailTemplate = descriptionSplitted[3];\r\n                        let attachmentLink = descriptionSplitted[4];\r\n\r\n                        try {\r\n                            emailTemplate = emailTemplate.slice(0, 10) + \"...\";\r\n                            attachmentLink = attachmentLink.slice(0, 10) + \"...\";\r\n                        } catch (error) {\r\n                            console.log(error);\r\n                        }\r\n\r\n                        return (\r\n                            <Table.Row>\r\n                                <Table.Cell>{data.passId}</Table.Cell>\r\n                                <Table.Cell>{data.attractionId}</Table.Cell>\r\n                                <Table.Cell>{data.passNumber}</Table.Cell>\r\n                                <Table.Cell>{data.previousLoanBy}</Table.Cell>\r\n                                <Table.Cell>{status}</Table.Cell>\r\n                                <Table.Cell>{type}</Table.Cell>\r\n                                <Table.Cell>{replacementFee}</Table.Cell>\r\n                                <Table.Cell>{emailTemplate}</Table.Cell>\r\n                                <Table.Cell>{attachmentLink}</Table.Cell>\r\n\r\n                                <Link to='/react/update'>\r\n                                    <Table.Cell> \r\n                                        <Button onClick={() => setData(data)}>Update</Button>\r\n                                    </Table.Cell>\r\n                                </Link>\r\n                                <Table.Cell>\r\n                                    <Button onClick={() => onDelete(data.passId)}>Delete</Button>\r\n                                </Table.Cell>\r\n                            </Table.Row>\r\n                        )\r\n                    })}\r\n                </Table.Body>\r\n            </Table>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Checkbox, Form, Dropdown } from \"semantic-ui-react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nimport axios from \"axios\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nexport default function Update() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\n    const { setAuth, auth } = useAuth();\r\n    console.log(auth.id, \"AUTH ID :D\");\r\n    const navigate = useNavigate();\r\n    const [passId, setPassId] = useState(\"\");\r\n    const [attractionId, setAttractionId] = useState(\"\");\r\n    const [passNumber, setPassNumber] = useState(\"\");\r\n    const [previousLoanBy, setPreviousLoanBy] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [status, setStatus] = useState(\"\");\r\n    const [type, setType] = useState(\"\");\r\n    const [replacementFee, setReplacementFee] = useState(\"\");\r\n    const [emailTemplate, setEmailTemplate] = useState(\"\");\r\n    const [attachmentLink, setAttachmentLink] = useState(\"\");\r\n\r\n    const [oldStatus, setOldStatus] = useState(\"\");\r\n\r\n    const [emailTemplates, setEmailTemplates] = useState([]);\r\n    const [attractions, setAttractions] = useState([]);\r\n    const [emailTemplateID, setEmailTemplateID] = useState(1);\r\n\r\n    useEffect(() => {\r\n        setPassId(localStorage.getItem(\"passId\"));\r\n        setAttractionId(localStorage.getItem(\"attractionId\"));\r\n        setPassNumber(localStorage.getItem(\"passNumber\"));\r\n        setPreviousLoanBy(localStorage.getItem(\"previousLoanBy\"));\r\n        setDescription(localStorage.getItem(\"description\"));\r\n        const status = localStorage.getItem(\"description\").split(\",./\")[0];\r\n        const type = localStorage.getItem(\"description\").split(\",./\")[1];\r\n        const replacementFee = localStorage\r\n            .getItem(\"description\")\r\n            .split(\",./\")[2];\r\n        const emailTemplate = localStorage\r\n            .getItem(\"description\")\r\n            .split(\",./\")[3];\r\n        const attachmentLink = localStorage\r\n            .getItem(\"description\")\r\n            .split(\",./\")[4];\r\n        setStatus(status);\r\n        setOldStatus(status);\r\n        setType(type);\r\n        setReplacementFee(replacementFee);\r\n        setEmailTemplate(emailTemplate);\r\n        setAttachmentLink(attachmentLink);\r\n        retrieveAttractions();\r\n        retrieveEmailTemplates();\r\n    }, []);\r\n\r\n    const retrieveAttractions = () => {\r\n        axios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n            setAttractions(res.data);\r\n        });\r\n    };\r\n\r\n    const retrieveEmailTemplates = () => {\r\n        axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n            setEmailTemplates(res.data);\r\n        });\r\n    };\r\n\r\n    const updateAPIData = () => {\r\n        const description1 =\r\n            status +\r\n            \",./\" +\r\n            type +\r\n            \",./\" +\r\n            replacementFee +\r\n            \",./\" +\r\n            emailTemplate +\r\n            \",./\" +\r\n            attachmentLink;\r\n        console.log(description);\r\n        Swal.fire({\r\n            title: \"Loading information from database...\",\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n                Swal.showLoading();\r\n            },\r\n        });\r\n        axios\r\n            .put(\r\n                `${backendDomain}/api/v1/loanpass/${passId}?attractionId=${attractionId}&passNumber=${passNumber}&previousLoanBy=${previousLoanBy}&description=${description1}`,\r\n                null\r\n            )\r\n            .then(() => {\r\n                Swal.close();\r\n                navigate(\"/react/read\");\r\n            })\r\n            .catch((err) => {\r\n                Swal.close();\r\n                alert(\"error in update! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div class=\"container rounded content\" style={{width: \"85%\", maxWidth: \"500px\", minWidth: \"200px\"}}>\r\n            <div class=\"card\" style={{width: \"85%\", maxWidth: \"500px\", minWidth: \"200px\",}}>\r\n                <Form className=\"create-form\">\r\n                    <Form.Field>\r\n                        <label>Attraction:</label>\r\n                        <select\r\n                            value={attractionId}\r\n                            onChange={(e) => setAttractionId(e.target.value)}\r\n                        >\r\n                            {attractions.map((attraction) => {\r\n                                return (\r\n                                    <option value={attraction.attractionID}>\r\n                                        {attraction.name}\r\n                                    </option>\r\n                                );\r\n                            })}\r\n                        </select>\r\n                    </Form.Field>\r\n\r\n                    <Form.Field>\r\n                        <label>Pass No:</label>\r\n                        <input\r\n                            placeholder=\"passNumber\"\r\n                            value={passNumber}\r\n                            onChange={(e) => setPassNumber(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Last Loaned by:</label>\r\n                        <input\r\n                            placeholder=\"previousLoanBy\"\r\n                            value={previousLoanBy}\r\n                            onChange={(e) => setPreviousLoanBy(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Status:</label>\r\n                        <select\r\n                            value={status}\r\n                            onChange={(e) => setStatus(e.target.value)}\r\n                        >\r\n                            <option value=\"Uncollected\">Uncollected</option>\r\n                            <option value=\"Loaned out\">Loaned out</option>\r\n                            <option value=\"Lost\">Lost</option>\r\n                        </select>\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Type:</label>\r\n                        <select\r\n                            value={type}\r\n                            onChange={(e) => setType(e.target.value)}\r\n                        >\r\n                            <option value=\"Physical\">Physical</option>\r\n                            <option value=\"Digital\">Digital</option>\r\n                        </select>\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label>Replacement Fee:</label>\r\n                        <input\r\n                            placeholder=\"replacementFee\"\r\n                            value={replacementFee}\r\n                            onChange={(e) => setReplacementFee(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n\r\n                    <Form.Field>\r\n                        {emailTemplateID}\r\n                        <label>Email Template:</label>\r\n                        <select\r\n                            // value={emailTemplate}\r\n                            onChange={(e) => setEmailTemplateID(e.target.value)}\r\n                        >\r\n                            {emailTemplates.map((emailTemplate) => {\r\n                            console.log(emailTemplate)\r\n                                return <option value={emailTemplate.emailTemplateId}>{emailTemplate.emailTemplateName}, {emailTemplate.emailTemplateId}</option>;\r\n                            })}\r\n    \r\n                        </select>\r\n                    </Form.Field>\r\n\r\n                    <Form.Field>\r\n                        <label>Attachment Link:</label>\r\n                        <input\r\n                            placeholder=\"attachmentLink\"\r\n                            value={attachmentLink}\r\n                            onChange={(e) => setAttachmentLink(e.target.value)}\r\n                        />\r\n                    </Form.Field>\r\n                    <Button type=\"submit\" onClick={updateAPIData}>\r\n                        Update\r\n                    </Button>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Button, Checkbox, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nexport default function CreateLoanPass() {\r\n  const backendDomain = process.env.REACT_APP_backendDomain;\r\n  const navigate = useNavigate();\r\n  const [attractionId, setAttractionId] = useState(\"\");\r\n  const [passNumber, setPassNumber] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const [checkbox, setCheckbox] = useState(false);\r\n\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth.id, \"AUTH ID :D\");\r\n  const postData = () => {\r\n    const postRequest =\r\n      \"{attractioId: \" +\r\n      attractionId +\r\n      \",\\n passNumber: \" +\r\n      passNumber +\r\n      \",\\n description: \" +\r\n      description +\r\n      \"}\";\r\n    alert(\r\n      \"sent a post request:\\n\" +\r\n        postRequest +\r\n        `\\nto ${backendDomain}/api/v1/loanpass`\r\n    );\r\n\r\n    axios\r\n      .post(`${backendDomain}/api/v1/loanpass`, {\r\n        attractionId,\r\n        passNumber,\r\n        description,\r\n      })\r\n      .then(() => {\r\n        alert(\"success! going to read page\");\r\n        navigate(\"/react/read\");\r\n      })\r\n      .catch((err) => {\r\n        alert(\"error in creation! staying on this page.\" + err);\r\n      });\r\n  };\r\n  return (\r\n    <div class=\"container rounded content\" style={{width: \"85%\",height: \"70vh\",maxWidth: \"500px\",minWidth: \"200px\",}}>\r\n      <h2 class=\"main-header\">\r\n        Create Loanpass\r\n      </h2>\r\n      <div class=\"card\" style={{ width: \"85%\",maxWidth: \"250px\", minWidth: \"100px\",}}>\r\n        <Form className=\"create-form\">\r\n          <Form.Field>\r\n            <label>Attraction Id</label>\r\n            <input\r\n              placeholder=\"attractionId\"\r\n              onChange={(e) => setAttractionId(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <label>Pass Number</label>\r\n            <input\r\n              placeholder=\"PassNumber\"\r\n              onChange={(e) => setPassNumber(e.target.value)}\r\n            />\r\n          </Form.Field>\r\n          <Button onClick={postData} type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport { addDays } from \"date-fns\";\r\nimport axios from \"axios\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport styled from \"styled-components\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\nconst Button = styled.button`\r\n  background-color: black;\r\n  color: white;\r\n  font-size: 20px;\r\n  padding: 10px 60px;\r\n  border-radius: 10px;\r\n  margin: 10px 0px;\r\n  cursor: pointer;\r\n`;\r\nlet options = [];\r\n\r\nlet options1 = [\r\n  { value: \"1\", label: \"1\" }\r\n];\r\n\r\n// should be based on user\r\nlet userOptions = [];\r\n\r\nconst customStyles = {\r\n  option: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  control: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  singleValue: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n};\r\n\r\nexport default function LoanApplication() {\r\n  const navigate = useNavigate();\r\n  const { setAuth, auth } = useAuth();\r\n  let limit = 1;\r\n  console.log(auth.id, \"AUTH ID :D\");\r\n\r\n  useEffect(() => {\r\n    Swal.fire({\r\n      title: \"Loading information from database...\",\r\n      allowOutsideClick: false,\r\n      didOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n\r\n    // get options from backend axios call\r\n    axios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n      options = [];\r\n\r\n      console.log(res.data);\r\n      res.data.forEach((attraction) => {\r\n        options.push({\r\n          value: attraction.attractionID,\r\n          label: attraction.name,\r\n        });\r\n      });\r\n\r\n      console.log(options);\r\n      setPasses(1);\r\n      \r\n    });\r\n\r\n    // Update the document title using the browser API\r\n    console.log(\"useEffect only once!\");\r\n    console.log(localStorage.getItem(\"auth\"));\r\n\r\n    let userlogin = JSON.parse(localStorage.getItem(\"auth\"))[\"id\"] // \"2\";\r\n    console.log(userlogin, \"USER LOGIN\");\r\n    if (userlogin === undefined) {\r\n      alert(\"Please login first!\");\r\n      navigate(\"/react/auth\");\r\n    }\r\n    userOptions = [{ value: userlogin, label: userlogin }];\r\n\r\n    // get options1 from backend axios call\r\n    axios.get(`${backendDomain}/api/v1/settings`).then((res) => {\r\n      console.log(res.data);\r\n      limit = res.data[0][\"maxPassPerLoan\"];\r\n\r\n      console.log(limit);\r\n      options1 = [];\r\n      for (let i = 1; i <= limit; i++) {\r\n        options1.push({ value: i, label: i });\r\n      }\r\n      \r\n      onPassesChange(options1[0]);\r\n      Swal.close();\r\n    });\r\n\r\n    // console.log(options1);\r\n    // console.log(userOptions);\r\n    onPassesChange();\r\n    setPasses(1);\r\n    setUser({ value: userlogin, label: userlogin });\r\n  }, [\"\"]);\r\n  // state for user\r\n  const [user, setUser] = useState();\r\n\r\n  // state for datepicker\r\n  const [value, onChange] = useState(addDays(new Date(), 1));\r\n\r\n  // state for attraction\r\n  const [attraction, setAttraction] = useState();\r\n  // state for number of passes\r\n\r\n  const [passes, setPasses] = useState();\r\n\r\n  const onAttractionChange = (e) => {\r\n    setAttraction(e);\r\n  };\r\n\r\n  const onPassesChange = (e) => {\r\n    setPasses(e);\r\n  };\r\n\r\n  const SelectUserComponent = () => (\r\n    <Select\r\n      styles={customStyles}\r\n      options={userOptions}\r\n      defaultValue={[userOptions[0]]}\r\n      value={user}\r\n      onChange={(d) => setUser(d)}\r\n      isDisabled={true}\r\n    />\r\n  );\r\n\r\n  const SelectAttractionComponent = () => (\r\n    <Select\r\n      placeholder=\"\"\r\n      styles={customStyles}\r\n      options={options}\r\n      defaultValue={[]}\r\n      value={attraction}\r\n      onChange={(d) => onAttractionChange(d)}\r\n    />\r\n  );\r\n\r\n  const SelectNoPassesComponent = () => (\r\n    <Select\r\n      styles={customStyles}\r\n      options={options1}\r\n      defaultValue={options1[0]}\r\n      value={passes}\r\n      onChange={(d) => onPassesChange(d)}\r\n    />\r\n  );\r\n\r\n  const createLoanApplication = () => {\r\n    const day = value.getDate();\r\n    const month = value.getMonth() + 1;\r\n    const year = value.getFullYear();\r\n    let attractionId = 1;\r\n\r\n    let userId = \"1\";\r\n    try {\r\n      userId = user.value;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    try {\r\n      attractionId = attraction.value;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    const date = `${attractionId},${day},${month},${year}`;\r\n\r\n    // get successloan by userid, month and year\r\n    axios\r\n      .get(\r\n        `${backendDomain}/api/v1/successloan/staff/${userId}/month/${month}/year/${year}`\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        limit = options1[options1.length - 1][\"value\"];\r\n        if (res.data.length >= limit) {\r\n          Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops...\",\r\n            text: `You have already hit the limit: ${limit} loans this month!`,\r\n          });\r\n        } else {\r\n          let newwaitingList = `${userId}`;\r\n\r\n          if (passes.value == 2) {\r\n            newwaitingList += `,${userId}`;\r\n          }\r\n\r\n          alert(\r\n            \"User \" +\r\n              userId +\r\n              \" sent request to: \" +\r\n              `${backendDomain}/api/v1/loanpass/\\n` +\r\n              \"Attraction: \" +\r\n              attraction.value +\r\n              \" Passes: \" +\r\n              passes.value +\r\n              \" Date: \" +\r\n              day +\r\n              \"/\" +\r\n              month +\r\n              \"/\" +\r\n              year\r\n          );\r\n\r\n          Swal.fire({\r\n            title: \"Loading information from database...\",\r\n            allowOutsideClick: false,\r\n            didOpen: () => {\r\n              Swal.showLoading();\r\n            },\r\n          });\r\n\r\n          axios\r\n            .post(`${backendDomain}/api/v1/bookingdate/save`, {\r\n              date: date,\r\n              waitingList: newwaitingList,\r\n            })\r\n            .then(() => {\r\n              axios\r\n                .post(`${backendDomain}/api/v1/successloan`, {\r\n                  staffId: userId,\r\n                  attractionId: attraction.value,\r\n                  month: month,\r\n                  year: year,\r\n                  day: day,\r\n                })\r\n                .then((res) => {\r\n                  Swal.close();\r\n                  alert(\"Successfully created loan application!\");\r\n                  navigate(\"/react/viewbooking\");\r\n                });\r\n            })\r\n            .catch((err) => {\r\n              Swal.close();\r\n              console.log(err);\r\n              if (err.response.status === 500) {\r\n                Swal.fire({\r\n                  title: \"Loading information from database...\",\r\n                  allowOutsideClick: false,\r\n                  didOpen: () => {\r\n                    Swal.showLoading();\r\n                  },\r\n                });\r\n                axios\r\n                  .get(`${backendDomain}/api/v1/bookingdate/${date}`)\r\n                  .then((res) => {\r\n                    Swal.close();\r\n                    const waitingList = res.data.waitingList;\r\n                    // alert(`already booked! waiting list: ${waitingList}`);\r\n\r\n                    const waitingListsplitted = waitingList.split(\",\");\r\n\r\n                    console.log(waitingListsplitted);\r\n                    if (waitingListsplitted.includes(userId.toString())) {\r\n                      alert(\"You are already in the waiting list!\");\r\n                      return;\r\n                    }\r\n\r\n                    Swal.fire({\r\n                      title: \"Loading information from database...\",\r\n                      allowOutsideClick: false,\r\n                      didOpen: () => {\r\n                        Swal.showLoading();\r\n                      },\r\n                    });\r\n\r\n                    // get all loanpasses\r\n                    axios\r\n                      .get(\r\n                        `${backendDomain}/api/v1/loanpass/getbyattraction/${attractionId}`\r\n                      )\r\n                      .then((res) => {\r\n                        Swal.close();\r\n                        var loanPasses = 0;\r\n                        res.data.forEach((loanPass) => {\r\n                          loanPasses++;\r\n                        });\r\n                        console.log(loanPasses);\r\n\r\n                        if (\r\n                          waitingListsplitted.length + parseInt(passes.value) >\r\n                          loanPasses\r\n                        ) {\r\n                          let confirmMessage =\r\n                            \"You are not in the waiting list, but there are not enough loan passes available. Do you want to be added to the waiting list?\";\r\n                          console.log(\"too little passes!\");\r\n                          if (\r\n                            passes.value == 2 &&\r\n                            waitingListsplitted.length == loanPasses - 1\r\n                          ) {\r\n                            confirmMessage =\r\n                              \"There is only 1 loan pass to be booked, do you want to book it and be put on the waiting list for the next one?\";\r\n                          }\r\n\r\n                          const yesWaiting = window.confirm(confirmMessage);\r\n                          if (yesWaiting) {\r\n                            Swal.fire({\r\n                              title: \"Loading information from database...\",\r\n                              allowOutsideClick: false,\r\n                              didOpen: () => {\r\n                                Swal.showLoading();\r\n                              },\r\n                            });\r\n\r\n                            axios\r\n                              .put(\r\n                                `${backendDomain}/api/v1/bookingdate/${date}?waitingList=${\r\n                                  waitingList + \",\" + newwaitingList\r\n                                }`,\r\n                                null\r\n                              )\r\n                              .then(() => {\r\n                                Swal.close();\r\n                                if (\r\n                                  confirmMessage.includes(\r\n                                    \"There is only 1 loan pass to be booked\"\r\n                                  )\r\n                                ) {\r\n                                  axios\r\n                                    .post(\r\n                                      `${backendDomain}/api/v1/successloan`,\r\n                                      {\r\n                                        staffId: userId,\r\n                                        attractionId: attraction.value,\r\n                                        month: month,\r\n                                        year: year,\r\n                                        day: day,\r\n                                      }\r\n                                    )\r\n                                    .then((res) => {\r\n                                      Swal.close();\r\n                                      alert(\r\n                                        \"Successfully created loan application!\"\r\n                                      );\r\n                                      navigate(\"/react/viewbooking\");\r\n                                    });\r\n                                }\r\n                                alert(waitingList + \",\" + newwaitingList);\r\n                              })\r\n                              .catch((err) => {\r\n                                Swal.close();\r\n                                alert(\r\n                                  \"error in update! staying on this page.\" + err\r\n                                );\r\n                                console.log(err);\r\n                              });\r\n                          }\r\n                        } else {\r\n                          Swal.fire({\r\n                            title: \"Loading information from database...\",\r\n                            allowOutsideClick: false,\r\n                            didOpen: () => {\r\n                              Swal.showLoading();\r\n                            },\r\n                          });\r\n\r\n                          axios\r\n                            .put(\r\n                              `${backendDomain}/api/v1/bookingdate/${date}?waitingList=${\r\n                                waitingList + \",\" + newwaitingList\r\n                              }`,\r\n                              null\r\n                            )\r\n                            .then(() => {\r\n                              Swal.close();\r\n                              alert(\"Successfully added to waiting list!\");\r\n                              alert(waitingList + \",\" + newwaitingList);\r\n                              navigate(\"/react/viewbooking\");\r\n                            })\r\n                            .catch((err) => {\r\n                              Swal.close();\r\n                              alert(\r\n                                \"error in update! staying on this page.\" + err\r\n                              );\r\n                              console.log(err);\r\n                            });\r\n                        }\r\n                      });\r\n                  })\r\n                  .catch((err) => {\r\n                    console.log(err);\r\n                  });\r\n              } else {\r\n                alert(\"error:\" + err);\r\n              }\r\n            });\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div class=\"container rounded content\" style={{ height: \"100%\", width: \"80%\" }}>\r\n      <div class=\"card\" style={{ width: \"85%\", height: \"70vh\", maxWidth: \"500px\", minWidth: \"200px\",}}>\r\n        <h2 className=\"main-header\">Loan Application</h2>\r\n\r\n        <h4 className=\"sub-header\">UserId:</h4>\r\n        <SelectUserComponent />\r\n\r\n        <h4 className=\"sub-header\">No. of Passes:</h4>\r\n        <SelectNoPassesComponent />\r\n\r\n        <h4 className=\"sub-header\">Place:</h4>\r\n        <SelectAttractionComponent />\r\n\r\n        <h4 className=\"sub-header\">Date:</h4>\r\n\r\n        {/* datepicker */}\r\n        <div>\r\n          {value.getDate()}\r\n          {value.getMonth() + 1}\r\n          {value.getFullYear()}\r\n          <DatePicker\r\n            onChange={onChange}\r\n            value={value}\r\n            minDate={addDays(new Date(), 1)}\r\n            maxDate={addDays(new Date(), 8 * 7)}\r\n            clearIcon={null}\r\n            format=\"dd/MM/yyyy\"\r\n          />\r\n        </div>\r\n        {/* end of datepicker */}\r\n\r\n        <Button id=\"submitbtn\" style={{}} onClick={createLoanApplication}>\r\n          Submit\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nconst BASE_URL = \"http://localhost:8080\";\r\n\r\nexport default axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\nexport const axiosPrivate = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n  // withCredentials: true,\r\n});\r\n","import axios from \"../api/axios\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nconst useRefreshToken = () => {\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth, \"AUTH REFRESH\");\r\n  const refresh = async () => {\r\n    // const params = new URLSearchParams();\r\n    // params.append(\r\n    //   \"Authorization\",\r\n    //   \"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJxcXExMiIsInJvbGVzIjpbIlJPTEVfVVNFUiJdLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2xvZ2luIiwiZXhwIjoxNjY2NTc5NzUyfQ.pwbD-s3K7yQ_pIYmdJDlK40OLEw3nrCW538MZN6OLlA\"\r\n    // );\r\n    const x = localStorage.getItem(\"auth\");\r\n    console.log(\"x\", x);\r\n    const object_auth = JSON.parse(x);\r\n    console.log(\"auth\", object_auth);\r\n    console.log(\"auth\", object_auth.accessToken);\r\n    const response = await axios.get(\"/api/v1/token/refresh\", {\r\n      headers: {\r\n        Authorization: `Bearer ${object_auth.accessToken}`,\r\n      },\r\n    });\r\n    console.log(response, \"REFRESHHHH\");\r\n    console.log(response?.data?.access_token, \"DEMON SLAYER\");\r\n    console.log(object_auth, \"KAKKAKAKKAK\");\r\n    object_auth.accessToken = response?.data?.access_token;\r\n    console.log(object_auth, \"HUUI OHUO\");\r\n    // setAuth((prev) => {\r\n    //   console.log(JSON.stringify(prev));\r\n    //   console.log(response?.data?.access_token);\r\n    //   console.log(object_auth, \"GUGIUGUIHH\");\r\n    //   return { ...prev, accessToken: response?.data?.access_token };\r\n    // });\r\n    setAuth(object_auth);\r\n    return response.data.accessToken;\r\n  };\r\n  return refresh;\r\n};\r\n\r\nexport default useRefreshToken;\r\n","import { axiosPrivate } from \"../api/axios\";\r\nimport { useEffect } from \"react\";\r\nimport useRefreshToken from \"./useRefreshToken\";\r\nimport useAuth from \"./useAuth\";\r\n\r\nconst useAxiosPrivate = () => {\r\n  const refresh = useRefreshToken();\r\n  const { auth } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const requestIntercept = axiosPrivate.interceptors.request.use(\r\n      (config) => {\r\n        if (!config.headers[\"Authorization\"]) {\r\n          config.headers[\"Authorization\"] = `Bearer ${auth?.accessToken}`;\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error)\r\n    );\r\n\r\n    const responseIntercept = axiosPrivate.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const prevRequest = error?.config;\r\n        if (error?.response?.status === 403 && !prevRequest?.sent) {\r\n          prevRequest.sent = true;\r\n          const newAccessToken = await refresh();\r\n          prevRequest.headers[\"Authorization\"] = `Bearer ${newAccessToken}`;\r\n          return axiosPrivate(prevRequest);\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      axiosPrivate.interceptors.request.eject(requestIntercept);\r\n      axiosPrivate.interceptors.response.eject(responseIntercept);\r\n    };\r\n  }, [auth, refresh]);\r\n\r\n  return axiosPrivate;\r\n};\r\n\r\nexport default useAxiosPrivate;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Select from \"react-select\";\r\nimport DatePicker from \"react-date-picker\";\r\nimport { addDays } from \"date-fns\";\r\nimport axios from \"axios\";\r\nimport Calendar from \"moedim\";\r\nimport Swal from \"sweetalert2\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\n\r\nvar options = [];\r\n\r\nSwal.fire({\r\n  title: \"Loading information from database...\",\r\n  allowOutsideClick: false,\r\n  didOpen: () => {\r\n    Swal.showLoading();\r\n  },\r\n});\r\n// get options from backend axios call\r\naxios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n  Swal.close();\r\n  options = [];\r\n\r\n  console.log(res.data);\r\n  res.data.forEach((attraction) => {\r\n    options.push({ value: attraction.attractionID, label: attraction.name });\r\n  });\r\n\r\n  console.log(options);\r\n});\r\n\r\nconst customStyles = {\r\n  option: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  control: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n  singleValue: (provided) => ({\r\n    ...provided,\r\n    color: \"black\",\r\n  }),\r\n};\r\n\r\nexport default function ViewBooking() {\r\n  const axiosPrivate = useAxiosPrivate();\r\n  const { setAuth, auth } = useAuth();\r\n  console.log(auth.id, \"AUTH ID :D\");\r\n\r\n  // state for attraction\r\n  const [attraction, setAttraction] = useState();\r\n\r\n  const SelectAttractionComponent = () => (\r\n    <Select\r\n      placeholder=\"Loading options from backend.. please wait\"\r\n      styles={customStyles}\r\n      options={options}\r\n      defaultValue={[options[0]]}\r\n      value={attraction}\r\n      onChange={(d) => onAttractionChange(d)}\r\n    />\r\n  );\r\n\r\n  const [value, setValue] = useState(addDays(new Date(), 1));\r\n\r\n  const [waitList, setWaitList] = useState(\"click on a date to view waitlist\");\r\n\r\n  const [waitListArray, setWaitListArray] = useState([]);\r\n\r\n  const onAttractionChange = (e) => {\r\n    setAttraction(e);\r\n    onDateChange(value, e);\r\n  };\r\n\r\n  const onDateChange = (date, newAttraction) => {\r\n    setValue(date);\r\n    setAttraction(newAttraction);\r\n    setWaitList(\"loading...\");\r\n\r\n    console.log(date);\r\n    const day = date.getDate();\r\n    const month = date.getMonth() + 1;\r\n    const year = date.getFullYear();\r\n    let attractionId = 1;\r\n    try {\r\n      attractionId = newAttraction.value;\r\n    } catch (error) {\r\n      attractionId = 1;\r\n    }\r\n\r\n    console.log(newAttraction);\r\n\r\n    const myDate = `${attractionId},${day},${month},${year}`;\r\n\r\n    Swal.fire({\r\n      title: \"Loading information from database...\",\r\n      allowOutsideClick: false,\r\n      didOpen: () => {\r\n        Swal.showLoading();\r\n      },\r\n    });\r\n\r\n    axios\r\n      .get(`${backendDomain}/api/v1/bookingdate/${myDate}`)\r\n      .then((response) => {\r\n        Swal.close();\r\n        console.log(response.data);\r\n        setWaitList(response.data.waitingList);\r\n\r\n        let tempwaitingList = response.data.waitingList;\r\n        setWaitListArray(tempwaitingList.split(\",\"));\r\n      })\r\n      .catch((error) => {\r\n        setWaitList(\"no bookings\");\r\n        setWaitListArray([]);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Update the document title using the browser API\r\n    console.log(\"useEffect only once!\");\r\n    onDateChange(value, attraction);\r\n  }, [\"\"]);\r\n\r\n  return (\r\n    <div\r\n      class=\"container rounded content\"\r\n      style={{\r\n        width: \"85%\",\r\n        height: \"100%\",\r\n        maxWidth: \"1000px\",\r\n        minWidth: \"300px\",\r\n      }}\r\n    >\r\n      <h1 class=\"main-header\">View Booking</h1>\r\n      <div class=\"row\">\r\n        <div class=\"col-sm\">\r\n          <div class=\"card\" style={{ width: \"17rem\", height: \"45vh\" }}>\r\n            <h1 class=\"sub-header\">Place:</h1>\r\n            <SelectAttractionComponent />\r\n            <br />\r\n            <Calendar\r\n              value={value}\r\n              onChange={(d) => onDateChange(d, attraction)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm\">\r\n          <div class=\"card\" style={{ width: \"17rem\", height: \"45vh\" }}>\r\n            <h1 class=\"sub-header\">Waiting list:</h1>\r\n            <p>{waitList}</p>\r\n            {waitListArray.map((item, index) => (\r\n              <div key={index}>\r\n                <button\r\n                  onClick={() => {\r\n                    // send axios get to get user details\r\n\r\n                    Swal.fire({\r\n                      title: \"Loading information from database...\",\r\n                      allowOutsideClick: false,\r\n                      didOpen: () => {\r\n                        Swal.showLoading();\r\n                      },\r\n                    });\r\n\r\n                    axios\r\n                      .get(`${backendDomain}/api/v1/usersById/${item}`)\r\n                      .then((response) => {\r\n                        Swal.close();\r\n                        console.log(response.data);\r\n                        var output = \"\";\r\n                        for (var entry in response.data) {\r\n                          output += entry + \" | \" + response.data[entry] + \"\\n\";\r\n                        }\r\n                        alert(output);\r\n                      })\r\n                      .catch((error) => {\r\n                        Swal.close();\r\n                        alert(\"Cannot find user details\");\r\n                      });\r\n\r\n                    // alert(\"Userid \"+ item + \" details\\nname:\\ncontact:\\nemail:\\n\");\r\n                  }}\r\n                >\r\n                  {item}\r\n                </button>\r\n                <button\r\n                  onClick={() => {\r\n                    const day = value.getDate();\r\n                    const month = value.getMonth() + 1;\r\n                    const year = value.getFullYear();\r\n\r\n                    //get current date\r\n                    const today = new Date();\r\n\r\n                    // get difference between current date and selected date\r\n                    const diffTime = (value - today) / 60 / 60 / 24 / 1000;\r\n                    console.log(diffTime);\r\n\r\n                    if (diffTime <= 0) {\r\n                      alert(\"Cannot cancel booking for today or past days\");\r\n                      return;\r\n                    }\r\n\r\n                    let userlogin = JSON.parse(localStorage.getItem(\"auth\"))[\"id\"]\r\n\r\n                    if (userlogin != item) {\r\n                      alert(\"Please login as the user to cancel the booking\");\r\n                      return;\r\n                    }\r\n\r\n                    let removeUser = window.confirm(\r\n                      \"Are you sure you want to remove user \" +\r\n                        item +\r\n                        \" from the waiting list?\"\r\n                    );\r\n                    // send axios to remove user from waiting list\r\n                    if (removeUser) {\r\n                      let attractionId = 1;\r\n                      try {\r\n                        attractionId = attraction.value;\r\n                      } catch (error) {}\r\n                      const myDate = `${attractionId},${day},${month},${year}`;\r\n\r\n                      console.log(myDate);\r\n                      console.log(waitList);\r\n                      let newWaitingList = waitList.replaceAll(\",\" + item, \"\");\r\n                      newWaitingList = newWaitingList.replaceAll(\r\n                        item + \",\",\r\n                        \"\"\r\n                      );\r\n                      newWaitingList = newWaitingList.replaceAll(item, \"\");\r\n\r\n                      console.log(newWaitingList);\r\n\r\n                      Swal.fire({\r\n                        title: \"Loading information from database...\",\r\n                        allowOutsideClick: false,\r\n                        didOpen: () => {\r\n                          Swal.showLoading();\r\n                        },\r\n                      });\r\n\r\n                      if (newWaitingList === \"\") {\r\n                        axios\r\n                          .delete(\r\n                            `${backendDomain}/api/v1/bookingdate/${myDate}`\r\n                          )\r\n                          .then((response) => {\r\n                            Swal.close();\r\n                            console.log(response.data);\r\n                            setWaitList(\"no bookings\");\r\n                            setWaitListArray([]);\r\n                            // get all successloan on the date\r\n                            axios\r\n                              .get(\r\n                                `${backendDomain}/api/v1/successloan/staff/${item}/attraction/${attractionId}/month/${month}/year/${year}/day/${day}`\r\n                              )\r\n                              .then((response) => {\r\n                                console.log(response.data);\r\n                                for (let i = 0; i < response.data.length; i++) {\r\n                                  const successLoan = response.data[i];\r\n                                  // delete successloan\r\n                                  axios.delete(\r\n                                    `${backendDomain}/api/v1/successloan/${successLoan.successLoanId}`\r\n                                  );\r\n                                  alert(\"deleted successloan\");\r\n                                }\r\n                              });\r\n                          });\r\n                      } else {\r\n                        Swal.fire({\r\n                          title: \"Loading information from database...\",\r\n                          allowOutsideClick: false,\r\n                          didOpen: () => {\r\n                            Swal.showLoading();\r\n                          },\r\n                        });\r\n\r\n                        axios\r\n                          .put(\r\n                            `${backendDomain}/api/v1/bookingdate/${myDate}?waitingList=${newWaitingList}`,\r\n                            null\r\n                          )\r\n                          .then((response) => {\r\n                            Swal.close();\r\n                            setWaitList(newWaitingList);\r\n                            setWaitListArray(newWaitingList.split(\",\"));\r\n                            alert(\r\n                              \"User \" + item + \" removed from waiting list\"\r\n                            );\r\n\r\n                            // get all successloan on the date\r\n                            axios\r\n                              .get(\r\n                                `${backendDomain}/api/v1/successloan/staff/${item}/attraction/${attractionId}/month/${month}/year/${year}/day/${day}`\r\n                              )\r\n                              .then((response) => {\r\n                                for (let i = 0; i < response.data.length; i++) {\r\n                                  const successLoan = response.data[i];\r\n                                  // delete successloan\r\n                                  axios.delete(\r\n                                    `${backendDomain}/api/v1/successloan/${successLoan.id}`\r\n                                  );\r\n                                  alert(\"deleted successloan\");\r\n                                }\r\n                              });\r\n                          });\r\n                      }\r\n                    }\r\n                  }}\r\n                >\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport React from \"react\";\r\nimport { Quill } from \"react-quill\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n// import CustTeplateForm from \"./custTeplateForm\";\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\n\r\nfunction EmailTemplateForm(props) {\r\n    const [emailTemplateBody, setEmailTemplateBody] = useState(\"\");\r\n    const [emailTemplateName, setEmailTemplateName] = useState(\"\");\r\n    const tags = [\r\n        {\r\n            tagName: \"Borrower Name\",\r\n            tagValue: \"#borrowerName#\",\r\n        },\r\n        {\r\n            tagName: \"Attraction Name\",\r\n            tagValue: \"#attractionName#\",\r\n        },\r\n        {\r\n            tagName: \"CorpPass No\",\r\n            tagValue: \"#corpPassNo#\",\r\n        },\r\n    ];\r\n\r\n    function insertSymbol(tags) {\r\n        const currSelection = window.getSelection();\r\n        const parentNode =\r\n            currSelection.getRangeAt(0).startContainer.parentNode;\r\n        console.log(parentNode);\r\n        if (\r\n            parentNode.className.includes(\"ql-editor\") ||\r\n            parentNode.tagName == \"P\"\r\n        ) {\r\n            const offSetPos = currSelection.getRangeAt(0).startOffset;\r\n            var currPara = currSelection.getRangeAt(0).startContainer;\r\n            const currentContent = currPara.innerText;\r\n            if (currentContent) {\r\n                const currContentStart = currentContent.slice(0, offSetPos);\r\n                const currContentEnd = currentContent.slice(offSetPos);\r\n                currPara.textContent =\r\n                    currContentStart + tags.tagValue + currContentEnd;\r\n            } else {\r\n                // currPara.innerHTML = \"<p></p>\"\r\n                const currContentStart = currPara.data.slice(0, offSetPos);\r\n                const currContentEnd = currPara.data.slice(offSetPos);\r\n                currPara.textContent =\r\n                    currContentStart + tags.tagValue + currContentEnd;\r\n            }\r\n        }\r\n    }\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (props.template) {\r\n            setEmailTemplateBody(props.template.emailTemplateBody);\r\n            setEmailTemplateName(props.template.emailTemplateName);\r\n        }\r\n    }, []);\r\n\r\n    const postData = () => {\r\n        const postRequest =\r\n            \"{emailTemplateName: \" +\r\n            emailTemplateName +\r\n            \",\\n emailTemplateBody: \" +\r\n            emailTemplateBody +\r\n            \"}\";\r\n        alert(\r\n            \"sent a post request:\\n\" +\r\n                postRequest +\r\n                `\\nto ${backendDomain}/api/v1/emailtemplate`\r\n        );\r\n\r\n        axios\r\n            .post(`${backendDomain}/api/v1/emailtemplates`, {\r\n                emailTemplateName,\r\n                emailTemplateBody,\r\n            })\r\n            .then(() => {\r\n                alert(\"Email template added\");\r\n                navigate(\"/react/emailtemplates\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in creation! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    const updateData = () => {\r\n        axios\r\n            .put(\r\n                `${backendDomain}/api/v1/emailtemplates/${props.template.emailTemplateId}`,\r\n                {\r\n                    emailTemplateName,\r\n                    emailTemplateBody,\r\n                }\r\n            )\r\n            .then(() => {\r\n                alert(\"Email template edited!\");\r\n                navigate(\"/react/emailtemplates\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in updating! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div style={{ margin: \"10px\", padding: \"10px\" }}>\r\n            <br></br>\r\n            <label>Email Template Name:</label>\r\n            <input\r\n                onChange={(e) => setEmailTemplateName(e.target.value)}\r\n                value={emailTemplateName}\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                placeholder=\"Enter template name\"\r\n            />\r\n            <br></br>\r\n\r\n            {tags.map((tag) => {\r\n                return (\r\n                    <button\r\n                        onClick={() => {\r\n                            insertSymbol(tag);\r\n                        }}\r\n                        className=\"btn btn-primary\"\r\n                        style={{ padding: \"5px\", margin: \"10px\" }}\r\n                    >\r\n                        {tag.tagName}\r\n                    </button>\r\n                );\r\n            })}\r\n\r\n            <ReactQuill\r\n                theme=\"snow\"\r\n                value={emailTemplateBody}\r\n                onChange={setEmailTemplateBody}\r\n            />\r\n            {props.template ? (\r\n                <>\r\n                    <button className=\"btn btn-primary\" onClick={updateData}>\r\n                        Update Template\r\n                    </button>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <button className=\"btn btn-primary\" onClick={postData}>\r\n                        Submit Template\r\n                    </button>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmailTemplateForm;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nfunction EmailTemplateRow({template,deleteFunction}) {\r\n\r\n    return (\r\n        <div>\r\n            {template.emailTemplateName}\r\n            <button className='btn btn-primary'><Link style={{color:\"white\"}} to = {\"/react/emailtemplates/edit/\"+template.emailTemplateId}>Edit</Link></button>\r\n            <button className='btn btn-danger' onClick={()=>{deleteFunction(template.emailTemplateId)}}>Delete</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmailTemplateRow;","import React, { useState, useEffect } from \"react\";\r\nimport EmailTemplateForm from \"../../components/emailtemplates/emailTemplateForm\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EmailTemplateRow from \"./emailTemplateRow\";\r\nimport Table from \"@mui/material/Table\";\r\nimport { TableHeader } from \"semantic-ui-react\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { useNavigate } from \"react-router\";\r\n\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nfunction EmailTemplatePage() {\r\n    useEffect(() => {\r\n        getEmailTemplates();\r\n    }, []);\r\n    \r\n    const navigate = useNavigate();\r\n\r\n    const [emailTemplates, setEmailTemplates] = useState([]);\r\n    const getEmailTemplates = () => {\r\n        axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n            console.log(res.data);\r\n            setEmailTemplates(res.data);\r\n        });\r\n    };\r\n\r\n    const deleteEmailTemplate = (emailTemplateId) => {\r\n        axios\r\n            .delete(`${backendDomain}/api/v1/emailtemplates/${emailTemplateId}`)\r\n            .then((res) => {\r\n                alert(\"Email template successfully deleted\");\r\n                getEmailTemplates();\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div class=\"container rounded content\">\r\n            <div class=\"card\" style={{ width: \"60vw\" }}>\r\n                <h1 class=\"main-header\">Email templates</h1>\r\n                <button\r\n                    className=\"btn btn-primary btn-sm\"\r\n                    style={{\r\n                        margin: \"10px auto\",\r\n                        width: \"max-content\",\r\n                        padding: \"10px\",\r\n                    }}\r\n                >\r\n                    <Link\r\n                        to=\"/react/emailtemplates/create\"\r\n                        style={{ color: \"white\" }}\r\n                    >\r\n                        <h6>Create new template</h6>\r\n                    </Link>\r\n                </button>\r\n                <TableContainer component={Paper} elavation={3}>\r\n                    <Table\r\n                        sx={{ minWidth: 640, \"& td\": { border: 0 } }}\r\n                        aria-label=\"simple table\"\r\n                    >\r\n                        <TableHead>\r\n                            <TableCell>\r\n                                <TableHeader align=\"left\">\r\n                                    Email Template Name\r\n                                </TableHeader>\r\n                            </TableCell>\r\n                            <TableCell align=\"center\"></TableCell>\r\n                            <TableCell align=\"center\"></TableCell>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                            {emailTemplates.length > 0 ? (\r\n                                emailTemplates.map((template) => {\r\n                                    return (\r\n                                        <TableRow>\r\n                                            <TableCell align=\"left\">\r\n                                                {template.emailTemplateName}\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                                <IconButton\r\n                                                    aria-label=\"edit\"\r\n                                                    style={{ color: \"#5289B5\" }}\r\n                                                    onClick={() => {\r\n                                                        navigate(\"/react/emailtemplates/edit/\" +\r\n                                                        template.emailTemplateId)\r\n                                                    }}\r\n                                                >\r\n                                                    <EditIcon />\r\n                                                </IconButton>\r\n                                            </TableCell>\r\n                                            <TableCell align=\"center\">\r\n                                                <IconButton\r\n                                                    aria-label=\"delete\"\r\n                                                    style={{ color: \"#5289B5\" }}\r\n                                                    onClick={() =>\r\n                                                        deleteEmailTemplate(\r\n                                                            template.emailTemplateId\r\n                                                        )\r\n                                                    }\r\n                                                >\r\n                                                    <DeleteOutlinedIcon />\r\n                                                </IconButton>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    );\r\n                                })\r\n                            ) : (\r\n                                <h2>No templates found</h2>\r\n                            )}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EmailTemplatePage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport EmailTemplateForm from \"../../components/emailtemplates/emailTemplateForm\";\r\nimport axios from \"axios\";\r\nfunction EditEmailTemplate() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const { emailTemplateId } = useParams();\r\n    const [emailTemplate, setEmailTemplate] = useState(null);\r\n    const getCurrentEmailTemplate = async () => {\r\n        await axios\r\n            .get(\r\n                `${backendDomain}/api/v1/emailtemplates/get/${emailTemplateId}`\r\n            )\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setEmailTemplate(res.data);\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        const callAsyncFunctions = async () => {\r\n            await getCurrentEmailTemplate();\r\n        };\r\n        callAsyncFunctions().catch(console.error);\r\n    }, []);\r\n    return (\r\n        <div class=\"container rounded content\">\r\n            <div class=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 class=\"main-header\">Edit template</h2>\r\n                {emailTemplate ? (\r\n                    <>\r\n                        <EmailTemplateForm template={emailTemplate} />\r\n                        <button className=\"btn btn-secondary\">\r\n                            <Link\r\n                                to=\"/react/emailtemplates\"\r\n                                style={{ color: \"white\" }}\r\n                            >\r\n                                Cancel\r\n                            </Link>\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <h4>Loading template</h4>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditEmailTemplate;\r\n","import React from \"react\";\r\nimport EmailTemplateForm from \"../../components/emailtemplates/emailTemplateForm\";\r\nimport { Link } from \"react-router-dom\";\r\nfunction CreateEmailTemplate() {\r\n    return (\r\n        <div className=\"container rounded content\">\r\n            <div className=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 className=\"main-header\">Create template</h2>\r\n                <EmailTemplateForm template={null} />\r\n                <button className=\"btn btn-secondary btn-sm\">\r\n                    <Link to=\"/react/emailtemplates\" style={{ color: \"white\" }}>\r\n                        Cancel\r\n                    </Link>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateEmailTemplate;\r\n","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport useAxiosPrivate from \"../../hooks/useAxiosPrivate\";\r\nimport axios from \"axios\";\r\n\r\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport { Form } from \"semantic-ui-react\";\r\n\r\nconst UsersList = () => {\r\n  const backendDomain = process.env.REACT_APP_backendDomain;\r\n  const [users, setUsers] = useState();\r\n  const axiosPrivate = useAxiosPrivate();\r\n  const { setAuth, auth } = useAuth();\r\n\r\n  const [username, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  console.log(auth, \"AUTHHH userpage\");\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    const controller = new AbortController();\r\n    const getUsers = async () => {\r\n      try {\r\n        const response = await axiosPrivate.get(\"/api/v1/users\", {\r\n          signal: controller.signal,\r\n        });\r\n        console.log(response.data);\r\n        isMounted && setUsers(response.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    getUsers();\r\n\r\n    console.log(users);\r\n\r\n    return () => {\r\n      isMounted = false;\r\n      controller.abort();\r\n    };\r\n  }, []);\r\n\r\n  const register = () => {\r\n    axios\r\n      .post(`${backendDomain}/api/v1/user/save`, {\r\n        username,\r\n        email,\r\n        password,\r\n        phoneNumber: phone,\r\n        userRoles: [\r\n          {\r\n            id: 2,\r\n            name: \"ROLE_ADMIN\",\r\n          },\r\n        ],\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n\r\n        const postRequest =\r\n          \"{username: \" +\r\n          username +\r\n          \",\\n email: \" +\r\n          email +\r\n          \",\\n password: \" +\r\n          password +\r\n          \",\\n phoneNumber: \" +\r\n          phone +\r\n          \",\\n userRoles: \" +\r\n          JSON.stringify([\r\n            {\r\n              id: 2,\r\n              name: \"ROLE_ADMIN\",\r\n            },\r\n          ]) +\r\n          \"}\";\r\n\r\n        alert(\r\n          \"sent a post request:\\n\" +\r\n            postRequest +\r\n            `\\nto ${backendDomain}/api/v1/user/save`\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        alert(err.response.data.message);\r\n      });\r\n  };\r\n\r\n  const upgradeToAdmin = async (username) => {\r\n    try {\r\n      const response = await axiosPrivate.post(\"/api/v1/role/addtouser\", {\r\n        username,\r\n        roleName: \"ROLE_ADMIN\",\r\n      });\r\n      console.log(response.data);\r\n      alert(username + \" is now an Admin\");\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const deleteUser = (id) => {\r\n    axios\r\n      .delete(`${backendDomain}/api/v1/users/delete/${id}`)\r\n      .then((response) => {\r\n        alert(`User ${id} deleted`);\r\n      });\r\n  };\r\n\r\n  console.log(users, \"USERSS\");\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  var state = {\r\n    file: null,\r\n  };\r\n  const handleFile = (e) => {\r\n    let file = e.target.files[0];\r\n    //console.log(e.target.files, \"$$$\")\r\n    state = {\r\n      file: file,\r\n    };\r\n  };\r\n  const helpUpload = (e) => {\r\n    console.log(state, \"The state ****\");\r\n    let file = state.file;\r\n    var formdata = new FormData();\r\n    formdata.append(\"file\", file);\r\n    axios({\r\n      method: \"post\",\r\n      url: `${backendDomain}/api/v1/upload`,\r\n      data: formdata,\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    })\r\n      .then(function (response) {\r\n        //handle success\r\n        console.log(response);\r\n        alert(\"Users added successfully!\");\r\n      })\r\n      .catch(function (response) {\r\n        //handle error\r\n        console.log(response);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div class=\"card\" style={{ width: \"60rem\", height: \"80vh\" }}>\r\n        {auth?.roles?.includes(\"ROLE_ADMIN\") && (\r\n          <form>\r\n            <div>\r\n              <h2>Import Employees From CSV</h2>\r\n              <input\r\n                type=\"file\"\r\n                name=\"file\"\r\n                onChange={(e) => handleFile(e)}\r\n              ></input>\r\n              <Button\r\n                variant=\"contained\"\r\n                type=\"button\"\r\n                onClick={(e) => helpUpload(e)}\r\n              >\r\n                Upload\r\n              </Button>\r\n              <hr></hr>\r\n            </div>\r\n          </form>\r\n        )}\r\n        <div>\r\n          {auth?.roles?.includes(\"ROLE_ADMIN\") && (\r\n            <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n              Add new Admin\r\n            </Button>\r\n          )}\r\n\r\n          <Dialog\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n              {\"Add new adminstrator\"}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              <Form className=\"create-form\" style={{ margin: \"auto\" }}>\r\n                <Form.Field>\r\n                  <label>Name</label>\r\n                  <input\r\n                    placeholder=\"Name\"\r\n                    onChange={(e) => setName(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                  <label>Email</label>\r\n                  <input\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                  <label>Password</label>\r\n                  <input\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                  <label>Phone</label>\r\n                  <input\r\n                    placeholder=\"Phone\"\r\n                    onChange={(e) => setPhone(e.target.value)}\r\n                  />\r\n                </Form.Field>\r\n                <Button onClick={register} type=\"submit\">\r\n                  Register\r\n                </Button>\r\n              </Form>\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n              <Button onClick={handleClose} autoFocus>\r\n                Close\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        </div>\r\n\r\n        <h2>Users List</h2>\r\n        {users?.length ? (\r\n          <TableContainer component={Paper} elevation={3}>\r\n            <Table\r\n              sx={{ minWidth: 640, \"& td\": { border: 0 } }}\r\n              aria-label=\"simple table\"\r\n            >\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>User ID</TableCell>\r\n                  <TableCell>User Name</TableCell>\r\n                  <TableCell align=\"left\">User Email</TableCell>\r\n                  <TableCell align=\"left\">Phone Number</TableCell>\r\n                  <TableCell align=\"left\">Role/s</TableCell>\r\n                  <TableCell align=\"center\">Delete</TableCell>\r\n                  <TableCell align=\"center\">Upgrade to Admin</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {users?.map((user) => (\r\n                  <TableRow\r\n                    key={user.id}\r\n                    sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\r\n                  >\r\n                    <TableCell align=\"left\">{user.id}</TableCell>\r\n                    <TableCell align=\"left\">{user.username}</TableCell>\r\n                    <TableCell align=\"left\">{user.email}</TableCell>\r\n                    <TableCell align=\"left\">{user.phoneNumber}</TableCell>\r\n\r\n                    <TableCell align=\"left\">\r\n                      {user.userRoles.length > 1\r\n                        ? user.userRoles?.map((role) => `${role.name}, `)\r\n                        : user.userRoles?.map((role) => `${role.name}`)}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      <IconButton\r\n                        aria-label=\"delete\"\r\n                        style={{ color: \"#5289B5\" }}\r\n                        onClick={() => deleteUser(user.id)}\r\n                      >\r\n                        <DeleteOutlinedIcon />\r\n                      </IconButton>\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {user.userRoles[0]?.name !== \"ROLE_ADMIN\" &&\r\n                        user.userRoles[1]?.name !== \"ROLE_ADMIN\" &&\r\n                        user.userRoles[2]?.name !== \"ROLE_ADMIN\" && (\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            onClick={() => upgradeToAdmin(user.username)}\r\n                          >\r\n                            Become Admin\r\n                          </Button>\r\n                        )}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        ) : (\r\n          <p>You do not have the access rights</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"../../api/axios\";\r\n\r\nimport DeleteOutlinedIcon from \"@mui/icons-material/DeleteOutlined\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nfunction AttractionList() {\r\n  const { setAuth, auth } = useAuth();\r\n  useEffect(() => {\r\n    getAttractions();\r\n    getEmailTemplates();\r\n  }, []);\r\n  const [attractions, setAttractions] = useState([]);\r\n  const [emailTemplates, setEmailTemplates] = useState([]);\r\n\r\n  const getEmailTemplates = async () => {\r\n    await axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n      setEmailTemplates(res.data);\r\n    });\r\n  };\r\n\r\n  const getAttractions = async () => {\r\n    await axios.get(`${backendDomain}/api/v1/attractions`).then((res) => {\r\n      setAttractions(res.data);\r\n    });\r\n  };\r\n  const deleteAttraction = (attractionId) => {\r\n    axios\r\n      .delete(`${backendDomain}/api/v1/attractions/${attractionId}`)\r\n      .then((res) => {\r\n        alert(\"Attraction successfully deleted\");\r\n        getAttractions();\r\n      });\r\n  };\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div class=\"card\" style={{ width: \"60rem\", height: \"70vh\" }}>\r\n        <div>\r\n          <h1 class=\"main-header\">Attraction List</h1>\r\n          <button className=\"btn btn-primary btn-sm\">\r\n            <Link to=\"/react/attractions/create\" style={{ color: \"white\" }}>\r\n              Create new attraction\r\n            </Link>\r\n          </button>\r\n          <TableContainer component={Paper} elevation={3}>\r\n            <Table\r\n              sx={{ minWidth: 640, \"& td\": { border: 0 } }}\r\n              aria-label=\"simple table\"\r\n            >\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Attraction ID</TableCell>\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>Description</TableCell>\r\n                  <TableCell>PassType</TableCell>\r\n                  <TableCell>Replacement Fee</TableCell>\r\n                  <TableCell>Email Template</TableCell>\r\n                  <TableCell>Total Passes</TableCell>\r\n                  <TableCell>Status</TableCell>\r\n                  {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                    <>\r\n                      <TableCell align=\"center\"></TableCell>\r\n                      <TableCell align=\"center\"></TableCell>\r\n                    </>\r\n                  )}\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {attractions.length > 0 ? (\r\n                  attractions.map((attraction) => {\r\n                    return (\r\n                      <TableRow\r\n                        key={attraction.attractionID}\r\n                        sx={{\r\n                          \"&:last-child td, &:last-child th\": { border: 0 },\r\n                        }}\r\n                      >\r\n                        <TableCell>{attraction.attractionID}</TableCell>\r\n                        <TableCell>{attraction.name}</TableCell>\r\n                        <TableCell>{attraction.description}</TableCell>\r\n                        <TableCell>{attraction.passType} </TableCell>\r\n                        <TableCell>${attraction.replacementFee}</TableCell>\r\n                        <TableCell>\r\n                          {attraction.emailTemplateID}\r\n                          {/* {\r\n                                                    emailTemplates.length > 0\r\n                                                        ? \r\n                                                        emailTemplates.filter(\r\n                                                              (template) =>\r\n                                                                  template.emailTemplateId ==\r\n                                                                  attraction.emailTemplateID\r\n                                                          )[0].emailTemplateName\r\n                                                        : \"No templates\"\r\n                                                } */}\r\n                        </TableCell>\r\n                        <TableCell>{attraction.totalPasses}</TableCell>\r\n                        <TableCell>{attraction.status}</TableCell>\r\n                        {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                          <>\r\n                            <TableCell align=\"center\">\r\n                              <IconButton\r\n                                aria-label=\"delete\"\r\n                                style={{ color: \"#5289B5\" }}\r\n                                onClick={() =>\r\n                                  deleteAttraction(attraction.attractionID)\r\n                                }\r\n                              >\r\n                                <DeleteOutlinedIcon />\r\n                              </IconButton>\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              <IconButton\r\n                                aria-label=\"edit\"\r\n                                style={{ color: \"#5289B5\" }}\r\n                                href={`/react/attractions/${attraction.attractionID}`}\r\n                              >\r\n                                <EditIcon />\r\n                              </IconButton>\r\n                            </TableCell>\r\n                          </>\r\n                        )}\r\n                      </TableRow>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <>None</>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AttractionList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Checkbox, Dropdown, Form } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router\";\r\nimport useAuth from \"../../hooks/useAuth\";\r\n\r\nconst AttractionForm = (props) => {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const navigate = useNavigate();\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const [passType, setPassType] = useState(\"Physical\");\r\n    const [replacementFee, setReplacementFee] = useState(1);\r\n    const [emailTemplateID, setEmailTemplateID] = useState(1);\r\n    const [totalPasses, setTotalPasses] = useState(1);\r\n    const [status, setStatus] = useState(\"Active\");\r\n\r\n    const [emailTemplates, setEmailTemplates] = useState([]);\r\n\r\n    const retrieveEmailTemplates = () => {\r\n        axios.get(`${backendDomain}/api/v1/emailtemplates`).then((res) => {\r\n            setEmailTemplates(res.data);\r\n        });\r\n    };\r\n\r\n    const postData = () => {\r\n        const postRequest =\r\n            \"{name: \" +\r\n            name +\r\n            \",\\n description: \" +\r\n            description +\r\n            \",\\n passType: \" +\r\n            passType +\r\n            \",\\n replacementFee: \" +\r\n            replacementFee +\r\n            \",\\n emailTemplate: \" +\r\n            emailTemplateID +\r\n            \",\\n totalPasses: \" +\r\n            totalPasses +\r\n            \",\\n status: Active\" +\r\n            status +\r\n            \"}\";\r\n        alert(\r\n            \"sent a post request:\\n\" +\r\n                postRequest +\r\n                `\\nto ${backendDomain}/api/v1/attractions`\r\n        );\r\n\r\n        axios\r\n            .post(`${backendDomain}/api/v1/attractions`, {\r\n                // attractionId,\r\n                name,\r\n                description,\r\n                passType,\r\n                replacementFee,\r\n                emailTemplateID,\r\n                totalPasses,\r\n                status,\r\n            })\r\n            .then(() => {\r\n                alert(\"success! going to read page\");\r\n                navigate(\"/react/attractions\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in creation! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    const updateData = () => {\r\n        axios\r\n            .put(\r\n                `${backendDomain}/api/v1/attractions/${props.attraction.attractionID}`,\r\n                {\r\n                    name,\r\n                    description,\r\n                    passType,\r\n                    replacementFee,\r\n                    emailTemplateID,\r\n                    totalPasses,\r\n                    status,\r\n                }\r\n            )\r\n            .then(() => {\r\n                alert(\"Attraction edited!\");\r\n                navigate(\"/react/attractions\");\r\n            })\r\n            .catch((err) => {\r\n                alert(\"error in updating! staying on this page.\" + err);\r\n            });\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log(\"props.attraction\", props.attraction);\r\n        retrieveEmailTemplates();\r\n        if (props.attraction) {\r\n            // attractionID: 1;\r\n            // description: \"Zoo is a really fun place. You get to see the white tiger\";\r\n            // emailTemplateID: 1;\r\n            // name: \"Zoo\";\r\n            // passType: \"Physical\";\r\n            // replacementFee: 50;\r\n            // status: \"Active\";\r\n            // totalPasses: 100;\r\n\r\n            setName(props.attraction.name);\r\n            setDescription(props.attraction.description);\r\n            setEmailTemplateID(props.attraction.emailTemplateID);\r\n            setPassType(props.attraction.passType);\r\n            setReplacementFee(props.attraction.replacementFee);\r\n            setStatus(props.attraction.status);\r\n            setTotalPasses(props.attraction.totalPasses);\r\n        }\r\n    }, []);\r\n    return (\r\n        <div style={{ margin: \"10px\", padding: \"10px\" }}>\r\n            <Form className=\"create-form\">\r\n                <Form.Field>\r\n                    <label>Name:</label>\r\n                    <input\r\n                        value={name}\r\n                        placeholder=\"Name\"\r\n                        onChange={(e) => setName(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Description:</label>\r\n                    <input\r\n                        placeholder=\"Description\"\r\n                        value={description}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Pass Type:</label>\r\n                    <select onChange={(e) => setPassType(e.target.value)}>\r\n                        <option value=\"Physical\">Physical</option>\r\n                        <option value=\"E-Pass\">E-Pass</option>\r\n                        <option value=\"E-Pass\">Both</option>\r\n                    </select>\r\n                </Form.Field>\r\n\r\n                <Form.Field>\r\n                    <label>Replacement Fee:</label>\r\n                    <input\r\n                        placeholder=\"Replacement Fee\"\r\n                        value={replacementFee}\r\n                        type=\"number\"\r\n                        onChange={(e) => setReplacementFee(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Email Template:</label>\r\n                    <select\r\n                        onChange={(e) => setEmailTemplateID(e.target.value)}\r\n                        value = {emailTemplateID}\r\n                    >\r\n                        {emailTemplates.map((emailTemplate) => {\r\n                            return (\r\n                                <option value={emailTemplate.emailTemplateId}>\r\n                                    {emailTemplate.emailTemplateName}\r\n                                </option>\r\n                            );\r\n                        })}\r\n                    </select>\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Total Passes:</label>\r\n                    <input\r\n                        value={totalPasses}\r\n                        placeholder=\"Total Passes\"\r\n                        type=\"number\"\r\n                        min=\"0\"\r\n                        step=\"1\"\r\n                        onChange={(e) => setTotalPasses(e.target.value)}\r\n                    />\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    <label>Status:</label>\r\n                    <select\r\n                        value={status}\r\n                        onChange={(e) => setStatus(e.target.value)}\r\n                    >\r\n                        <option value=\"Active\">Active</option>\r\n                        <option value=\"Non-active\">Non-active</option>\r\n                    </select>\r\n                </Form.Field>\r\n\r\n                {props.attraction ? (\r\n                    <>\r\n                        <button\r\n                            className=\"btn btn-primary\"\r\n                            onClick={updateData}\r\n                        >\r\n                            Update Attraction\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <button className=\"btn btn-primary\" onClick={postData}>\r\n                            Submit Attraction\r\n                        </button>\r\n                    </>\r\n                )}\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AttractionForm;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AttractionForm from \"../../components/attractions/AttractionForm\";\r\nfunction CreateAttractions() {\r\n    return (\r\n        <div className=\"container rounded content\">\r\n            <div className=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 className=\"main-header\">Create Attraction</h2>\r\n                <AttractionForm attraction={null} />\r\n                <button className=\"btn btn-secondary btn-sm\">\r\n                    <Link to=\"/react/attractions\" style={{ color: \"white\" }}>\r\n                        Cancel\r\n                    </Link>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateAttractions;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport AttractionForm from \"../../components/attractions/AttractionForm\";\r\nimport axios from \"../../api/axios\";\r\nfunction UpdateAttraction() {\r\n    const backendDomain = process.env.REACT_APP_backendDomain;\r\n    const { attractionId } = useParams();\r\n    const [attraction, setAttraction] = useState(null);\r\n    const getCurrentEmailTemplate = async () => {\r\n        await axios\r\n            .get(`${backendDomain}/api/v1/attractions/${attractionId}`)\r\n            .then((res) => {\r\n                console.log(res.data);\r\n                setAttraction(res.data);\r\n            });\r\n    };\r\n    useEffect(() => {\r\n        const callAsyncFunctions = async () => {\r\n            await getCurrentEmailTemplate();\r\n        };\r\n        callAsyncFunctions().catch(console.error);\r\n    }, []);\r\n    return (\r\n        <div className=\"container rounded content\">\r\n            <div className=\"card\" style={{ width: \"60rem\" }}>\r\n                <h2 className=\"main-header\">Update Attraction</h2>\r\n                {attraction ? (\r\n                    <>\r\n                        <AttractionForm attraction={attraction} />\r\n                        <button className=\"btn btn-secondary btn-sm\">\r\n                            <Link\r\n                                to=\"/react/attractions\"\r\n                                style={{ color: \"white\" }}\r\n                            >\r\n                                Cancel\r\n                            </Link>\r\n                        </button>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <h4>Loading attraction</h4>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UpdateAttraction;\r\n","import React, { useState , useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Bar} from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n);\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nconst url = backendDomain + \"/api/v1/successloan\";\r\n\r\nexport default function EmployeeStatistics() {\r\n    const [chartData,setChartData] = useState({})\r\n    const [loading, setLoading] = useState(false)\r\n    const [options, setOptions] = useState({})\r\n\r\n    const [employeeId, setEmployeeId] = useState(\"1\")\r\n    const [chartMode, setChartMode] = useState(\"Monthly\")\r\n    const [labels,setLabels] = useState(['Jan 22', 'Feb 22', 'Mar 22', 'Apr 22', 'May 22', 'Jun 22', 'Jul 22', 'Aug 22', 'Sep 22', 'Oct 22', 'Nov 22', 'Dec 22']);\r\n    const [data, setData] = useState([])\r\n    const [year, setYear] = useState(\"2022\");\r\n    const [yearlist, setYearList] = useState([])\r\n\r\n    function handleYearSubmit(event){\r\n        setYear(event.target.value)\r\n        setChartMode(\"Monthly\")\r\n        setChartData(chartData)\r\n    }\r\n\r\n    function handleCMSubmit(event) {\r\n    setChartMode(event.target.value)\r\n    setChartData(chartData)\r\n    }\r\n\r\n    function handleEmpSubmit(event) {\r\n    setEmployeeId(event.target.value)\r\n    setChartData(chartData)\r\n    }\r\n\r\n    useEffect (() => {\r\n    let loanlist = {}; //this is for month\r\n    let yearlist = {};\r\n    let biannlist = {};\r\n    let halfmonths = [\"1\",\"2\",\"3\",\"4\",\"5\",\"6\"];\r\n    axios.get(url).then(response => {\r\n        response.data.forEach(successfulloan => {\r\n            if(successfulloan.staffId == employeeId){\r\n                // GETTING MONTHLIST \r\n                if(successfulloan.year in loanlist){\r\n                    loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n                }else{\r\n                    loanlist[successfulloan.year] = [0,0,0,0,0,0,0,0,0,0,0,0];\r\n                    loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n                }\r\n                // GETTING YEARLIST\r\n                if(successfulloan.year in yearlist){\r\n                    yearlist[successfulloan.year] += 1;\r\n                } else{\r\n                    yearlist[successfulloan.year] = 1;\r\n                }\r\n                // GETTING BIANNUAL\r\n                if(successfulloan.year in biannlist){\r\n                    if(halfmonths.includes(successfulloan.month)){\r\n                        biannlist[successfulloan.year][0] += 1\r\n                    }else{\r\n                        biannlist[successfulloan.year][1] += 1\r\n                    }\r\n                }else{\r\n                    biannlist[successfulloan.year] = [0,0]\r\n                    if(halfmonths.includes(successfulloan.month)){\r\n                        biannlist[successfulloan.year][0] += 1\r\n                    }else{\r\n                        biannlist[successfulloan.year][1] += 1\r\n                    }\r\n                }\r\n                \r\n            }\r\n        })\r\n        let templist = Object.keys(yearlist)\r\n        templist.sort()\r\n        setYearList(templist)\r\n        if(chartMode == \"Monthly\"){\r\n            setData(loanlist[year])\r\n            let i = year.slice(2,4)\r\n            setLabels(['Jan ' + i, 'Feb ' + i, 'Mar ' + i, 'Apr ' + i, 'May ' + i, 'Jun ' + i, 'Jul ' + i, 'Aug ' + i, 'Sep ' + i, 'Oct ' + i, 'Nov ' + i, 'Dec ' + i])\r\n        } else if(chartMode == \"Bi-Annually\"){\r\n            let i = Object.keys(biannlist);\r\n            i.sort()\r\n            let j = []\r\n            let k = []\r\n            for(var keys of i){\r\n                j.push(keys + \" 1st\")\r\n                j.push(keys + \" 2nd\")\r\n                k.push(biannlist[keys][0])\r\n                k.push(biannlist[keys][1])\r\n            }\r\n            setData(k)\r\n            setLabels(j)\r\n        } else if(chartMode == \"Annually\"){\r\n            let i = Object.keys(yearlist);\r\n            i.sort()\r\n            let j = []\r\n            let k = []\r\n            for(var keys of i){\r\n                j.push(keys)\r\n                k.push(yearlist[keys])\r\n            }\r\n            setData(k)\r\n            setLabels(j)\r\n        }\r\n    })\r\n},[employeeId, chartMode, year])\r\n        \r\n\r\nuseEffect (() => {\r\n        setChartData({\r\n        labels: labels,\r\n        datasets:[\r\n            {\r\n            label:\"employee \" + employeeId + \"'s pass booking records\",\r\n            data: data,\r\n            backgroundColor: [\r\n                'rgba(255, 99, 132, 0.5)',\r\n            ],\r\n            borderColor: [\r\n                'rgba(255, 99, 132, 1)'\r\n            ]\r\n            }\r\n        ]\r\n        })\r\n        setOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n            legend: {\r\n            position: 'top',\r\n            },\r\n            title: {\r\n            display: true,\r\n            text: 'Employee bookings ' + chartMode,\r\n            }\r\n        }\r\n        })\r\n        setLoading(true)\r\n    },[data,labels])\r\n\r\n    if (loading)\r\n    return (\r\n    <div class=\"container rounded content\">\r\n        <div class=\"card\" style={{\"height\": \"600px\", \"width\":\"1000px\"}}>\r\n            <h4 class=\"sub-header\">Employee ID: <input name=\"EmployeeID\" value = {employeeId} onChange={handleEmpSubmit}/></h4>\r\n            <h4 class=\"sub-header\"><button value = \"Monthly\" onClick={handleCMSubmit}>Monthly</button>{' :'}\r\n            <select onChange={handleYearSubmit}>\r\n            {yearlist.map(res => (\r\n            <option value={res}>\r\n                {res}\r\n            </option>\r\n            ))}\r\n            </select>{' '}\r\n            <button value = \"Bi-Annually\" onClick={handleCMSubmit}>Bi-Annually</button>{' '}\r\n            <button value = \"Annually\" onClick={handleCMSubmit}>Annually</button></h4>\r\n            <div style={{\"height\": \"600px\", \"width\":\"1000px\"}}><Bar data={chartData} options = {options}/></div>\r\n        </div>\r\n    </div>\r\n    )\r\n\r\n\r\n}","import React, { useState , useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Bar} from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n);\r\n\r\nconst backendDomain = process.env.REACT_APP_backendDomain;\r\nconst url = backendDomain + \"/api/v1/successloan\";\r\n\r\nexport default function MonthlyStatistics() {\r\n  const [chartData,setChartData] = useState({})\r\n  const [loading, setLoading] = useState(false)\r\n  const [options, setOptions] = useState({})\r\n  const [year, setYear] = useState(\"2022\")\r\n  const [labels,setLabels] = useState(['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']);\r\n  const [loanlistconst, setLoanListConst] = useState([])\r\n  \r\n\r\n  function handleSubmit(event) {\r\n    setYear(event.target.value)\r\n    setChartData(chartData)\r\n  }\r\n\r\n  useEffect (() => { \r\n    let loanlist = {};\r\n    let borrowlist = {\"1\": new Set(), \"2\": new Set(), \"3\": new Set(), \"4\": new Set(), \"5\": new Set(), \"6\": new Set(), \"7\": new Set(), \"8\": new Set(), \"9\": new Set(), \"10\": new Set(), \"11\": new Set(), \"12\": new Set()};\r\n    let borrowcount = [];\r\n    axios.get(url).then(response => {\r\n      response.data.forEach(successfulloan => {\r\n        if(successfulloan.year in loanlist){\r\n          loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n        }else{\r\n          loanlist[successfulloan.year] = [0,0,0,0,0,0,0,0,0,0,0,0];\r\n          loanlist[successfulloan.year][parseInt(successfulloan.month)-1] += 1;\r\n        }\r\n        if(successfulloan.year == year){\r\n          borrowlist[successfulloan.month].add(successfulloan.staffId)\r\n        }\r\n\r\n      })\r\n      for(var i of Object.keys(borrowlist)){\r\n        console.log(borrowlist[i])\r\n        borrowcount.push(borrowlist[i].size)\r\n      }\r\n\r\n      setYear(year)\r\n      setChartData({\r\n        labels: labels,\r\n        datasets:[\r\n          {\r\n            label:\"No of loans per month in \" + year,\r\n            data: loanlist[year],\r\n            backgroundColor: [\r\n              'rgba(255, 99, 132, 0.5)',\r\n            ],\r\n            borderColor: [\r\n              'rgba(255, 99, 132, 1)'\r\n            ]\r\n          },\r\n          {\r\n            label:\"No of borrowers per month in \" + year,\r\n            data: borrowcount,\r\n            backgroundColor: [\r\n              'rgba(54, 162, 235, 0.5)',\r\n            ],\r\n            borderColor: [\r\n              'rgba(54, 162, 235, 1)',\r\n            ]\r\n          }\r\n        ]\r\n      })\r\n\r\n      // console.log(loanlist);\r\n      setLoanListConst(Object.keys(loanlist));\r\n\r\n      setOptions({\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            position: 'top',\r\n          },\r\n          title: {\r\n            display: true,\r\n            text: 'Monthly chart in ' + year,\r\n          }\r\n        }\r\n      })\r\n      setLoading(true)\r\n  })\r\n  },[year])\r\n  \r\n  if (loading)\r\n  return (\r\n    <div class=\"container rounded content\">\r\n      <div class=\"card\" style={{\"height\": \"600px\", \"width\":\"1000px\"}}>\r\n        {/* Select Year: <input name=\"yearinput\" value = {year} onChange={handleSubmit}/> */}\r\n        <h4 class=\"sub-header\">Select Year:\r\n        <select value={year} onChange={handleSubmit}>\r\n          {loanlistconst.map(res => (\r\n            <option value={res}>\r\n              {res}\r\n            </option>\r\n          ))}\r\n        </select></h4>\r\n        <div style={{\"height\": \"600px\", \"width\":\"1000px\"}}><Bar data={chartData} options = {options}/></div>\r\n      </div>\r\n    </div>\r\n    \r\n    \r\n    \r\n  )\r\n\r\n\r\n}\r\n\r\n","import \"./App.css\";\r\n// ========================= general components =========================\r\n// ======== routing ========\r\nimport { BrowserRouter, Route, Routes, Link } from \"react-router-dom\";\r\nimport React from \"react\";\r\n// ======== nav bar ========\r\nimport Nav from \"react-bootstrap/Nav\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\r\n\r\nimport vid_background from \"./pages/assets/background.mp4\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\n// ========================= pages/entities =========================\r\n// ======== homepage ========\r\nimport Home from \"./pages/home\";\r\n// import HomePage from \"./components/general/home\";\r\n\r\n// ======== authentication ========\r\nimport Authenticate from \"./pages/authentication/authenticate\";\r\n\r\n// ======== loanpass ========\r\nimport Read from \"./components/loanpass/read loanpass\";\r\nimport Update from \"./components/loanpass/update loanpass\";\r\nimport CreateLoanPass from \"./components/loanpass/create loanpass\";\r\nimport LoanApplication from \"./components/loanpass/loan\";\r\n\r\n// ======== booking ========\r\nimport ViewBooking from \"./components/booking/viewbooking\";\r\n\r\n// ======== email template ========\r\nimport EmailTemplatePage from \"./pages/emailtemplates/emailTemplatePage\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport EditEmailTemplate from \"./pages/emailtemplates/editEmailTemplate\";\r\nimport CreateEmailTemplate from \"./pages/emailtemplates/createEmailTemplate\";\r\n\r\n// ================= Users =======================\r\nimport UsersList from \"./pages/users/UsersList\";\r\n\r\n// ================= Attractions =======================\r\nimport AttractionList from \"./pages/attractions/attractionList\";\r\nimport CreateAttractions from \"./pages/attractions/createAttractions\";\r\nimport UpdateAttraction from \"./pages/attractions/updateAttraction\";\r\n// import CreateAttractions from \"./pages/attractions/createAttractions\";\r\n// =============== Singapore Statistics ==============\r\nimport EmployeeStatistics from \"./components/successloan/employeestatistic\";\r\nimport MonthlyStatistics from \"./components/successloan/monthlystatistic\";\r\nimport useAuth from \"./hooks/useAuth\";\r\n\r\nexport default function App() {\r\n  const { setAuth, auth } = useAuth();\r\n  const logout = async () => {\r\n    setAuth({});\r\n    localStorage.setItem(\"auth\", {});\r\n    alert(\"You have been logged out\");\r\n  };\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"App\">\r\n        {/* NAV BAR */}\r\n\r\n        <Navbar bg=\"light\" expand=\"lg\" fixed=\"top\">\r\n          <Container>\r\n            <Navbar.Brand href=\"#home\">Corporate Pass Application</Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n              <Nav className=\"me-auto\" defaultActiveKey=\"/react\" as=\"ul\">\r\n                <Nav.Item as=\"li\">\r\n                  <Nav.Link href=\"\">\r\n                    <Link to=\"/react/auth\" onClick={() => logout()}>\r\n                      Logout\r\n                    </Link>\r\n                  </Nav.Link>\r\n                </Nav.Item>\r\n\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/auth\">Authenticate</Link>\r\n                </Nav.Link>\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/loan\">Loan Application</Link>\r\n                </Nav.Link>\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/viewbooking\">View Booking</Link>\r\n                </Nav.Link>\r\n                {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                  <Nav.Link href=\"\">\r\n                    <Link to=\"/react/emailtemplates\">Email Templates</Link>\r\n                  </Nav.Link>\r\n                )}\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/users\">Users</Link>\r\n                </Nav.Link>\r\n                <Nav.Link href=\"\">\r\n                  <Link to=\"/react/attractions\">Attractions</Link>\r\n                </Nav.Link>\r\n                {auth.roles?.includes(\"ROLE_ADMIN\") && (\r\n                  <Nav.Link title=\"Loan Pass\" id=\"basic-nav-dropdown\">\r\n                    <Link to=\"/react/read\">Loanpass</Link>\r\n                  </Nav.Link>\r\n                )}\r\n                <NavDropdown title=\"Statistics\" id=\"basic-nav-dropdown\">\r\n                  <NavDropdown.Item href=\"\">\r\n                    <Link to=\"/react/employeestatistic\">\r\n                      Employee Statistics\r\n                    </Link>\r\n                  </NavDropdown.Item>\r\n                  <NavDropdown.Item href=\"\">\r\n                    <Link to=\"/react/monthlystatistic\">Monthly Statistics</Link>\r\n                  </NavDropdown.Item>\r\n                  {/* <NavDropdown.Item href=\"\">Something</NavDropdown.Item>\r\n                  <NavDropdown.Divider />\r\n                  <NavDropdown.Item href=\"\">Separated link</NavDropdown.Item> */}\r\n                </NavDropdown>\r\n              </Nav>\r\n            </Navbar.Collapse>\r\n          </Container>\r\n        </Navbar>\r\n\r\n          {/* END OF NAVBAR */}\r\n          <div>\r\n              <video autoPlay loop muted>\r\n              <source src={vid_background} type = \"video/mp4\"></source>\r\n              </video>\r\n            </div>\r\n          <div className=\"main\">\r\n            {/* authentication */}\r\n\r\n          <Routes>\r\n            <Route exact path=\"/react\" element={<Home />} />\r\n            <Route exact path=\"/react/auth\" element={<Authenticate />} />\r\n            {/* loanpass */}\r\n            <Route\r\n              exact\r\n              path=\"/react/createloanpass\"\r\n              element={<CreateLoanPass />}\r\n            />\r\n            <Route exact path=\"/react/read\" element={<Read />} />\r\n            <Route exact path=\"/react/update\" element={<Update />} />\r\n            <Route exact path=\"/react/loan\" element={<LoanApplication />} />\r\n\r\n            {/* booking */}\r\n            <Route exact path=\"/react/viewbooking\" element={<ViewBooking />} />\r\n\r\n            {/* email templates */}\r\n\r\n            <Route\r\n              exact\r\n              path=\"/react/emailtemplates\"\r\n              element={<EmailTemplatePage />}\r\n            />\r\n\r\n            <Route\r\n              exact\r\n              path=\"/react/emailtemplates/create\"\r\n              element={<CreateEmailTemplate />}\r\n            ></Route>\r\n\r\n            <Route\r\n              exact\r\n              path=\"/react/emailtemplates/edit/:emailTemplateId\"\r\n              element={<EditEmailTemplate />}\r\n            ></Route>\r\n\r\n            <Route exact path=\"/react/users\" element={<UsersList />}></Route>\r\n            {/* attractions */}\r\n            <Route\r\n              exact\r\n              path=\"/react/attractions\"\r\n              element={<AttractionList />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/attractions/create\"\r\n              element={<CreateAttractions />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/attractions/:attractionId\"\r\n              element={<UpdateAttraction />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/employeestatistic\"\r\n              element={<EmployeeStatistics />}\r\n            ></Route>\r\n            <Route\r\n              exact\r\n              path=\"/react/monthlystatistic\"\r\n              element={<MonthlyStatistics />}\r\n            ></Route>\r\n          </Routes>\r\n        </div>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { AuthProvider } from \"./context/AuthProvider\";\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}